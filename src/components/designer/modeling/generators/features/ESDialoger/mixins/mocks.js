export const aggregateDraftScenarios = {
    "libraryApplication": {
        "selectedStructureOption": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "importance": "Core Domain",
                    "complexity": 0.7,
                    "differentiation": 0.9,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "events": [
                        "BookRegistered",
                        "BookStateChanged",
                        "BookDiscarded"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ],
                            "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        24,
                                        4
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        84,
                                        4
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        191
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.",
                    "roleRefs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                3,
                                286
                            ]
                        ]
                    ],
                    "commandNames": [
                        "RegisterBook",
                        "ValidateIsbnUniqueness",
                        "DiscardBook",
                        "UpdateBookStatus"
                    ],
                    "readModelNames": [
                        "BookListView",
                        "BookDetailView",
                        "BookCategoryOptions"
                    ]
                },
                {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "importance": "Core Domain",
                    "complexity": 0.8,
                    "differentiation": 0.95,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "events": [
                        "BookLoanRequested",
                        "BookLoaned",
                        "BookReservationRequested",
                        "BookReserved",
                        "BookLoanExtended",
                        "BookReturned"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        82
                                    ]
                                ]
                            ],
                            "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        81
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        19
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태 변경"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        66,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        53
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        223
                                    ],
                                    [
                                        3,
                                        241
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                2
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ],
                    "commandNames": [
                        "BorrowBook",
                        "ReturnBook",
                        "ReserveBook",
                        "ExtendLoan",
                        "VerifyMember"
                    ],
                    "readModelNames": [
                        "LoanStatusListView",
                        "LoanDetailView",
                        "BookSearchView"
                    ]
                },
                {
                    "name": "LoanHistoryQuery",
                    "alias": "대출 및 상태 이력 조회",
                    "importance": "Supporting Domain",
                    "complexity": 0.5,
                    "differentiation": 0.5,
                    "implementationStrategy": "Transaction Script",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "BookStateHistory",
                            "alias": "도서 상태 변경 이력"
                        }
                    ],
                    "events": [
                        "BookLoanHistoryQueried",
                        "BookStateHistoryQueried",
                        "LoanStatusQueried"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        85,
                                        1
                                    ],
                                    [
                                        95,
                                        9
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        111,
                                        9
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        29
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        89
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.",
                    "roleRefs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                64
                            ]
                        ]
                    ],
                    "commandNames": [],
                    "readModelNames": [
                        "BookLoanHistoryView",
                        "BookStatusChangeHistoryView",
                        "LoanStatusSummaryView"
                    ]
                },
                {
                    "aggregates": [],
                    "alias": "프론트 엔드",
                    "complexity": "0.0",
                    "differentiation": "0.0",
                    "events": [],
                    "implementationStrategy": "Transaction Script",
                    "importance": "Generic Domain",
                    "name": "ui",
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        1
                                    ],
                                    [
                                        1,
                                        33
                                    ]
                                ]
                            ],
                            "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        55
                                    ]
                                ]
                            ],
                            "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        47
                                    ]
                                ]
                            ],
                            "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        40
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        1
                                    ],
                                    [
                                        9,
                                        74
                                    ]
                                ]
                            ],
                            "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                        }
                    ],
                    "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                    "commandNames": [],
                    "readModelNames": [
                        "LoanPeriodOptions"
                    ]
                }
            ],
            "relations": [
                {
                    "name": "BookManagement-LoanAndReservation",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                5,
                                238
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanAndReservation-BookManagement",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "downStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "refs": [
                        [
                            [
                                5,
                                198
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanAndReservation-LoanHistoryQuery",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "downStream": {
                        "name": "LoanHistoryQuery",
                        "alias": "대출 및 상태 이력 조회"
                    },
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                64
                            ]
                        ]
                    ]
                },
                {
                    "name": "BookManagement-LoanHistoryQuery",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanHistoryQuery",
                        "alias": "대출 및 상태 이력 조회"
                    },
                    "refs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                9,
                                64
                            ]
                        ]
                    ]
                }
            ],
            "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서의 라이프사이클(등록, 상태변경, 폐기)과 대출/반납/예약 프로세스를 분리하였다. 도서 관리와 대출/반납은 서로 강하게 연결되어 있으나, 각각의 책임과 데이터 일관성을 유지하기 위해 별도의 Bounded Context로 분리하였다. 이력 및 현황 조회는 트랜잭션 복잡도가 낮고, 주로 읽기 중심의 Supporting Domain으로 분리하여 전체 도서 및 대출 상태의 추적 기능을 담당하도록 하였다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되어 있으며, 데이터 일관성은 이벤트를 통해 유지된다.",
            "explanations": [
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출/반납 및 예약",
                    "relationType": "Pub/Sub",
                    "reason": "도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.",
                    "interactionPattern": "도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                5,
                                238
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 및 예약",
                    "targetContext": "도서 관리",
                    "relationType": "Pub/Sub",
                    "reason": "대출, 반납, 예약 등 회원의 행위에 따라 도서 상태가 변경되어야 하므로 이벤트로 상태 변경을 알린다.",
                    "interactionPattern": "대출/반납/예약 처리 후 도서 상태 변경 이벤트를 발행하여 도서 관리 컨텍스트에서 상태를 갱신한다.",
                    "refs": [
                        [
                            [
                                5,
                                198
                            ],
                            [
                                7,
                                184
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 및 예약",
                    "targetContext": "대출 및 상태 이력 조회",
                    "relationType": "Pub/Sub",
                    "reason": "대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.",
                    "interactionPattern": "대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                64
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출 및 상태 이력 조회",
                    "relationType": "Pub/Sub",
                    "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.",
                    "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                    "refs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                9,
                                64
                            ]
                        ]
                    ]
                }
            ],
            "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
            "currentGeneratedLength": 5184
        },
        "resultDevideBoundedContext": {
            "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStateChanged",
                            "BookDiscarded"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            24,
                                            4
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    286
                                ]
                            ]
                        ],
                        "commandNames": [
                            "RegisterBook",
                            "ValidateIsbnUniqueness",
                            "DiscardBook",
                            "UpdateBookStatus"
                        ],
                        "readModelNames": [
                            "BookListView",
                            "BookDetailView",
                            "BookCategoryOptions"
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoanRequested",
                            "BookLoaned",
                            "BookReservationRequested",
                            "BookReserved",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            82
                                        ]
                                    ]
                                ],
                                "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            81
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            19
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태 변경"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ],
                        "commandNames": [
                            "BorrowBook",
                            "ReturnBook",
                            "ReserveBook",
                            "ExtendLoan",
                            "VerifyMember"
                        ],
                        "readModelNames": [
                            "LoanStatusListView",
                            "LoanDetailView",
                            "BookSearchView"
                        ]
                    },
                    {
                        "name": "LoanHistoryQuery",
                        "alias": "대출 및 상태 이력 조회",
                        "importance": "Supporting Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "BookStateHistory",
                                "alias": "도서 상태 변경 이력"
                            }
                        ],
                        "events": [
                            "BookLoanHistoryQueried",
                            "BookStateHistoryQueried",
                            "LoanStatusQueried"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            95,
                                            9
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            111,
                                            9
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ],
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistoryView",
                            "BookStatusChangeHistoryView",
                            "LoanStatusSummaryView"
                        ]
                    },
                    {
                        "aggregates": [],
                        "alias": "프론트 엔드",
                        "complexity": "0.0",
                        "differentiation": "0.0",
                        "events": [],
                        "implementationStrategy": "Transaction Script",
                        "importance": "Generic Domain",
                        "name": "ui",
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            33
                                        ]
                                    ]
                                ],
                                "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            55
                                        ]
                                    ]
                                ],
                                "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            47
                                        ]
                                    ]
                                ],
                                "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            40
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            74
                                        ]
                                    ]
                                ],
                                "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                            }
                        ],
                        "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                        "commandNames": [],
                        "readModelNames": [
                            "LoanPeriodOptions"
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    5,
                                    238
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-BookManagement",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistoryQuery",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistoryQuery",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서의 라이프사이클(등록, 상태변경, 폐기)과 대출/반납/예약 프로세스를 분리하였다. 도서 관리와 대출/반납은 서로 강하게 연결되어 있으나, 각각의 책임과 데이터 일관성을 유지하기 위해 별도의 Bounded Context로 분리하였다. 이력 및 현황 조회는 트랜잭션 복잡도가 낮고, 주로 읽기 중심의 Supporting Domain으로 분리하여 전체 도서 및 대출 상태의 추적 기능을 담당하도록 하였다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되어 있으며, 데이터 일관성은 이벤트를 통해 유지된다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.",
                        "interactionPattern": "도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    5,
                                    238
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "도서 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 예약 등 회원의 행위에 따라 도서 상태가 변경되어야 하므로 이벤트로 상태 변경을 알린다.",
                        "interactionPattern": "대출/반납/예약 처리 후 도서 상태 변경 이벤트를 발행하여 도서 관리 컨텍스트에서 상태를 갱신한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "대출 및 상태 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.",
                        "interactionPattern": "대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출 및 상태 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.",
                        "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5184
            }
        },
        "boundedContextVersion": {
            "data": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStateChanged",
                            "BookDiscarded"
                        ],
                        "requirements": [],
                        "role": "도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    286
                                ]
                            ]
                        ],
                        "commandNames": [
                            "RegisterBook",
                            "ValidateIsbnUniqueness",
                            "DiscardBook",
                            "UpdateBookStatus"
                        ],
                        "readModelNames": [
                            "BookListView",
                            "BookDetailView",
                            "BookCategoryOptions"
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoanRequested",
                            "BookLoaned",
                            "BookReservationRequested",
                            "BookReserved",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "requirements": [],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ],
                        "commandNames": [
                            "BorrowBook",
                            "ReturnBook",
                            "ReserveBook",
                            "ExtendLoan",
                            "VerifyMember"
                        ],
                        "readModelNames": [
                            "LoanStatusListView",
                            "LoanDetailView",
                            "BookSearchView"
                        ]
                    },
                    {
                        "name": "LoanHistoryQuery",
                        "alias": "대출 및 상태 이력 조회",
                        "importance": "Supporting Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "BookStateHistory",
                                "alias": "도서 상태 변경 이력"
                            }
                        ],
                        "events": [
                            "BookLoanHistoryQueried",
                            "BookStateHistoryQueried",
                            "LoanStatusQueried"
                        ],
                        "requirements": [],
                        "role": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ],
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistoryView",
                            "BookStatusChangeHistoryView",
                            "LoanStatusSummaryView"
                        ]
                    },
                    {
                        "aggregates": [],
                        "alias": "프론트 엔드",
                        "complexity": "0.0",
                        "differentiation": "0.0",
                        "events": [],
                        "implementationStrategy": "Transaction Script",
                        "importance": "Generic Domain",
                        "name": "ui",
                        "requirements": [],
                        "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                        "commandNames": [],
                        "readModelNames": [
                            "LoanPeriodOptions"
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    5,
                                    238
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-BookManagement",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistoryQuery",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistoryQuery",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서의 라이프사이클(등록, 상태변경, 폐기)과 대출/반납/예약 프로세스를 분리하였다. 도서 관리와 대출/반납은 서로 강하게 연결되어 있으나, 각각의 책임과 데이터 일관성을 유지하기 위해 별도의 Bounded Context로 분리하였다. 이력 및 현황 조회는 트랜잭션 복잡도가 낮고, 주로 읽기 중심의 Supporting Domain으로 분리하여 전체 도서 및 대출 상태의 추적 기능을 담당하도록 하였다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되어 있으며, 데이터 일관성은 이벤트를 통해 유지된다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.",
                        "interactionPattern": "도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    5,
                                    238
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "도서 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 예약 등 회원의 행위에 따라 도서 상태가 변경되어야 하므로 이벤트로 상태 변경을 알린다.",
                        "interactionPattern": "대출/반납/예약 처리 후 도서 상태 변경 이벤트를 발행하여 도서 관리 컨텍스트에서 상태를 갱신한다.",
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    7,
                                    184
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "대출 및 상태 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.",
                        "interactionPattern": "대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출 및 상태 이력 조회",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.",
                        "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    9,
                                    64
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 5184
            },
            "version": 1,
            "aspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
        },
        "draftOptions": {
            "BookManagement": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Book",
                            "alias": "도서",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        286
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        3,
                                        44
                                    ]
                                ],
                                [
                                    [
                                        25,
                                        14
                                    ],
                                    [
                                        25,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        26,
                                        1
                                    ],
                                    [
                                        26,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        27,
                                        1
                                    ],
                                    [
                                        27,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        28,
                                        1
                                    ],
                                    [
                                        28,
                                        37
                                    ]
                                ],
                                [
                                    [
                                        29,
                                        1
                                    ],
                                    [
                                        29,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        30,
                                        1
                                    ],
                                    [
                                        30,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        1
                                    ],
                                    [
                                        31,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        32,
                                        1
                                    ],
                                    [
                                        32,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        33,
                                        1
                                    ],
                                    [
                                        33,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        34,
                                        1
                                    ],
                                    [
                                        34,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        35,
                                        1
                                    ],
                                    [
                                        35,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        36,
                                        1
                                    ],
                                    [
                                        36,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        37,
                                        1
                                    ],
                                    [
                                        37,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        38,
                                        1
                                    ],
                                    [
                                        38,
                                        28
                                    ]
                                ],
                                [
                                    [
                                        39,
                                        1
                                    ],
                                    [
                                        39,
                                        26
                                    ]
                                ],
                                [
                                    [
                                        40,
                                        1
                                    ],
                                    [
                                        40,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        41,
                                        1
                                    ],
                                    [
                                        41,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        42,
                                        1
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ],
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookCategory",
                                "alias": "도서 카테고리",
                                "refs": [
                                    [
                                        [
                                            3,
                                            135
                                        ],
                                        [
                                            3,
                                            162
                                        ]
                                    ],
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "Isbn",
                                "alias": "ISBN",
                                "referencedAggregateName": "",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            71
                                        ],
                                        [
                                            3,
                                            74
                                        ]
                                    ],
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            6
                                        ],
                                        [
                                            9,
                                            10
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            222
                                        ],
                                        [
                                            3,
                                            224
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryReference",
                                "alias": "대출 이력 참조",
                                "referencedAggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            6
                                        ],
                                        [
                                            9,
                                            10
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStateHistoryReference",
                                "alias": "도서 상태 변경 이력 참조",
                                "referencedAggregate": {
                                    "name": "BookStateHistory",
                                    "alias": "도서 상태 변경 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            13
                                        ],
                                        [
                                            9,
                                            20
                                        ]
                                    ],
                                    [
                                        [
                                            85,
                                            14
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ],
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ],
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ],
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ],
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            17
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "도서의 라이프사이클, 상태, 폐기, 카테고리 등 모든 관리 기능이 Book Aggregate에 집중되어 있어 일관된 도서 관리가 가능합니다.",
                    "coupling": "외부 컨텍스트와의 의존성이 ValueObject 참조로 제한되어 결합도가 낮고, 도서 관리의 독립성이 보장됩니다.",
                    "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙이 단일 트랜잭션 내에서 원자적으로 보장됩니다.",
                    "encapsulation": "도서의 상태, ISBN, 카테고리 등 핵심 도메인 규칙이 Aggregate 내부에 잘 은닉되어 있습니다.",
                    "complexity": "단일 Aggregate로 구조가 단순하여 개발 및 유지보수가 용이합니다.",
                    "independence": "도서 관리 정책 변경 시 다른 Aggregate에 영향 없이 독립적으로 진화할 수 있습니다.",
                    "performance": "도서 관련 조회 및 상태 변경이 한 Aggregate에서 처리되어 쿼리 효율성이 높습니다."
                },
                "cons": {
                    "cohesion": "카테고리 관리, 상태 이력 등 다양한 책임이 한 Aggregate에 모여 있어 향후 기능 확장 시 복잡도가 증가할 수 있습니다.",
                    "coupling": "도서 관련 모든 변경이 Book Aggregate에 집중되어 동시성 이슈가 발생할 수 있습니다.",
                    "consistency": "상태 이력, 대출/예약 등 외부 시스템과의 동기화가 느슨해져 일시적 불일치가 발생할 수 있습니다.",
                    "encapsulation": "카테고리나 이력 관리 등 일부 세부 도메인 규칙이 Aggregate 내부에서 과도하게 은닉될 수 있습니다.",
                    "complexity": "도서 관리 기능이 많아질수록 Aggregate가 비대해질 위험이 있습니다.",
                    "independence": "카테고리 정책 등 일부 기능의 독립적 진화가 어렵습니다.",
                    "performance": "도서 등록/상태 변경/폐기 등 다양한 작업이 집중될 경우 트랜잭션 경합이 발생할 수 있습니다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "displayName": "도서 관리",
                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookRegistered, BookStateChanged, BookDiscarded 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            17
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            301
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            63
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            24,
                                            1
                                        ],
                                        [
                                            24,
                                            6
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            25,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            26,
                                            1
                                        ],
                                        [
                                            26,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            27,
                                            1
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            32,
                                            1
                                        ],
                                        [
                                            32,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            33,
                                            1
                                        ],
                                        [
                                            33,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            34,
                                            1
                                        ],
                                        [
                                            34,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            35,
                                            1
                                        ],
                                        [
                                            35,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            36,
                                            1
                                        ],
                                        [
                                            36,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            37,
                                            1
                                        ],
                                        [
                                            37,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            38,
                                            1
                                        ],
                                        [
                                            38,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            39,
                                            1
                                        ],
                                        [
                                            39,
                                            26
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            40,
                                            1
                                        ],
                                        [
                                            40,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            41,
                                            1
                                        ],
                                        [
                                            41,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            42,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            84,
                                            1
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "132": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [
                            "RegisterBook",
                            "ValidateIsbnUniqueness",
                            "DiscardBook",
                            "UpdateBookStatus"
                        ],
                        "readModelNames": [
                            "BookListView",
                            "BookDetailView",
                            "BookCategoryOptions"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
            },
            "LoanAndReservation": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Loan",
                            "alias": "대출",
                            "refs": [
                                [
                                    [
                                        45,
                                        14
                                    ],
                                    [
                                        45,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        46,
                                        1
                                    ],
                                    [
                                        46,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        47,
                                        1
                                    ],
                                    [
                                        47,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        48,
                                        1
                                    ],
                                    [
                                        48,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        49,
                                        1
                                    ],
                                    [
                                        49,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        50,
                                        1
                                    ],
                                    [
                                        50,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        51,
                                        1
                                    ],
                                    [
                                        51,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        52,
                                        1
                                    ],
                                    [
                                        52,
                                        74
                                    ]
                                ],
                                [
                                    [
                                        53,
                                        1
                                    ],
                                    [
                                        53,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        54,
                                        1
                                    ],
                                    [
                                        54,
                                        34
                                    ]
                                ],
                                [
                                    [
                                        55,
                                        1
                                    ],
                                    [
                                        55,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        56,
                                        1
                                    ],
                                    [
                                        56,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        57,
                                        1
                                    ],
                                    [
                                        57,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        58,
                                        1
                                    ],
                                    [
                                        58,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        59,
                                        1
                                    ],
                                    [
                                        59,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        60,
                                        1
                                    ],
                                    [
                                        60,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        61,
                                        1
                                    ],
                                    [
                                        61,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        62,
                                        1
                                    ],
                                    [
                                        62,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        63,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        1
                                    ],
                                    [
                                        5,
                                        40
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        73
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 상태",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            18
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryReference",
                                "alias": "대출 이력 참조",
                                "referencedAggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            99,
                                            14
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ],
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ],
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ],
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ],
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ],
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ],
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ],
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            23
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregate": {
                            "name": "Reservation",
                            "alias": "예약",
                            "refs": [
                                [
                                    [
                                        66,
                                        14
                                    ],
                                    [
                                        66,
                                        27
                                    ]
                                ],
                                [
                                    [
                                        67,
                                        1
                                    ],
                                    [
                                        67,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        68,
                                        1
                                    ],
                                    [
                                        68,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        69,
                                        1
                                    ],
                                    [
                                        69,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        70,
                                        1
                                    ],
                                    [
                                        70,
                                        56
                                    ]
                                ],
                                [
                                    [
                                        71,
                                        1
                                    ],
                                    [
                                        71,
                                        61
                                    ]
                                ],
                                [
                                    [
                                        72,
                                        1
                                    ],
                                    [
                                        72,
                                        44
                                    ]
                                ],
                                [
                                    [
                                        73,
                                        1
                                    ],
                                    [
                                        73,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        74,
                                        1
                                    ],
                                    [
                                        74,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        75,
                                        1
                                    ],
                                    [
                                        75,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        76,
                                        1
                                    ],
                                    [
                                        76,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        77,
                                        1
                                    ],
                                    [
                                        77,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        78,
                                        1
                                    ],
                                    [
                                        78,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        79,
                                        1
                                    ],
                                    [
                                        79,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        80,
                                        1
                                    ],
                                    [
                                        80,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        81,
                                        1
                                    ],
                                    [
                                        81,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        82,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "ReservationStatus",
                                "alias": "예약 상태",
                                "refs": [
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            43
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            49
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각자의 책임과 비즈니스 규칙을 명확하게 유지할 수 있습니다.",
                    "coupling": "도서, 이력 등은 ValueObject 참조로만 연결되어 있어 Aggregate 간 결합도가 낮아집니다.",
                    "consistency": "대출 및 예약 각각의 트랜잭션 경계 내에서 상태 변경 및 이력 기록이 원자적으로 처리되어 비즈니스 불변성이 잘 보장됩니다.",
                    "encapsulation": "대출과 예약의 상태 전이, 연장, 취소 등 복잡한 도메인 규칙이 Aggregate 내부에 잘 은닉됩니다.",
                    "complexity": "각 Aggregate가 단일 책임을 가지므로 도메인 모델이 명확하고 이해하기 쉽습니다.",
                    "independence": "대출과 예약의 도메인 정책 변경이나 확장이 서로 영향을 주지 않고 독립적으로 가능합니다.",
                    "performance": "대출 현황, 예약 현황 등 조회 시 단일 Aggregate만 접근하면 되어 효율적입니다."
                },
                "cons": {
                    "cohesion": "대출과 예약이 서로 긴밀하게 연결되는 시나리오(예: 반납 시 예약자 자동 처리)에서는 추가적인 조정 로직이 필요합니다.",
                    "coupling": "예약과 대출 간 상태 연동이 이벤트 기반으로만 처리되어 일시적 불일치가 발생할 수 있습니다.",
                    "consistency": "예약과 대출이 별도 트랜잭션으로 처리되므로 복합 상태 변경 시 일관성 보장이 어렵습니다.",
                    "encapsulation": "예약과 대출 간 복합 비즈니스 규칙(예: 예약 우선순위 반영)이 Aggregate 외부에서 구현되어야 합니다.",
                    "complexity": "예약-대출 간 상태 전이 및 이벤트 핸들링 로직이 서비스 계층에 분산될 수 있습니다.",
                    "independence": "예약과 대출의 상태가 서로 영향을 주는 경우, 완전한 독립성은 보장되지 않습니다.",
                    "performance": "예약-대출 상태를 동시에 조회하거나 갱신할 때 두 Aggregate를 모두 접근해야 하므로 복합 쿼리 성능이 저하될 수 있습니다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "displayName": "대출/반납 및 예약",
                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "requirements": {
                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n대출 이력과 상태 변경",
                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                        "event": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoanRequested, BookLoaned, BookReservationRequested, BookReserved, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            23
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            43
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "10": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "11": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "12": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "18": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            82
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "20": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            81
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            45,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            46,
                                            1
                                        ],
                                        [
                                            46,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            47,
                                            1
                                        ],
                                        [
                                            47,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            48,
                                            1
                                        ],
                                        [
                                            48,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            49,
                                            1
                                        ],
                                        [
                                            49,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            50,
                                            1
                                        ],
                                        [
                                            50,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            51,
                                            1
                                        ],
                                        [
                                            51,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            52,
                                            1
                                        ],
                                        [
                                            52,
                                            74
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            53,
                                            1
                                        ],
                                        [
                                            53,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            54,
                                            1
                                        ],
                                        [
                                            54,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            55,
                                            1
                                        ],
                                        [
                                            55,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            56,
                                            1
                                        ],
                                        [
                                            56,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            57,
                                            1
                                        ],
                                        [
                                            57,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            58,
                                            1
                                        ],
                                        [
                                            58,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            59,
                                            1
                                        ],
                                        [
                                            59,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            60,
                                            1
                                        ],
                                        [
                                            60,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            61,
                                            1
                                        ],
                                        [
                                            61,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            62,
                                            1
                                        ],
                                        [
                                            62,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            63,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "132": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "137": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "146": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "150": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "151": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "152": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "153": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "154": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "155": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "156": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "157": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "158": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "159": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "160": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "161": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "162": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "163": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "164": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "165": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "166": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "167": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "171": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "172": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "173": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "174": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "175": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "176": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "177": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "178": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "179": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "180": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "181": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "182": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "183": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "184": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "185": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "186": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "187": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "188": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "189": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "193": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "194": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "195": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "196": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "197": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "198": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "199": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "200": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "201": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "202": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "203": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "204": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "205": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "206": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "207": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "208": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "209": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "210": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "211": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "215": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "216": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "217": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "218": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "219": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "220": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "221": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "222": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "223": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "224": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "225": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "226": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "227": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "228": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "234": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "235": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "236": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "237": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "240": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "241": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "242": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "243": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "246": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "247": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "248": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "249": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [
                            "BorrowBook",
                            "ReturnBook",
                            "ReserveBook",
                            "ExtendLoan",
                            "VerifyMember"
                        ],
                        "readModelNames": [
                            "LoanStatusListView",
                            "LoanDetailView",
                            "BookSearchView"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다."
            },
            "LoanHistoryQuery": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "LoanHistory",
                            "alias": "대출 및 상태 이력 통합",
                            "refs": [
                                [
                                    [
                                        99,
                                        14
                                    ],
                                    [
                                        99,
                                        27
                                    ]
                                ],
                                [
                                    [
                                        100,
                                        1
                                    ],
                                    [
                                        100,
                                        46
                                    ]
                                ],
                                [
                                    [
                                        101,
                                        1
                                    ],
                                    [
                                        101,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        102,
                                        1
                                    ],
                                    [
                                        102,
                                        64
                                    ]
                                ],
                                [
                                    [
                                        103,
                                        1
                                    ],
                                    [
                                        103,
                                        51
                                    ]
                                ],
                                [
                                    [
                                        104,
                                        1
                                    ],
                                    [
                                        104,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        105,
                                        1
                                    ],
                                    [
                                        105,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        106,
                                        1
                                    ],
                                    [
                                        106,
                                        15
                                    ]
                                ],
                                [
                                    [
                                        107,
                                        1
                                    ],
                                    [
                                        107,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        108,
                                        1
                                    ],
                                    [
                                        108,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        109,
                                        1
                                    ],
                                    [
                                        109,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        110,
                                        1
                                    ],
                                    [
                                        110,
                                        40
                                    ]
                                ],
                                [
                                    [
                                        111,
                                        1
                                    ],
                                    [
                                        111,
                                        9
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        1
                                    ],
                                    [
                                        9,
                                        57
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanActionType",
                                "alias": "대출 이력 액션 유형",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            52
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            45
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            11
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            11
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출 이력과 상태 변경 이력이 하나의 애그리거트에 통합되어 도서별 전체 이력 관리가 용이하다.",
                    "coupling": "이력 관련 모든 기능이 하나의 애그리거트에 집중되어 외부 결합이 거의 없다.",
                    "consistency": "대출 및 상태 변경 이력의 동시 갱신이 필요한 복합 이벤트도 단일 트랜잭션으로 일관성 있게 처리할 수 있다.",
                    "encapsulation": "이력 관련 모든 도메인 규칙과 상태 전이가 애그리거트 내부에 집중되어 은닉성이 높다.",
                    "complexity": "도서별 전체 이력 조회 및 복합 규칙 구현이 단순해지고, 쿼리도 단일 테이블에서 처리 가능하다.",
                    "independence": "이력 관리 정책 변경 시 단일 애그리거트만 수정하면 되어 영향 범위가 작다.",
                    "performance": "도서별 전체 이력 조회 시 단일 애그리거트 접근으로 쿼리 효율이 높다."
                },
                "cons": {
                    "cohesion": "대출 이력과 상태 변경 이력의 도메인 책임이 혼합되어 단일 책임 원칙이 약화된다.",
                    "coupling": "이력 구조가 복잡해질수록 애그리거트 내부 결합도가 높아지고, 유지보수가 어려워질 수 있다.",
                    "consistency": "이력 데이터가 커질수록 트랜잭션 경계가 커져 동시성 이슈 및 성능 저하가 발생할 수 있다.",
                    "encapsulation": "도메인 규칙이 복잡하게 얽히면 내부 구현이 난해해질 수 있다.",
                    "complexity": "이력 유형별로 로직이 분기되어 코드 복잡도가 증가할 수 있다.",
                    "independence": "대출 이력과 상태 변경 이력 중 하나만 변경해도 전체 애그리거트가 영향을 받는다.",
                    "performance": "이력 데이터가 대량으로 누적될 경우, 단일 애그리거트의 저장/조회 성능이 저하될 수 있다."
                },
                "isAIRecommended": true,
                "boundedContext": {
                    "name": "LoanHistoryQuery",
                    "alias": "대출 및 상태 이력 조회",
                    "displayName": "대출 및 상태 이력 조회",
                    "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "BookStateHistory",
                            "alias": "도서 상태 변경 이력"
                        }
                    ],
                    "requirements": {
                        "userStory": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적",
                        "ddl": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                        "event": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoanHistoryQueried, BookStateHistoryQueried, LoanStatusQueried 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ],
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "20": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "21": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            9
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            9
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistoryView",
                            "BookStatusChangeHistoryView",
                            "LoanStatusSummaryView"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
            }
        },
        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
        "state": {
            "generator": "RequirementsMappingGenerator",
            "isAIModelSelected": false,
            "firstMessageIsTyping": true,
            "secondMessageIsTyping": false,
            "userStory": "",
            "communicationStyle": "Choreography",
            "aggregateDetail": false,
            "uiStyle": null,
            "associatedProject": "225eb6580cdb789712d9cc59ec12b748"
        },
        "messages": [
            {
                "uniqueId": "ac34ca01e9ae649f837af07e96f68092",
                "type": "processAnalysis",
                "isAnalizing": false,
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "processingRate": 0,
                "content": {
                    "type": "ANALYSIS_RESULT",
                    "projectName": "Requirements Analysis",
                    "content": {
                        "elements": {
                            "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00",
                                "name": "Librarian",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00",
                                    "x": 150,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "ad8d121b-6742-5b6b-1a6c-c823311e8a23": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "ad8d121b-6742-5b6b-1a6c-c823311e8a23",
                                "name": "Member",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "ad8d121b-6742-5b6b-1a6c-c823311e8a23",
                                    "x": 150,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "de7ca3b5-eb47-ecb6-724e-316eed8d43a7": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "de7ca3b5-eb47-ecb6-724e-316eed8d43a7",
                                "name": "System",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "de7ca3b5-eb47-ecb6-724e-316eed8d43a7",
                                    "x": 150,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                "visibility": "public",
                                "name": "BookRegistered",
                                "oldName": "",
                                "displayName": "도서 등록됨",
                                "namePascalCase": "BookRegistered",
                                "nameCamelCase": "bookRegistered",
                                "namePlural": "",
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                    "x": 300,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                    "x": 300,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "5b73d738-775d-e00e-d8c3-52654d7b7be6": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                "visibility": "public",
                                "name": "BookDiscarded",
                                "oldName": "",
                                "displayName": "도서 폐기됨",
                                "namePascalCase": "BookDiscarded",
                                "nameCamelCase": "bookDiscarded",
                                "namePlural": "",
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                    "x": 500,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                    "x": 500,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "f2a6bf89-efff-59c6-0095-94125810e00c": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                                "visibility": "public",
                                "name": "BookLoanHistoryQueried",
                                "oldName": "",
                                "displayName": "도서 대출 이력 조회됨",
                                "namePascalCase": "BookLoanHistoryQueried",
                                "nameCamelCase": "bookLoanHistoryQueried",
                                "namePlural": "",
                                "description": "사서가 특정 도서의 대출 이력을 조회함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                                    "x": 700,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                                    "x": 700,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "0489d40f-8a31-f424-ac35-dc49d045adc4": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                                "visibility": "public",
                                "name": "BookStateHistoryQueried",
                                "oldName": "",
                                "displayName": "도서 상태 변경 이력 조회됨",
                                "namePascalCase": "BookStateHistoryQueried",
                                "nameCamelCase": "bookStateHistoryQueried",
                                "namePlural": "",
                                "description": "사서가 특정 도서의 상태 변경 이력을 조회함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                                    "x": 900,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                                    "x": 900,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "54be371d-2ee4-fb8b-5d4a-7d6c82caf567": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                                "visibility": "public",
                                "name": "LoanStatusQueried",
                                "oldName": "",
                                "displayName": "대출 현황 조회됨",
                                "namePascalCase": "LoanStatusQueried",
                                "nameCamelCase": "loanStatusQueried",
                                "namePlural": "",
                                "description": "사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                                    "x": 1100,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                                    "x": 1100,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "8d1cd322-3561-f181-bc70-e20744e0e020": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "visibility": "public",
                                "name": "BookStateChanged",
                                "oldName": "",
                                "displayName": "도서 상태 변경됨",
                                "namePascalCase": "BookStateChanged",
                                "nameCamelCase": "bookStateChanged",
                                "namePlural": "",
                                "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "x": 300,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "x": 300,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "a83f9177-6b89-fea5-550b-dad72f3b53f8": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "visibility": "public",
                                "name": "BookLoaned",
                                "oldName": "",
                                "displayName": "도서 대출됨",
                                "namePascalCase": "BookLoaned",
                                "nameCamelCase": "bookLoaned",
                                "namePlural": "",
                                "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "x": 500,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "x": 500,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "be493e08-68f9-1e2e-7cf9-4ae968bba117": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "visibility": "public",
                                "name": "BookReserved",
                                "oldName": "",
                                "displayName": "도서 예약됨",
                                "namePascalCase": "BookReserved",
                                "nameCamelCase": "bookReserved",
                                "namePlural": "",
                                "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "x": 700,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "x": 700,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "9399ef76-71ba-237a-fcbf-41344e5852be": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "visibility": "public",
                                "name": "BookLoanRequested",
                                "oldName": "",
                                "displayName": "도서 대출 신청됨",
                                "namePascalCase": "BookLoanRequested",
                                "nameCamelCase": "bookLoanRequested",
                                "namePlural": "",
                                "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "x": 300,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "x": 300,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "visibility": "public",
                                "name": "BookReservationRequested",
                                "oldName": "",
                                "displayName": "도서 예약 신청됨",
                                "namePascalCase": "BookReservationRequested",
                                "nameCamelCase": "bookReservationRequested",
                                "namePlural": "",
                                "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "x": 500,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "x": 500,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "1915f7d0-08f6-813d-8270-617572cc603f": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "visibility": "public",
                                "name": "BookLoanExtended",
                                "oldName": "",
                                "displayName": "도서 대출 연장됨",
                                "namePascalCase": "BookLoanExtended",
                                "nameCamelCase": "bookLoanExtended",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "x": 700,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "x": 700,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "7c56b384-a505-d56b-12dd-1c0984f87d5f": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "visibility": "public",
                                "name": "BookReturned",
                                "oldName": "",
                                "displayName": "도서 반납됨",
                                "namePascalCase": "BookReturned",
                                "nameCamelCase": "bookReturned",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "x": 900,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "x": 900,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            }
                        },
                        "relations": {
                            "1525565b-2b4c-09c9-66c6-988f001b5742": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "1525565b-2b4c-09c9-66c6-988f001b5742",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "1525565b-2b4c-09c9-66c6-988f001b5742",
                                "to": "1525565b-2b4c-09c9-66c6-988f001b5742",
                                "description": "",
                                "relationView": {
                                    "id": "1525565b-2b4c-09c9-66c6-988f001b5742",
                                    "value": "[[0,275],[2000,275]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,275],[2000,275]]"
                            },
                            "b328a1b1-a451-0ce6-67be-4638c0544e70": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                                "to": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                                "description": "",
                                "relationView": {
                                    "id": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                                    "value": "[[0,525],[2000,525]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,525],[2000,525]]"
                            },
                            "8fe30866-1422-4d3f-17f4-e48a88bc673f": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                                "to": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                                "description": "",
                                "relationView": {
                                    "id": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                                    "value": "[[0,775],[2000,775]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,775],[2000,775]]"
                            },
                            "277c69af-adfb-136c-2286-aa6cecc31f4c": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "277c69af-adfb-136c-2286-aa6cecc31f4c",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                    "visibility": "public",
                                    "name": "BookRegistered",
                                    "oldName": "",
                                    "displayName": "도서 등록됨",
                                    "namePascalCase": "BookRegistered",
                                    "nameCamelCase": "bookRegistered",
                                    "namePlural": "",
                                    "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                        "x": 300,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                        "x": 300,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "relationView": {
                                    "id": "277c69af-adfb-136c-2286-aa6cecc31f4c",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                    "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "needReconnect": true
                                }
                            },
                            "2ff222bf-3e93-0493-1568-690b3c2c85ab": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "2ff222bf-3e93-0493-1568-690b3c2c85ab",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                    "visibility": "public",
                                    "name": "BookDiscarded",
                                    "oldName": "",
                                    "displayName": "도서 폐기됨",
                                    "namePascalCase": "BookDiscarded",
                                    "nameCamelCase": "bookDiscarded",
                                    "namePlural": "",
                                    "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                        "x": 500,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                        "x": 500,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "to": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                "relationView": {
                                    "id": "2ff222bf-3e93-0493-1568-690b3c2c85ab",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "to": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                    "needReconnect": true
                                }
                            },
                            "cc55045f-3815-a51b-f7a8-4be7cb319da6": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "cc55045f-3815-a51b-f7a8-4be7cb319da6",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "relationView": {
                                    "id": "cc55045f-3815-a51b-f7a8-4be7cb319da6",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "needReconnect": true
                                }
                            },
                            "992ddc1a-ab60-228d-6846-d13166116e00": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "992ddc1a-ab60-228d-6846-d13166116e00",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "relationView": {
                                    "id": "992ddc1a-ab60-228d-6846-d13166116e00",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "needReconnect": true
                                }
                            },
                            "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "relationView": {
                                    "id": "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "needReconnect": true
                                }
                            },
                            "75cfb654-907b-b179-c652-e71fb6ceea8c": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "75cfb654-907b-b179-c652-e71fb6ceea8c",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "visibility": "public",
                                    "name": "BookLoanRequested",
                                    "oldName": "",
                                    "displayName": "도서 대출 신청됨",
                                    "namePascalCase": "BookLoanRequested",
                                    "nameCamelCase": "bookLoanRequested",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "relationView": {
                                    "id": "75cfb654-907b-b179-c652-e71fb6ceea8c",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "needReconnect": true
                                }
                            },
                            "fc9c560e-4d24-2ec2-f551-fb3f84f3af15": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "fc9c560e-4d24-2ec2-f551-fb3f84f3af15",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "visibility": "public",
                                    "name": "BookLoanRequested",
                                    "oldName": "",
                                    "displayName": "도서 대출 신청됨",
                                    "namePascalCase": "BookLoanRequested",
                                    "nameCamelCase": "bookLoanRequested",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "visibility": "public",
                                    "name": "BookReservationRequested",
                                    "oldName": "",
                                    "displayName": "도서 예약 신청됨",
                                    "namePascalCase": "BookReservationRequested",
                                    "nameCamelCase": "bookReservationRequested",
                                    "namePlural": "",
                                    "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "to": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "relationView": {
                                    "id": "fc9c560e-4d24-2ec2-f551-fb3f84f3af15",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                    "to": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "needReconnect": true
                                }
                            },
                            "cff4b09f-44c8-ad70-b0b2-ff463c690216": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "cff4b09f-44c8-ad70-b0b2-ff463c690216",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "visibility": "public",
                                    "name": "BookLoanExtended",
                                    "oldName": "",
                                    "displayName": "도서 대출 연장됨",
                                    "namePascalCase": "BookLoanExtended",
                                    "nameCamelCase": "bookLoanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "to": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "relationView": {
                                    "id": "cff4b09f-44c8-ad70-b0b2-ff463c690216",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "to": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "needReconnect": true
                                }
                            },
                            "143b6d23-8971-16a6-ac25-66aa8152ee64": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "143b6d23-8971-16a6-ac25-66aa8152ee64",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "relationView": {
                                    "id": "143b6d23-8971-16a6-ac25-66aa8152ee64",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "needReconnect": true
                                }
                            },
                            "a346a27c-521a-0d7b-f9a8-3e0536407b4d": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "a346a27c-521a-0d7b-f9a8-3e0536407b4d",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "visibility": "public",
                                    "name": "BookReservationRequested",
                                    "oldName": "",
                                    "displayName": "도서 예약 신청됨",
                                    "namePascalCase": "BookReservationRequested",
                                    "nameCamelCase": "bookReservationRequested",
                                    "namePlural": "",
                                    "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "relationView": {
                                    "id": "a346a27c-521a-0d7b-f9a8-3e0536407b4d",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                    "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "needReconnect": true
                                }
                            },
                            "1993b5c4-d826-0694-8f50-051571806a12": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "1993b5c4-d826-0694-8f50-051571806a12",
                                "name": "3",
                                "displayName": "3",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                        "x": 700,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "relationView": {
                                    "id": "1993b5c4-d826-0694-8f50-051571806a12",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                    "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                    "needReconnect": true
                                }
                            },
                            "0701120d-a170-e010-c9d0-8882d78fe149": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "0701120d-a170-e010-c9d0-8882d78fe149",
                                "name": "3",
                                "displayName": "3",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "visibility": "public",
                                    "name": "BookLoanExtended",
                                    "oldName": "",
                                    "displayName": "도서 대출 연장됨",
                                    "namePascalCase": "BookLoanExtended",
                                    "nameCamelCase": "bookLoanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "relationView": {
                                    "id": "0701120d-a170-e010-c9d0-8882d78fe149",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "1915f7d0-08f6-813d-8270-617572cc603f",
                                    "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "needReconnect": true
                                }
                            },
                            "073210f7-04f5-f71f-0f29-d3d12e47e17d": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "073210f7-04f5-f71f-0f29-d3d12e47e17d",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "visibility": "public",
                                    "name": "BookStateChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStateChanged",
                                    "nameCamelCase": "bookStateChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "relationView": {
                                    "id": "073210f7-04f5-f71f-0f29-d3d12e47e17d",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                    "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                    "needReconnect": true
                                }
                            }
                        }
                    },
                    "analysisResult": {
                        "recommendedBoundedContextsNumber": 4,
                        "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 '도서 관리', '대출/반납 관리', '예약 관리', '이력/현황 조회'의 4가지입니다. 2) '도서 관리'는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. '대출/반납 관리'는 회원 인증, 대출/반납/연장 등 대출 프로세스를 담당합니다. '예약 관리'는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, '이력/현황 조회'는 대출 이력, 상태 변경 이력, 대출 현황 등 조회 기능을 담당합니다. 3) 각 컨텍스트는 담당하는 액터와 이벤트가 명확히 분리되어 있고, 도서 상태 변경, 대출/반납, 예약, 이력 조회 등 도메인 경계가 뚜렷하게 구분됩니다. 4) 이 구조는 실제 도서관 업무의 역할 분담 및 시스템 유지보수, 확장성 측면에서 조직 구조와 비즈니스 역량에 잘 부합합니다.",
                        "events": [
                            {
                                "name": "BookRegistered",
                                "displayName": "도서 등록됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                                "inputs": [
                                    "도서명",
                                    "ISBN(13자리)",
                                    "저자",
                                    "출판사",
                                    "카테고리(소설/비소설/학술/잡지)"
                                ],
                                "outputs": [
                                    "신규 도서 등록",
                                    "도서 상태: 대출가능"
                                ],
                                "nextEvents": [
                                    "BookStateChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStateChanged",
                                "displayName": "도서 상태 변경됨",
                                "actor": "System",
                                "level": 2,
                                "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                                "inputs": [
                                    "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)"
                                ],
                                "outputs": [
                                    "도서 상태: 대출가능/대출중/예약중/폐기"
                                ],
                                "nextEvents": [
                                    "BookDiscarded",
                                    "BookLoaned",
                                    "BookReturned",
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDiscarded",
                                "displayName": "도서 폐기됨",
                                "actor": "Librarian",
                                "level": 3,
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "inputs": [
                                    "도서 훼손/분실 확인",
                                    "폐기 요청"
                                ],
                                "outputs": [
                                    "도서 상태: 폐기"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoanRequested",
                                "displayName": "도서 대출 신청됨",
                                "actor": "Member",
                                "level": 1,
                                "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서명 또는 ISBN",
                                    "대출 기간(7/14/30일)"
                                ],
                                "outputs": [
                                    "대출 신청 정보"
                                ],
                                "nextEvents": [
                                    "BookLoaned",
                                    "BookReservationRequested"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoaned",
                                "displayName": "도서 대출됨",
                                "actor": "System",
                                "level": 2,
                                "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                                "inputs": [
                                    "대출 신청 정보",
                                    "도서 상태: 대출가능"
                                ],
                                "outputs": [
                                    "도서 상태: 대출중",
                                    "대출 이력 생성"
                                ],
                                "nextEvents": [
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            53
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReservationRequested",
                                "displayName": "도서 예약 신청됨",
                                "actor": "Member",
                                "level": 2,
                                "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                                "inputs": [
                                    "회원번호",
                                    "도서명 또는 ISBN"
                                ],
                                "outputs": [
                                    "예약 신청 정보"
                                ],
                                "nextEvents": [
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReserved",
                                "displayName": "도서 예약됨",
                                "actor": "System",
                                "level": 3,
                                "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                                "inputs": [
                                    "예약 신청 정보",
                                    "도서 상태: 대출중"
                                ],
                                "outputs": [
                                    "도서 상태: 예약중",
                                    "예약 이력 생성"
                                ],
                                "nextEvents": [
                                    "BookLoaned"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            223
                                        ],
                                        [
                                            3,
                                            241
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoanExtended",
                                "displayName": "도서 대출 연장됨",
                                "actor": "Member",
                                "level": 3,
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                                "inputs": [
                                    "회원번호",
                                    "대출 이력",
                                    "연장 요청"
                                ],
                                "outputs": [
                                    "대출 기간 연장",
                                    "대출 이력 갱신"
                                ],
                                "nextEvents": [
                                    "BookReturned"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReturned",
                                "displayName": "도서 반납됨",
                                "actor": "Member",
                                "level": 4,
                                "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서명 또는 ISBN",
                                    "반납 요청"
                                ],
                                "outputs": [
                                    "도서 상태: 대출가능 또는 예약중",
                                    "대출 이력 갱신"
                                ],
                                "nextEvents": [
                                    "BookStateChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoanHistoryQueried",
                                "displayName": "도서 대출 이력 조회됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 특정 도서의 대출 이력을 조회함.",
                                "inputs": [
                                    "도서명 또는 ISBN"
                                ],
                                "outputs": [
                                    "대출 이력 목록"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStateHistoryQueried",
                                "displayName": "도서 상태 변경 이력 조회됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 특정 도서의 상태 변경 이력을 조회함.",
                                "inputs": [
                                    "도서명 또는 ISBN"
                                ],
                                "outputs": [
                                    "상태 변경 이력 목록"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanStatusQueried",
                                "displayName": "대출 현황 조회됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.",
                                "inputs": [
                                    "대출 현황 조회 요청"
                                ],
                                "outputs": [
                                    "대출 현황 목록"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            89
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "actors": [
                            {
                                "name": "Librarian",
                                "events": [
                                    "BookRegistered",
                                    "BookDiscarded",
                                    "BookLoanHistoryQueried",
                                    "BookStateHistoryQueried",
                                    "LoanStatusQueried"
                                ],
                                "lane": 0
                            },
                            {
                                "name": "Member",
                                "events": [
                                    "BookLoanRequested",
                                    "BookReservationRequested",
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "lane": 1
                            },
                            {
                                "name": "System",
                                "events": [
                                    "BookStateChanged",
                                    "BookLoaned",
                                    "BookReserved"
                                ],
                                "lane": 2
                            }
                        ]
                    },
                    "currentGeneratedLength": 5961
                },
                "currentGeneratedLength": 5961,
                "timestamp": "2025-09-30T10:11:22.565Z"
            },
            {
                "uniqueId": "d9c9eb35cc4eb42fd25a47067c8e2a9c",
                "type": "bcGenerationOption",
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "isAnalizing": false,
                "generateOption": {
                    "numberOfBCs": 3,
                    "selectedAspects": [
                        "도메인 복잡도 분리",
                        "프로세스(value stream) 기반 분리"
                    ],
                    "additionalOptions": "",
                    "aspectDetails": {},
                    "isProtocolMode": true,
                    "isGenerateFrontEnd": true
                },
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 '도서 관리', '대출/반납 관리', '예약 관리', '이력/현황 조회'의 4가지입니다. 2) '도서 관리'는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. '대출/반납 관리'는 회원 인증, 대출/반납/연장 등 대출 프로세스를 담당합니다. '예약 관리'는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, '이력/현황 조회'는 대출 이력, 상태 변경 이력, 대출 현황 등 조회 기능을 담당합니다. 3) 각 컨텍스트는 담당하는 액터와 이벤트가 명확히 분리되어 있고, 도서 상태 변경, 대출/반납, 예약, 이력 조회 등 도메인 경계가 뚜렷하게 구분됩니다. 4) 이 구조는 실제 도서관 업무의 역할 분담 및 시스템 유지보수, 확장성 측면에서 조직 구조와 비즈니스 역량에 잘 부합합니다.",
                "timestamp": "2025-09-30T10:11:59.075Z"
            },
            {
                "uniqueId": "445dc3b161a5da155f87c3730973f5af",
                "type": "boundedContextResult",
                "result": {
                    "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                        "boundedContexts": [
                            {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "importance": "Core Domain",
                                "complexity": 0.7,
                                "differentiation": 0.9,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "events": [
                                    "BookRegistered",
                                    "BookStateChanged",
                                    "BookDiscarded"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    4
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.",
                                "roleRefs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            286
                                        ]
                                    ]
                                ],
                                "commandNames": [
                                    "RegisterBook",
                                    "ValidateIsbnUniqueness",
                                    "DiscardBook",
                                    "UpdateBookStatus"
                                ],
                                "readModelNames": [
                                    "BookListView",
                                    "BookDetailView",
                                    "BookCategoryOptions"
                                ]
                            },
                            {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "importance": "Core Domain",
                                "complexity": 0.8,
                                "differentiation": 0.95,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "events": [
                                    "BookLoanRequested",
                                    "BookLoaned",
                                    "BookReservationRequested",
                                    "BookReserved",
                                    "BookLoanExtended",
                                    "BookReturned"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    82
                                                ]
                                            ]
                                        ],
                                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    81
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    19
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태 변경"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ],
                                "commandNames": [
                                    "BorrowBook",
                                    "ReturnBook",
                                    "ReserveBook",
                                    "ExtendLoan",
                                    "VerifyMember"
                                ],
                                "readModelNames": [
                                    "LoanStatusListView",
                                    "LoanDetailView",
                                    "BookSearchView"
                                ]
                            },
                            {
                                "name": "LoanHistoryQuery",
                                "alias": "대출 및 상태 이력 조회",
                                "importance": "Supporting Domain",
                                "complexity": 0.5,
                                "differentiation": 0.5,
                                "implementationStrategy": "Transaction Script",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "BookStateHistory",
                                        "alias": "도서 상태 변경 이력"
                                    }
                                ],
                                "events": [
                                    "BookLoanHistoryQueried",
                                    "BookStateHistoryQueried",
                                    "LoanStatusQueried"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.",
                                "roleRefs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ],
                                "commandNames": [],
                                "readModelNames": [
                                    "BookLoanHistoryView",
                                    "BookStatusChangeHistoryView",
                                    "LoanStatusSummaryView"
                                ]
                            },
                            {
                                "aggregates": [],
                                "alias": "프론트 엔드",
                                "complexity": "0.0",
                                "differentiation": "0.0",
                                "events": [],
                                "implementationStrategy": "Transaction Script",
                                "importance": "Generic Domain",
                                "name": "ui",
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    55
                                                ]
                                            ]
                                        ],
                                        "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    47
                                                ]
                                            ]
                                        ],
                                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                                    }
                                ],
                                "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                                "commandNames": [],
                                "readModelNames": [
                                    "LoanPeriodOptions"
                                ]
                            }
                        ],
                        "relations": [
                            {
                                "name": "BookManagement-LoanAndReservation",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanAndReservation-BookManagement",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "downStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanAndReservation-LoanHistoryQuery",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "downStream": {
                                    "name": "LoanHistoryQuery",
                                    "alias": "대출 및 상태 이력 조회"
                                },
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookManagement-LoanHistoryQuery",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanHistoryQuery",
                                    "alias": "대출 및 상태 이력 조회"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서의 라이프사이클(등록, 상태변경, 폐기)과 대출/반납/예약 프로세스를 분리하였다. 도서 관리와 대출/반납은 서로 강하게 연결되어 있으나, 각각의 책임과 데이터 일관성을 유지하기 위해 별도의 Bounded Context로 분리하였다. 이력 및 현황 조회는 트랜잭션 복잡도가 낮고, 주로 읽기 중심의 Supporting Domain으로 분리하여 전체 도서 및 대출 상태의 추적 기능을 담당하도록 하였다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되어 있으며, 데이터 일관성은 이벤트를 통해 유지된다.",
                        "explanations": [
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출/반납 및 예약",
                                "relationType": "Pub/Sub",
                                "reason": "도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.",
                                "interactionPattern": "도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            5,
                                            238
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 및 예약",
                                "targetContext": "도서 관리",
                                "relationType": "Pub/Sub",
                                "reason": "대출, 반납, 예약 등 회원의 행위에 따라 도서 상태가 변경되어야 하므로 이벤트로 상태 변경을 알린다.",
                                "interactionPattern": "대출/반납/예약 처리 후 도서 상태 변경 이벤트를 발행하여 도서 관리 컨텍스트에서 상태를 갱신한다.",
                                "refs": [
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            7,
                                            184
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 및 예약",
                                "targetContext": "대출 및 상태 이력 조회",
                                "relationType": "Pub/Sub",
                                "reason": "대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.",
                                "interactionPattern": "대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출 및 상태 이력 조회",
                                "relationType": "Pub/Sub",
                                "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.",
                                "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            9,
                                            64
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                        "currentGeneratedLength": 5184
                    }
                },
                "isStartMapping": false,
                "isGeneratingBoundedContext": false,
                "isSummarizeStarted": false,
                "isAnalizing": false,
                "processingRate": 100,
                "currentProcessingBoundedContext": "프론트 엔드",
                "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "summarizedResult": {
                    "summary": "",
                    "refs": [],
                    "originalRequirements": ""
                },
                "pbcLists": [
                    {
                        "name": "chat-vue3-en",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "Chat service (Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                        "id": 19,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
                    },
                    {
                        "name": "review",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                        "description": "review",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                        "id": 21,
                        "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 22,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 23,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 24,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 25,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
                    },
                    {
                        "name": "payment-system",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                        "description": "결제를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                        "id": 26,
                        "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
                    },
                    {
                        "name": "document-management",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                        "description": "파일관리를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "### Instruction\n",
                        "id": 30,
                        "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
                    },
                    {
                        "name": "gitlab",
                        "rating": 5,
                        "imageUrl": null,
                        "description": "openapi.yaml",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## instruction\n",
                        "id": 34,
                        "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
                    },
                    {
                        "name": "PBC-Test",
                        "rating": 5,
                        "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                        "description": "Framework for rapidly and easily developing Java-based web applications.",
                        "tags": [
                            "PBC"
                        ],
                        "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                        "id": 35,
                        "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
                    }
                ],
                "currentGeneratedLength": 5184,
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "timestamp": "2025-09-30T10:12:04.192Z"
            },
            {
                "uniqueId": "025731355becbdec03aa01bd3ce0458d",
                "type": "siteMapViewer",
                "siteMap": [
                    {
                        "id": "node-1759227329246-031poisyp",
                        "title": "도서관 통합 도서 관리 시스템",
                        "url": "",
                        "description": "도서 등록, 상태 관리, 대출/반납, 예약, 대출 현황 및 이력 조회를 통합적으로 제공하는 도서관 관리 웹사이트",
                        "children": [
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "url": "/books",
                                "description": "도서 등록, 목록 조회, 상태 관리 및 폐기 처리를 위한 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "register-book",
                                        "title": "도서 등록",
                                        "url": "/도서-등록",
                                        "description": "새로운 도서를 등록합니다.",
                                        "reference": "RegisterBook",
                                        "children": []
                                    },
                                    {
                                        "id": "validate-isbn",
                                        "title": "ISBN 중복 확인",
                                        "url": "/isbn-중복-확인",
                                        "description": "ISBN의 중복 여부를 검증합니다.",
                                        "reference": "ValidateIsbnUniqueness",
                                        "children": []
                                    },
                                    {
                                        "id": "book-list",
                                        "title": "도서 목록 조회",
                                        "url": "/도서-목록-조회",
                                        "description": "현재 보유한 도서들의 목록과 상태를 조회합니다.",
                                        "reference": "BookListView",
                                        "children": []
                                    },
                                    {
                                        "id": "book-detail",
                                        "title": "도서 상세 조회",
                                        "url": "/도서-상세-조회",
                                        "description": "단일 도서의 상세 정보를 조회합니다.",
                                        "reference": "BookDetailView",
                                        "children": []
                                    },
                                    {
                                        "id": "book-category-options",
                                        "title": "도서 카테고리 옵션",
                                        "url": "/도서-카테고리-옵션",
                                        "description": "도서 등록 시 선택 가능한 카테고리 옵션을 조회합니다.",
                                        "reference": "BookCategoryOptions",
                                        "children": []
                                    },
                                    {
                                        "id": "discard-book",
                                        "title": "도서 폐기 처리",
                                        "url": "/도서-폐기-처리",
                                        "description": "도서가 훼손되거나 분실된 경우 폐기 처리합니다.",
                                        "reference": "DiscardBook",
                                        "children": []
                                    },
                                    {
                                        "id": "update-book-status",
                                        "title": "도서 상태 변경",
                                        "url": "/도서-상태-변경",
                                        "description": "도서의 상태를 수동으로 변경합니다.",
                                        "reference": "UpdateBookStatus",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-return",
                                "title": "대출/반납",
                                "url": "/loans",
                                "description": "회원 도서 대출, 반납, 연장, 예약 및 회원 확인을 위한 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "verify-member",
                                        "title": "회원 확인",
                                        "url": "/회원-확인",
                                        "description": "회원번호와 이름으로 회원을 확인합니다.",
                                        "reference": "VerifyMember",
                                        "children": []
                                    },
                                    {
                                        "id": "book-search",
                                        "title": "도서 검색",
                                        "url": "/도서-검색",
                                        "description": "도서명 또는 ISBN으로 도서를 검색합니다.",
                                        "reference": "BookSearchView",
                                        "children": []
                                    },
                                    {
                                        "id": "borrow-book",
                                        "title": "도서 대출",
                                        "url": "/도서-대출",
                                        "description": "회원이 도서를 대출합니다.",
                                        "reference": "BorrowBook",
                                        "children": []
                                    },
                                    {
                                        "id": "loan-period-options",
                                        "title": "대출 기간 옵션",
                                        "url": "/대출-기간-옵션",
                                        "description": "대출 신청 시 선택 가능한 대출 기간 옵션(7/14/30일)을 조회합니다.",
                                        "reference": "LoanPeriodOptions",
                                        "children": []
                                    },
                                    {
                                        "id": "reserve-book",
                                        "title": "도서 예약",
                                        "url": "/도서-예약",
                                        "description": "대출 중인 도서에 대해 예약을 신청합니다.",
                                        "reference": "ReserveBook",
                                        "children": []
                                    },
                                    {
                                        "id": "return-book",
                                        "title": "도서 반납",
                                        "url": "/도서-반납",
                                        "description": "회원이 대출한 도서를 반납합니다.",
                                        "reference": "ReturnBook",
                                        "children": []
                                    },
                                    {
                                        "id": "extend-loan",
                                        "title": "대출 연장",
                                        "url": "/대출-연장",
                                        "description": "대출 중인 도서의 대출 기간을 연장합니다.",
                                        "reference": "ExtendLoan",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-status",
                                "title": "대출 현황",
                                "url": "/loan-status",
                                "description": "현재 대출 중인 도서 목록, 대출 상세, 연장 및 반납 처리를 위한 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "loan-status-list",
                                        "title": "대출 현황 목록",
                                        "url": "/대출-현황-목록",
                                        "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 상태를 조회합니다.",
                                        "reference": "LoanStatusListView",
                                        "children": []
                                    },
                                    {
                                        "id": "loan-detail",
                                        "title": "대출 상세 조회",
                                        "url": "/대출-상세-조회",
                                        "description": "대출 건의 상세 정보를 조회합니다.",
                                        "reference": "LoanDetailView",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "history",
                                "title": "이력/통계",
                                "url": "/history",
                                "description": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황 요약을 위한 페이지",
                                "reference": null,
                                "children": [
                                    {
                                        "id": "book-loan-history",
                                        "title": "도서별 대출 이력 조회",
                                        "url": "/도서별-대출-이력-조회",
                                        "description": "도서별 대출 이력을 조회합니다.",
                                        "reference": "BookLoanHistoryView",
                                        "children": []
                                    },
                                    {
                                        "id": "book-status-change-history",
                                        "title": "도서 상태 변경 이력 조회",
                                        "url": "/도서-상태-변경-이력-조회",
                                        "description": "도서별 상태 변경 이력을 조회합니다.",
                                        "reference": "BookStatusChangeHistoryView",
                                        "children": []
                                    },
                                    {
                                        "id": "loan-status-summary",
                                        "title": "전체 대출 현황 요약",
                                        "url": "/전체-대출-현황-요약",
                                        "description": "전체 도서의 대출 현황을 요약하여 조회합니다.",
                                        "reference": "LoanStatusSummaryView",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "resultDevideBoundedContext": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "importance": "Core Domain",
                            "complexity": 0.7,
                            "differentiation": 0.9,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "events": [
                                "BookRegistered",
                                "BookStateChanged",
                                "BookDiscarded"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ],
                                    "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                3
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ],
                                    "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                24,
                                                4
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                84,
                                                4
                                            ],
                                            [
                                                96,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                191
                                            ],
                                            [
                                                3,
                                                238
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.",
                            "roleRefs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        286
                                    ]
                                ]
                            ],
                            "commandNames": [
                                "RegisterBook",
                                "ValidateIsbnUniqueness",
                                "DiscardBook",
                                "UpdateBookStatus"
                            ],
                            "readModelNames": [
                                "BookListView",
                                "BookDetailView",
                                "BookCategoryOptions"
                            ]
                        },
                        {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "importance": "Core Domain",
                            "complexity": 0.8,
                            "differentiation": 0.95,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "events": [
                                "BookLoanRequested",
                                "BookLoaned",
                                "BookReservationRequested",
                                "BookReserved",
                                "BookLoanExtended",
                                "BookReturned"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                1
                                            ],
                                            [
                                                5,
                                                82
                                            ]
                                        ]
                                    ],
                                    "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                81
                                            ]
                                        ]
                                    ],
                                    "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                19
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력과 상태 변경"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                66,
                                                1
                                            ],
                                            [
                                                82,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                112,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                198
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                53
                                            ],
                                            [
                                                7,
                                                89
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                193
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                223
                                            ],
                                            [
                                                3,
                                                241
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                89
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.",
                            "roleRefs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        184
                                    ]
                                ]
                            ],
                            "commandNames": [
                                "BorrowBook",
                                "ReturnBook",
                                "ReserveBook",
                                "ExtendLoan",
                                "VerifyMember"
                            ],
                            "readModelNames": [
                                "LoanStatusListView",
                                "LoanDetailView",
                                "BookSearchView"
                            ]
                        },
                        {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회",
                            "importance": "Supporting Domain",
                            "complexity": 0.5,
                            "differentiation": 0.5,
                            "implementationStrategy": "Transaction Script",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "BookStateHistory",
                                    "alias": "도서 상태 변경 이력"
                                }
                            ],
                            "events": [
                                "BookLoanHistoryQueried",
                                "BookStateHistoryQueried",
                                "LoanStatusQueried"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                64
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                85,
                                                1
                                            ],
                                            [
                                                95,
                                                9
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                111,
                                                9
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                29
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                89
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.",
                            "roleRefs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ],
                            "commandNames": [],
                            "readModelNames": [
                                "BookLoanHistoryView",
                                "BookStatusChangeHistoryView",
                                "LoanStatusSummaryView"
                            ]
                        }
                    ],
                    "relations": [
                        {
                            "name": "BookManagement-LoanAndReservation",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        5,
                                        238
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanAndReservation-BookManagement",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "downStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        7,
                                        184
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanAndReservation-LoanHistoryQuery",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "downStream": {
                                "name": "LoanHistoryQuery",
                                "alias": "대출 및 상태 이력 조회"
                            },
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookManagement-LoanHistoryQuery",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanHistoryQuery",
                                "alias": "대출 및 상태 이력 조회"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ]
                        }
                    ],
                    "thoughts": "도메인 복잡도와 프로세스(value stream)를 기준으로 도서의 라이프사이클(등록, 상태변경, 폐기)과 대출/반납/예약 프로세스를 분리하였다. 도서 관리와 대출/반납은 서로 강하게 연결되어 있으나, 각각의 책임과 데이터 일관성을 유지하기 위해 별도의 Bounded Context로 분리하였다. 이력 및 현황 조회는 트랜잭션 복잡도가 낮고, 주로 읽기 중심의 Supporting Domain으로 분리하여 전체 도서 및 대출 상태의 추적 기능을 담당하도록 하였다. 각 컨텍스트는 이벤트 기반으로 느슨하게 결합되어 있으며, 데이터 일관성은 이벤트를 통해 유지된다.",
                    "explanations": [
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출/반납 및 예약",
                            "relationType": "Pub/Sub",
                            "reason": "도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.",
                            "interactionPattern": "도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        5,
                                        238
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 및 예약",
                            "targetContext": "도서 관리",
                            "relationType": "Pub/Sub",
                            "reason": "대출, 반납, 예약 등 회원의 행위에 따라 도서 상태가 변경되어야 하므로 이벤트로 상태 변경을 알린다.",
                            "interactionPattern": "대출/반납/예약 처리 후 도서 상태 변경 이벤트를 발행하여 도서 관리 컨텍스트에서 상태를 갱신한다.",
                            "refs": [
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        7,
                                        184
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 및 예약",
                            "targetContext": "대출 및 상태 이력 조회",
                            "relationType": "Pub/Sub",
                            "reason": "대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.",
                            "interactionPattern": "대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출 및 상태 이력 조회",
                            "relationType": "Pub/Sub",
                            "reason": "도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.",
                            "interactionPattern": "도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        9,
                                        64
                                    ]
                                ]
                            ]
                        }
                    ],
                    "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                    "currentGeneratedLength": 5184
                },
                "isGenerating": false,
                "processingRate": 0,
                "currentChunk": 0,
                "totalChunks": 0,
                "currentGeneratedLength": 0,
                "commandReadModelData": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서관리",
                            "commands": [
                                {
                                    "name": "RegisterBook",
                                    "alias": "도서등록",
                                    "description": "새로운 도서를 등록한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "title",
                                            "type": "String",
                                            "description": "도서명"
                                        },
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "13자리 ISBN"
                                        },
                                        {
                                            "name": "author",
                                            "type": "String",
                                            "description": "저자"
                                        },
                                        {
                                            "name": "publisher",
                                            "type": "String",
                                            "description": "출판사"
                                        },
                                        {
                                            "name": "category",
                                            "type": "String",
                                            "description": "카테고리(소설/비소설/학술/잡지)"
                                        }
                                    ]
                                },
                                {
                                    "name": "ValidateIsbnUniqueness",
                                    "alias": "ISBN중복확인",
                                    "description": "ISBN의 중복 여부를 검증한다.",
                                    "actor": "system",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "13자리 ISBN"
                                        }
                                    ]
                                },
                                {
                                    "name": "DiscardBook",
                                    "alias": "도서폐기처리",
                                    "description": "도서가 훼손되거나 분실된 경우 폐기 처리한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        },
                                        {
                                            "name": "reason",
                                            "type": "String",
                                            "description": "폐기 사유"
                                        }
                                    ]
                                },
                                {
                                    "name": "UpdateBookStatus",
                                    "alias": "도서상태변경",
                                    "description": "도서의 상태를 수동으로 변경한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        },
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "변경할 상태(대출가능/대출중/예약중/폐기)"
                                        }
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "BookListView",
                                    "alias": "도서목록조회",
                                    "description": "현재 보유한 도서들의 목록과 상태를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "category",
                                            "type": "String",
                                            "description": "카테고리별 필터"
                                        },
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "도서 상태별 필터"
                                        },
                                        {
                                            "name": "title",
                                            "type": "String",
                                            "description": "도서명 검색"
                                        },
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "ISBN 검색"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookDetailView",
                                    "alias": "도서상세조회",
                                    "description": "단일 도서의 상세 정보를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": false,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookCategoryOptions",
                                    "alias": "도서카테고리옵션",
                                    "description": "도서 등록 시 선택 가능한 카테고리 옵션을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": []
                                }
                            ]
                        },
                        {
                            "name": "LoanAndReservation",
                            "alias": "대출및예약",
                            "commands": [
                                {
                                    "name": "BorrowBook",
                                    "alias": "도서대출",
                                    "description": "회원이 도서를 대출한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호"
                                        },
                                        {
                                            "name": "memberName",
                                            "type": "String",
                                            "description": "회원 이름"
                                        },
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "대출할 도서 식별자"
                                        },
                                        {
                                            "name": "loanPeriod",
                                            "type": "Integer",
                                            "description": "대출 기간(7/14/30일)"
                                        }
                                    ]
                                },
                                {
                                    "name": "ReturnBook",
                                    "alias": "도서반납",
                                    "description": "회원이 대출한 도서를 반납한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "ReserveBook",
                                    "alias": "도서예약",
                                    "description": "대출 중인 도서에 대해 예약을 신청한다.",
                                    "actor": "user",
                                    "aggregate": "Reservation",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호"
                                        },
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "예약할 도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "ExtendLoan",
                                    "alias": "대출연장",
                                    "description": "대출 중인 도서의 대출 기간을 연장한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        },
                                        {
                                            "name": "extendPeriod",
                                            "type": "Integer",
                                            "description": "연장 기간(7/14/30일)"
                                        }
                                    ]
                                },
                                {
                                    "name": "VerifyMember",
                                    "alias": "회원확인",
                                    "description": "회원번호와 이름으로 회원을 확인한다.",
                                    "actor": "system",
                                    "aggregate": "Member",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호"
                                        },
                                        {
                                            "name": "memberName",
                                            "type": "String",
                                            "description": "회원 이름"
                                        }
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "LoanStatusListView",
                                    "alias": "대출현황목록",
                                    "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 상태를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "대출 상태(대출중/연체/반납완료) 필터"
                                        },
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호로 필터"
                                        }
                                    ]
                                },
                                {
                                    "name": "LoanDetailView",
                                    "alias": "대출상세조회",
                                    "description": "대출 건의 상세 정보를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": false,
                                    "queryParameters": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookSearchView",
                                    "alias": "도서검색",
                                    "description": "도서명 또는 ISBN으로 도서를 검색한다.",
                                    "actor": "user",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "title",
                                            "type": "String",
                                            "description": "도서명"
                                        },
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "ISBN"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "LoanHistoryQuery",
                            "alias": "대출이력조회",
                            "commands": [],
                            "readModels": [
                                {
                                    "name": "BookLoanHistoryView",
                                    "alias": "도서별대출이력조회",
                                    "description": "도서별 대출 이력을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookStatusChangeHistoryView",
                                    "alias": "도서상태변경이력조회",
                                    "description": "도서별 상태 변경 이력을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "LoanStatusSummaryView",
                                    "alias": "전체대출현황요약",
                                    "description": "전체 도서의 대출 현황을 요약하여 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "queryParameters": []
                                }
                            ]
                        },
                        {
                            "name": "ui",
                            "alias": "UI",
                            "commands": [],
                            "readModels": [
                                {
                                    "name": "LoanPeriodOptions",
                                    "alias": "대출기간옵션",
                                    "description": "대출 신청 시 선택 가능한 대출 기간 옵션(7/14/30일)을 조회한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "queryParameters": []
                                }
                            ]
                        }
                    ]
                },
                "timestamp": "2025-09-30T10:14:43.866Z",
                "currentProcessingStep": "generatingSiteMap"
            },
            {
                "type": "aggregateDraftDialogDto",
                "uniqueId": "1759227360555",
                "isShow": true,
                "draftOptions": [
                    {
                        "boundedContext": "BookManagement",
                        "boundedContextAlias": "도서 관리",
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        14
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            135
                                                        ],
                                                        [
                                                            3,
                                                            162
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "Isbn",
                                                "alias": "ISBN",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            71
                                                        ],
                                                        [
                                                            3,
                                                            74
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStateHistoryReference",
                                                "alias": "도서 상태 변경 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "BookStateHistory",
                                                    "alias": "도서 상태 변경 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            13
                                                        ],
                                                        [
                                                            9,
                                                            20
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            85,
                                                            14
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서의 라이프사이클, 상태, 폐기, 카테고리 등 모든 관리 기능이 Book Aggregate에 집중되어 있어 일관된 도서 관리가 가능합니다.",
                                    "coupling": "외부 컨텍스트와의 의존성이 ValueObject 참조로 제한되어 결합도가 낮고, 도서 관리의 독립성이 보장됩니다.",
                                    "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙이 단일 트랜잭션 내에서 원자적으로 보장됩니다.",
                                    "encapsulation": "도서의 상태, ISBN, 카테고리 등 핵심 도메인 규칙이 Aggregate 내부에 잘 은닉되어 있습니다.",
                                    "complexity": "단일 Aggregate로 구조가 단순하여 개발 및 유지보수가 용이합니다.",
                                    "independence": "도서 관리 정책 변경 시 다른 Aggregate에 영향 없이 독립적으로 진화할 수 있습니다.",
                                    "performance": "도서 관련 조회 및 상태 변경이 한 Aggregate에서 처리되어 쿼리 효율성이 높습니다."
                                },
                                "cons": {
                                    "cohesion": "카테고리 관리, 상태 이력 등 다양한 책임이 한 Aggregate에 모여 있어 향후 기능 확장 시 복잡도가 증가할 수 있습니다.",
                                    "coupling": "도서 관련 모든 변경이 Book Aggregate에 집중되어 동시성 이슈가 발생할 수 있습니다.",
                                    "consistency": "상태 이력, 대출/예약 등 외부 시스템과의 동기화가 느슨해져 일시적 불일치가 발생할 수 있습니다.",
                                    "encapsulation": "카테고리나 이력 관리 등 일부 세부 도메인 규칙이 Aggregate 내부에서 과도하게 은닉될 수 있습니다.",
                                    "complexity": "도서 관리 기능이 많아질수록 Aggregate가 비대해질 위험이 있습니다.",
                                    "independence": "카테고리 정책 등 일부 기능의 독립적 진화가 어렵습니다.",
                                    "performance": "도서 등록/상태 변경/폐기 등 다양한 작업이 집중될 경우 트랜잭션 경합이 발생할 수 있습니다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStateChanged, BookDiscarded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "RegisterBook",
                                            "ValidateIsbnUniqueness",
                                            "DiscardBook",
                                            "UpdateBookStatus"
                                        ],
                                        "readModelNames": [
                                            "BookListView",
                                            "BookDetailView",
                                            "BookCategoryOptions"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        14
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "Isbn",
                                                "alias": "ISBN",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            71
                                                        ],
                                                        [
                                                            3,
                                                            74
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "CategoryReference",
                                                "alias": "카테고리 참조",
                                                "referencedAggregate": {
                                                    "name": "Category",
                                                    "alias": "카테고리"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            86
                                                        ],
                                                        [
                                                            3,
                                                            93
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            6
                                                        ],
                                                        [
                                                            9,
                                                            10
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStateHistoryReference",
                                                "alias": "도서 상태 변경 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "BookStateHistory",
                                                    "alias": "도서 상태 변경 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            13
                                                        ],
                                                        [
                                                            9,
                                                            20
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            85,
                                                            14
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Category",
                                            "alias": "카테고리",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        86
                                                    ],
                                                    [
                                                        3,
                                                        93
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            135
                                                        ],
                                                        [
                                                            3,
                                                            162
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [],
                                        "previewAttributes": []
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서와 카테고리 관리 책임이 명확히 분리되어 각 Aggregate가 단일 책임 원칙을 잘 따릅니다.",
                                    "coupling": "카테고리 정책 변경이 Book Aggregate에 영향을 주지 않아 결합도가 낮고, 도서와 카테고리의 독립적 진화가 가능합니다.",
                                    "consistency": "카테고리 관리와 도서 관리의 트랜잭션 경계가 분리되어 각 Aggregate의 일관성이 잘 유지됩니다.",
                                    "encapsulation": "카테고리 정책, 도서 상태 등 각 도메인 규칙이 해당 Aggregate 내부에 명확히 은닉됩니다.",
                                    "complexity": "도서와 카테고리 관리가 분리되어 구조가 명확하고, 각 도메인별로 개발 및 유지보수가 용이합니다.",
                                    "independence": "카테고리 추가/변경 등 정책 변경 시 도서 관리와 별도로 독립적 배포 및 확장이 가능합니다.",
                                    "performance": "카테고리 관리가 빈번하거나 복잡한 경우에도 도서 관리와 별도로 최적화할 수 있습니다."
                                },
                                "cons": {
                                    "cohesion": "도서 등록/변경 시 카테고리 Aggregate와의 연동 로직이 필요해 업무 흐름이 복잡해질 수 있습니다.",
                                    "coupling": "도서와 카테고리 간 참조가 추가되어 데이터 동기화 및 무결성 관리가 필요합니다.",
                                    "consistency": "도서와 카테고리 간 트랜잭션이 분리되어 일시적으로 불일치가 발생할 수 있습니다.",
                                    "encapsulation": "카테고리 정책 변경이 도서 Aggregate에 즉시 반영되지 않을 수 있습니다.",
                                    "complexity": "Aggregate 간 연동 로직 및 참조 관리로 인해 전체 시스템 복잡도가 다소 증가합니다.",
                                    "independence": "도서와 카테고리 간 강한 연관이 필요한 경우 Aggregate 분리가 오히려 독립성을 저해할 수 있습니다.",
                                    "performance": "도서 조회 시 카테고리 정보를 추가로 조회해야 하므로 일부 쿼리에서 성능 저하가 발생할 수 있습니다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStateChanged, BookDiscarded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            286
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "RegisterBook",
                                            "ValidateIsbnUniqueness",
                                            "DiscardBook",
                                            "UpdateBookStatus"
                                        ],
                                        "readModelNames": [
                                            "BookListView",
                                            "BookDetailView",
                                            "BookCategoryOptions"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션1은 도서 관리가 단일 책임 조직에서 집중적으로 이루어지고, 도서 상태/카테고리/이력 관리가 빈번하게 동시에 변경되는 환경에 적합합니다. 옵션2는 도서와 카테고리 정책이 별도로 진화하거나, 카테고리 관리가 복잡하고 독립적으로 운영되는 도서관 환경에 최적입니다. 카테고리 정책의 독립성과 확장성, 도메인 책임 분리를 중시한다면 옵션2를 추천합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 도메인 이벤트, DDL, 컨텍스트 관계, 누적 초안(Loan, Reservation, LoanHistory, BookStateHistory는 참조만 가능)을 종합적으로 분석하였습니다. Book(도서) Aggregate는 반드시 포함해야 하며, ISBN 중복 검증, 상태 관리, 폐기 처리, 카테고리 관리, 상태 변경 이력 추적 등 모든 비즈니스 규칙을 반영해야 합니다. 옵션1은 Book 단일 Aggregate로 모든 도서 관리 기능을 통합하고, 옵션2는 Book과 Category 두 개의 Aggregate로 분리하여 카테고리 관리의 독립성을 높입니다. 두 옵션 모두 기존 Loan, Reservation, LoanHistory, BookStateHistory Aggregate는 ValueObject 참조로만 사용합니다."
                    },
                    {
                        "boundedContext": "LoanAndReservation",
                        "boundedContextAlias": "대출/반납 및 예약",
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        14
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        73
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            18
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            14
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Reservation",
                                            "alias": "예약",
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        14
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "ReservationStatus",
                                                "alias": "예약 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각자의 책임과 비즈니스 규칙을 명확하게 유지할 수 있습니다.",
                                    "coupling": "도서, 이력 등은 ValueObject 참조로만 연결되어 있어 Aggregate 간 결합도가 낮아집니다.",
                                    "consistency": "대출 및 예약 각각의 트랜잭션 경계 내에서 상태 변경 및 이력 기록이 원자적으로 처리되어 비즈니스 불변성이 잘 보장됩니다.",
                                    "encapsulation": "대출과 예약의 상태 전이, 연장, 취소 등 복잡한 도메인 규칙이 Aggregate 내부에 잘 은닉됩니다.",
                                    "complexity": "각 Aggregate가 단일 책임을 가지므로 도메인 모델이 명확하고 이해하기 쉽습니다.",
                                    "independence": "대출과 예약의 도메인 정책 변경이나 확장이 서로 영향을 주지 않고 독립적으로 가능합니다.",
                                    "performance": "대출 현황, 예약 현황 등 조회 시 단일 Aggregate만 접근하면 되어 효율적입니다."
                                },
                                "cons": {
                                    "cohesion": "대출과 예약이 서로 긴밀하게 연결되는 시나리오(예: 반납 시 예약자 자동 처리)에서는 추가적인 조정 로직이 필요합니다.",
                                    "coupling": "예약과 대출 간 상태 연동이 이벤트 기반으로만 처리되어 일시적 불일치가 발생할 수 있습니다.",
                                    "consistency": "예약과 대출이 별도 트랜잭션으로 처리되므로 복합 상태 변경 시 일관성 보장이 어렵습니다.",
                                    "encapsulation": "예약과 대출 간 복합 비즈니스 규칙(예: 예약 우선순위 반영)이 Aggregate 외부에서 구현되어야 합니다.",
                                    "complexity": "예약-대출 간 상태 전이 및 이벤트 핸들링 로직이 서비스 계층에 분산될 수 있습니다.",
                                    "independence": "예약과 대출의 상태가 서로 영향을 주는 경우, 완전한 독립성은 보장되지 않습니다.",
                                    "performance": "예약-대출 상태를 동시에 조회하거나 갱신할 때 두 Aggregate를 모두 접근해야 하므로 복합 쿼리 성능이 저하될 수 있습니다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n대출 이력과 상태 변경",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanRequested, BookLoaned, BookReservationRequested, BookReserved, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "11": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "12": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            82
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "176": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "177": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "178": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "179": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "180": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "185": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "186": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "193": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "194": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "195": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "196": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "197": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "198": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "199": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "200": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "201": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "202": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "203": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "204": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "205": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "206": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "207": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "208": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "209": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "210": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "211": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "215": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "216": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "217": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "218": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "219": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "220": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "221": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "222": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "223": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "224": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "225": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "226": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "227": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "228": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "234": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "235": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "236": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "237": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "240": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "241": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "242": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "243": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "246": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "247": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "248": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "249": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "BorrowBook",
                                            "ReturnBook",
                                            "ReserveBook",
                                            "ExtendLoan",
                                            "VerifyMember"
                                        ],
                                        "readModelNames": [
                                            "LoanStatusListView",
                                            "LoanDetailView",
                                            "BookSearchView"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        14
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        73
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            14
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 관련 모든 비즈니스 규칙과 상태 전이가 하나의 Aggregate에 집중되어 있어 관리가 용이합니다.",
                                    "coupling": "예약, 도서 등 외부 Aggregate와의 결합도가 낮아 대출 도메인 변경 시 영향이 최소화됩니다.",
                                    "consistency": "대출 상태 변경, 연장, 반납 등 모든 트랜잭션이 하나의 경계 내에서 원자적으로 처리되어 일관성이 높습니다.",
                                    "encapsulation": "대출 도메인 규칙이 Aggregate 내부에 집중되어 외부 노출이 최소화됩니다.",
                                    "complexity": "예약 등 부가 기능이 별도 Aggregate로 분리되어 대출 Aggregate 자체는 단순하게 유지됩니다.",
                                    "independence": "대출 도메인 정책 변경 시 예약 등 타 도메인에 영향 없이 독립적으로 진화할 수 있습니다.",
                                    "performance": "대출 현황, 이력 등 조회가 단일 Aggregate 내에서 빠르게 처리됩니다."
                                },
                                "cons": {
                                    "cohesion": "예약과 대출의 상태 연동, 예약 우선순위 등 복합 비즈니스 로직이 서비스 계층에 분산되어 도메인 규칙이 흩어질 수 있습니다.",
                                    "coupling": "예약 처리 시 별도 Aggregate와의 연동이 필요해 복잡성이 증가합니다.",
                                    "consistency": "예약과 대출의 상태 동기화가 이벤트 기반으로만 이뤄져 일시적 불일치가 발생할 수 있습니다.",
                                    "encapsulation": "예약 관련 규칙이 대출 Aggregate 외부에 위치하여 도메인 캡슐화가 약화됩니다.",
                                    "complexity": "예약-대출 간 상태 전이, 예약 우선순위 처리 등 복합 로직이 서비스 계층에 집중되어 관리가 어려워질 수 있습니다.",
                                    "independence": "예약과 대출의 상태가 서로 영향을 주는 경우, 완전한 독립성은 보장되지 않습니다.",
                                    "performance": "예약-대출 상태를 동시에 조회하거나 갱신할 때 여러 Aggregate를 접근해야 하므로 복합 쿼리 성능이 저하될 수 있습니다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n대출 이력과 상태 변경",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanRequested, BookLoaned, BookReservationRequested, BookReserved, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            23
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            43
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "11": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "12": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            82
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            12
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            53
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "132": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "154": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "155": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "156": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            223
                                                        ],
                                                        [
                                                            3,
                                                            241
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "176": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "177": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "178": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "179": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "180": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "185": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "186": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "193": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "194": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "195": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "196": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "197": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "198": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "199": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "200": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "201": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "202": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "203": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "204": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "205": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "206": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "207": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "208": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "209": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "210": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "211": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "215": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "216": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "217": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "218": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "219": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "220": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "221": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "222": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "223": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "224": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "225": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "226": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "227": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "228": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "234": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "235": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "236": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "237": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "240": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "241": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            7,
                                                            184
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "242": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "243": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            238
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "246": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "247": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "248": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "249": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "BorrowBook",
                                            "ReturnBook",
                                            "ReserveBook",
                                            "ExtendLoan",
                                            "VerifyMember"
                                        ],
                                        "readModelNames": [
                                            "LoanStatusListView",
                                            "LoanDetailView",
                                            "BookSearchView"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다."
                            }
                        ],
                        "conclusions": "옵션1은 대출과 예약을 각각 독립 Aggregate로 분리하여 도메인 책임과 확장성을 극대화하고, 복잡한 상태 전이 및 이벤트 기반 연동이 필요한 도서관 시스템에 적합합니다. 옵션2는 대출만을 Aggregate로 두어 단순화된 대출 관리와 빠른 트랜잭션 일관성이 중요한 환경에 적합합니다. 예약 기능이 단순하거나 외부 시스템과의 연동이 많지 않은 경우 옵션2가 더 효율적입니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트 흐름, DDL, 컨텍스트 관계, 그리고 기존 누적 초안의 Aggregate 정의를 종합적으로 분석하였습니다. 핵심 비즈니스 트랜잭션(대출, 예약)이 각각의 상태와 이력, 그리고 도서 상태 변경과 밀접하게 연결되어 있으므로, Loan과 Reservation을 반드시 Aggregate로 정의해야 하며, Book, LoanHistory, BookStateHistory 등은 ValueObject 참조로 처리해야 합니다. 옵션1은 Loan과 Reservation을 하나의 Aggregate로 통합하여 트랜잭션 일관성을 극대화하고, 옵션2는 Loan과 Reservation을 별도 Aggregate로 분리하여 독립성과 확장성을 강화합니다."
                    },
                    {
                        "boundedContext": "LoanHistoryQuery",
                        "boundedContextAlias": "대출 및 상태 이력 조회",
                        "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력",
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        14
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        57
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 이력 액션 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "BookStateHistory",
                                            "alias": "도서 상태 변경 이력",
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        14
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        9
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        57
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "각 애그리거트가 대출 이력과 상태 변경 이력이라는 명확한 책임을 가지므로 도메인 개념이 분리되어 유지보수가 용이하다.",
                                    "coupling": "LoanHistory와 BookStateHistory가 서로 직접 참조하지 않아 결합도가 낮고, 각 이력의 변경이 다른 이력에 영향을 주지 않는다.",
                                    "consistency": "각 이력의 트랜잭션 경계가 명확하여, 이력별로 원자적 업데이트와 조회가 가능하다.",
                                    "encapsulation": "각 이력의 도메인 규칙과 상태 전이가 해당 애그리거트 내부에 잘 은닉된다.",
                                    "complexity": "도메인 개념별로 구조가 분리되어 복잡도가 낮고, 개발자가 각 이력의 구조와 책임을 쉽게 이해할 수 있다.",
                                    "independence": "대출 이력과 상태 변경 이력의 확장 및 변경이 독립적으로 가능하다.",
                                    "performance": "특정 이력만 조회할 때 불필요한 데이터 접근이 없으므로 쿼리 성능이 최적화된다."
                                },
                                "cons": {
                                    "cohesion": "도서별 전체 이력(대출+상태변경)을 한 번에 조회할 때는 여러 애그리거트를 조합해야 하므로 응집도가 다소 낮아질 수 있다.",
                                    "coupling": "도서별 통합 이력 조회 시 두 애그리거트 간 조인 또는 애플리케이션 레벨 집계가 필요하다.",
                                    "consistency": "대출 이력과 상태 변경 이력이 동시에 갱신되어야 하는 복합 이벤트의 경우, 트랜잭션 일관성 보장이 어렵다.",
                                    "encapsulation": "통합 이력 규칙(예: 대출과 상태 변경의 상관관계)은 애그리거트 외부에서 관리해야 한다.",
                                    "complexity": "통합 이력 조회 및 복합 비즈니스 규칙 구현 시 애플리케이션 서비스 레이어의 복잡도가 증가한다.",
                                    "independence": "도서별 전체 이력 관리 정책 변경 시 두 애그리거트의 동시 수정이 필요할 수 있다.",
                                    "performance": "도서별 전체 이력 집계 시 다중 애그리거트 접근으로 인한 쿼리 비용이 증가할 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanHistoryQuery",
                                    "alias": "대출 및 상태 이력 조회",
                                    "displayName": "대출 및 상태 이력 조회",
                                    "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "BookStateHistory",
                                            "alias": "도서 상태 변경 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적",
                                        "ddl": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                        "event": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanHistoryQueried, BookStateHistoryQueried, LoanStatusQueried 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [],
                                        "readModelNames": [
                                            "BookLoanHistoryView",
                                            "BookStatusChangeHistoryView",
                                            "LoanStatusSummaryView"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 및 상태 이력 통합",
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        14
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        57
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 이력 액션 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            11
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 이력과 상태 변경 이력이 하나의 애그리거트에 통합되어 도서별 전체 이력 관리가 용이하다.",
                                    "coupling": "이력 관련 모든 기능이 하나의 애그리거트에 집중되어 외부 결합이 거의 없다.",
                                    "consistency": "대출 및 상태 변경 이력의 동시 갱신이 필요한 복합 이벤트도 단일 트랜잭션으로 일관성 있게 처리할 수 있다.",
                                    "encapsulation": "이력 관련 모든 도메인 규칙과 상태 전이가 애그리거트 내부에 집중되어 은닉성이 높다.",
                                    "complexity": "도서별 전체 이력 조회 및 복합 규칙 구현이 단순해지고, 쿼리도 단일 테이블에서 처리 가능하다.",
                                    "independence": "이력 관리 정책 변경 시 단일 애그리거트만 수정하면 되어 영향 범위가 작다.",
                                    "performance": "도서별 전체 이력 조회 시 단일 애그리거트 접근으로 쿼리 효율이 높다."
                                },
                                "cons": {
                                    "cohesion": "대출 이력과 상태 변경 이력의 도메인 책임이 혼합되어 단일 책임 원칙이 약화된다.",
                                    "coupling": "이력 구조가 복잡해질수록 애그리거트 내부 결합도가 높아지고, 유지보수가 어려워질 수 있다.",
                                    "consistency": "이력 데이터가 커질수록 트랜잭션 경계가 커져 동시성 이슈 및 성능 저하가 발생할 수 있다.",
                                    "encapsulation": "도메인 규칙이 복잡하게 얽히면 내부 구현이 난해해질 수 있다.",
                                    "complexity": "이력 유형별로 로직이 분기되어 코드 복잡도가 증가할 수 있다.",
                                    "independence": "대출 이력과 상태 변경 이력 중 하나만 변경해도 전체 애그리거트가 영향을 받는다.",
                                    "performance": "이력 데이터가 대량으로 누적될 경우, 단일 애그리거트의 저장/조회 성능이 저하될 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanHistoryQuery",
                                    "alias": "대출 및 상태 이력 조회",
                                    "displayName": "대출 및 상태 이력 조회",
                                    "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "BookStateHistory",
                                            "alias": "도서 상태 변경 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적",
                                        "ddl": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                        "event": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoanHistoryQueried, BookStateHistoryQueried, LoanStatusQueried 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            29
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            89
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            9,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [],
                                        "readModelNames": [
                                            "BookLoanHistoryView",
                                            "BookStatusChangeHistoryView",
                                            "LoanStatusSummaryView"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션1은 대출 이력과 상태 변경 이력을 명확히 분리하여 도메인 책임과 트랜잭션 경계를 구분하고자 할 때 적합합니다. 각 이력의 독립적 확장과 유지보수가 중요한 도서관 시스템에 권장됩니다. 옵션2는 도서별 전체 이력의 통합 관리와 단일 쿼리 효율이 중요한 환경, 즉 이력 데이터가 상대적으로 적거나 복합 이벤트가 빈번한 시스템에 적합합니다. 본 컨텍스트는 도서별 전체 이력의 통합 조회와 복합 이벤트 일관성이 중요하므로 옵션2를 기본 선택으로 추천합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 누적 초안, 이벤트, DDL, 컨텍스트 관계를 분석한 결과, 본 컨텍스트는 도서별 대출 이력과 상태 변경 이력의 효율적 조회 및 추적에 집중해야 하며, Book, Loan 등 이미 존재하는 애그리거트는 직접 생성하지 않고 참조 ValueObject로만 사용해야 한다. 옵션1은 LoanHistory와 BookStateHistory 두 개의 애그리거트로 분리하여 각각의 책임과 트랜잭션 경계를 명확히 한다. 옵션2는 LoanHistory 하나의 애그리거트에 모든 이력과 상태 변경 정보를 통합하여 단일 트랜잭션 경계와 단순 쿼리를 제공한다."
                    }
                ],
                "draftUIInfos": {
                    "leftBoundedContextCount": 0,
                    "directMessage": "Assigning DDL fields to aggregates for option 1... (1204 characters generated)",
                    "progress": 67
                },
                "isGeneratorButtonEnabled": true,
                "boundedContextVersion": 1,
                "retryInputs": {
                    "initialInputs": [
                        {
                            "boundedContext": {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "displayName": "도서 관리",
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                    "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookRegistered, BookStateChanged, BookDiscarded 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        5
                                                    ],
                                                    [
                                                        26,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "title",
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        5
                                                    ],
                                                    [
                                                        27,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "isbn",
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "author",
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        5
                                                    ],
                                                    [
                                                        29,
                                                        32
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "publisher",
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        5
                                                    ],
                                                    [
                                                        30,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "category",
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        17
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        5
                                                    ],
                                                    [
                                                        32,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        5
                                                    ],
                                                    [
                                                        33,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_date",
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        5
                                                    ],
                                                    [
                                                        34,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_reason",
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        5
                                                    ],
                                                    [
                                                        35,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        5
                                                    ],
                                                    [
                                                        36,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        5
                                                    ],
                                                    [
                                                        37,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        286
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        24,
                                                        1
                                                    ],
                                                    [
                                                        24,
                                                        6
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "132": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [
                                        "RegisterBook",
                                        "ValidateIsbnUniqueness",
                                        "DiscardBook",
                                        "UpdateBookStatus"
                                    ],
                                    "readModelNames": [
                                        "BookListView",
                                        "BookDetailView",
                                        "BookCategoryOptions"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "displayName": "대출/반납 및 예약",
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n대출 이력과 상태 변경",
                                    "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                    "event": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoanRequested, BookLoaned, BookReservationRequested, BookReserved, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        5
                                                    ],
                                                    [
                                                        46,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "member_id",
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        5
                                                    ],
                                                    [
                                                        47,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        5
                                                    ],
                                                    [
                                                        68,
                                                        34
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        5
                                                    ],
                                                    [
                                                        48,
                                                        24
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        5
                                                    ],
                                                    [
                                                        69,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_date",
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        5
                                                    ],
                                                    [
                                                        49,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "due_date",
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        5
                                                    ],
                                                    [
                                                        50,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "return_date",
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        5
                                                    ],
                                                    [
                                                        51,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_period_days",
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        5
                                                    ],
                                                    [
                                                        52,
                                                        23
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        5
                                                    ],
                                                    [
                                                        53,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        5
                                                    ],
                                                    [
                                                        71,
                                                        54
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "extension_count",
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        5
                                                    ],
                                                    [
                                                        55,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        5
                                                    ],
                                                    [
                                                        74,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        5
                                                    ],
                                                    [
                                                        56,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        5
                                                    ],
                                                    [
                                                        75,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_id",
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        5
                                                    ],
                                                    [
                                                        67,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_date",
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        5
                                                    ],
                                                    [
                                                        70,
                                                        55
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notification_sent",
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        5
                                                    ],
                                                    [
                                                        72,
                                                        43
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "expiry_date",
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        5
                                                    ],
                                                    [
                                                        73,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        41
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "10": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "11": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "12": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "18": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        82
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "20": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        81
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        12
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        53
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "132": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "137": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "146": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "150": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "151": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "152": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "153": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "154": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "155": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "156": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "157": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "158": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "159": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "160": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "161": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "162": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "163": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "164": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "165": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "166": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "167": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        223
                                                    ],
                                                    [
                                                        3,
                                                        241
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "171": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "172": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "173": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "174": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "175": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "176": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "177": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "178": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "179": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "180": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "181": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "182": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "183": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "184": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "185": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "186": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "187": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "188": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "189": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "193": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "194": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "195": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "196": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "197": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "198": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "199": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "200": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "201": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "202": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "203": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "204": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "205": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "206": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "207": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "208": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "209": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "210": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "211": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "215": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "216": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "217": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "218": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "219": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "220": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "221": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "222": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "223": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "224": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "225": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "226": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "227": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "228": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "234": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "235": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "236": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "237": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "240": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "241": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        7,
                                                        184
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "242": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "243": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        238
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "246": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "247": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "248": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "249": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [
                                        "BorrowBook",
                                        "ReturnBook",
                                        "ReserveBook",
                                        "ExtendLoan",
                                        "VerifyMember"
                                    ],
                                    "readModelNames": [
                                        "LoanStatusListView",
                                        "LoanDetailView",
                                        "BookSearchView"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanHistoryQuery",
                                "alias": "대출 및 상태 이력 조회",
                                "displayName": "대출 및 상태 이력 조회",
                                "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "BookStateHistory",
                                        "alias": "도서 상태 변경 이력"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적",
                                    "ddl": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                    "event": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoanHistoryQueried, BookStateHistoryQueried, LoanStatusQueried 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "20": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "21": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        9
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        29
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        89
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        9,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [],
                                    "readModelNames": [
                                        "BookLoanHistoryView",
                                        "BookStatusChangeHistoryView",
                                        "LoanStatusSummaryView"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                        }
                    ],
                    "initialAccumulatedDrafts": {
                        "BookManagement": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanAndReservation": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanHistoryQuery": [
                            {
                                "aggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "BookStateHistory",
                                    "alias": "도서 상태 변경 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ]
                    }
                },
                "selectedOptionItem": {
                    "BookManagement": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                286
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                1
                                            ],
                                            [
                                                3,
                                                44
                                            ]
                                        ],
                                        [
                                            [
                                                25,
                                                14
                                            ],
                                            [
                                                25,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                26,
                                                1
                                            ],
                                            [
                                                26,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                27,
                                                1
                                            ],
                                            [
                                                27,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                28,
                                                1
                                            ],
                                            [
                                                28,
                                                37
                                            ]
                                        ],
                                        [
                                            [
                                                29,
                                                1
                                            ],
                                            [
                                                29,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                30,
                                                1
                                            ],
                                            [
                                                30,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                1
                                            ],
                                            [
                                                31,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                32,
                                                1
                                            ],
                                            [
                                                32,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                33,
                                                1
                                            ],
                                            [
                                                33,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                34,
                                                1
                                            ],
                                            [
                                                34,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                35,
                                                1
                                            ],
                                            [
                                                35,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                36,
                                                1
                                            ],
                                            [
                                                36,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                37,
                                                1
                                            ],
                                            [
                                                37,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                38,
                                                1
                                            ],
                                            [
                                                38,
                                                28
                                            ]
                                        ],
                                        [
                                            [
                                                39,
                                                1
                                            ],
                                            [
                                                39,
                                                26
                                            ]
                                        ],
                                        [
                                            [
                                                40,
                                                1
                                            ],
                                            [
                                                40,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                41,
                                                1
                                            ],
                                            [
                                                41,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                42,
                                                1
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ],
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookCategory",
                                        "alias": "도서 카테고리",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    135
                                                ],
                                                [
                                                    3,
                                                    162
                                                ]
                                            ],
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "Isbn",
                                        "alias": "ISBN",
                                        "referencedAggregateName": "",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    71
                                                ],
                                                [
                                                    3,
                                                    74
                                                ]
                                            ],
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    6
                                                ],
                                                [
                                                    9,
                                                    10
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    222
                                                ],
                                                [
                                                    3,
                                                    224
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryReference",
                                        "alias": "대출 이력 참조",
                                        "referencedAggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    6
                                                ],
                                                [
                                                    9,
                                                    10
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookStateHistoryReference",
                                        "alias": "도서 상태 변경 이력 참조",
                                        "referencedAggregate": {
                                            "name": "BookStateHistory",
                                            "alias": "도서 상태 변경 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    13
                                                ],
                                                [
                                                    9,
                                                    20
                                                ]
                                            ],
                                            [
                                                [
                                                    85,
                                                    14
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ],
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ],
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ],
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ],
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    17
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "도서의 라이프사이클, 상태, 폐기, 카테고리 등 모든 관리 기능이 Book Aggregate에 집중되어 있어 일관된 도서 관리가 가능합니다.",
                            "coupling": "외부 컨텍스트와의 의존성이 ValueObject 참조로 제한되어 결합도가 낮고, 도서 관리의 독립성이 보장됩니다.",
                            "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙이 단일 트랜잭션 내에서 원자적으로 보장됩니다.",
                            "encapsulation": "도서의 상태, ISBN, 카테고리 등 핵심 도메인 규칙이 Aggregate 내부에 잘 은닉되어 있습니다.",
                            "complexity": "단일 Aggregate로 구조가 단순하여 개발 및 유지보수가 용이합니다.",
                            "independence": "도서 관리 정책 변경 시 다른 Aggregate에 영향 없이 독립적으로 진화할 수 있습니다.",
                            "performance": "도서 관련 조회 및 상태 변경이 한 Aggregate에서 처리되어 쿼리 효율성이 높습니다."
                        },
                        "cons": {
                            "cohesion": "카테고리 관리, 상태 이력 등 다양한 책임이 한 Aggregate에 모여 있어 향후 기능 확장 시 복잡도가 증가할 수 있습니다.",
                            "coupling": "도서 관련 모든 변경이 Book Aggregate에 집중되어 동시성 이슈가 발생할 수 있습니다.",
                            "consistency": "상태 이력, 대출/예약 등 외부 시스템과의 동기화가 느슨해져 일시적 불일치가 발생할 수 있습니다.",
                            "encapsulation": "카테고리나 이력 관리 등 일부 세부 도메인 규칙이 Aggregate 내부에서 과도하게 은닉될 수 있습니다.",
                            "complexity": "도서 관리 기능이 많아질수록 Aggregate가 비대해질 위험이 있습니다.",
                            "independence": "카테고리 정책 등 일부 기능의 독립적 진화가 어렵습니다.",
                            "performance": "도서 등록/상태 변경/폐기 등 다양한 작업이 집중될 경우 트랜잭션 경합이 발생할 수 있습니다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "displayName": "도서 관리",
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookRegistered, BookStateChanged, BookDiscarded 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    17
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    286
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    301
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    63
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    1
                                                ],
                                                [
                                                    24,
                                                    6
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    25,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    1
                                                ],
                                                [
                                                    26,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    1
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    1
                                                ],
                                                [
                                                    32,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    1
                                                ],
                                                [
                                                    33,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    1
                                                ],
                                                [
                                                    34,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    1
                                                ],
                                                [
                                                    35,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    1
                                                ],
                                                [
                                                    36,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    1
                                                ],
                                                [
                                                    37,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    38,
                                                    1
                                                ],
                                                [
                                                    38,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    39,
                                                    1
                                                ],
                                                [
                                                    39,
                                                    26
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    40,
                                                    1
                                                ],
                                                [
                                                    40,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    41,
                                                    1
                                                ],
                                                [
                                                    41,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    42,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    1
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "132": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [
                                    "RegisterBook",
                                    "ValidateIsbnUniqueness",
                                    "DiscardBook",
                                    "UpdateBookStatus"
                                ],
                                "readModelNames": [
                                    "BookListView",
                                    "BookDetailView",
                                    "BookCategoryOptions"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서의 등록, 상태 관리, 폐기 처리를 담당하며, 도서의 라이프사이클을 관리한다. ISBN 중복 검증, 카테고리 관리, 도서 상태(대출가능/대출중/예약중/폐기) 변경을 포함한다.\n\n## Key Events\n- BookRegistered\n- BookStateChanged\n- BookDiscarded\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 등록\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStateChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능/대출중/예약중/폐기\"\n  ],\n  \"nextEvents\": [\n    \"BookDiscarded\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDiscarded\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 훼손/분실 확인\",\n    \"폐기 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                    },
                    "LoanAndReservation": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                14
                                            ],
                                            [
                                                45,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                46,
                                                1
                                            ],
                                            [
                                                46,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                47,
                                                1
                                            ],
                                            [
                                                47,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                48,
                                                1
                                            ],
                                            [
                                                48,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                49,
                                                1
                                            ],
                                            [
                                                49,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                50,
                                                1
                                            ],
                                            [
                                                50,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                51,
                                                1
                                            ],
                                            [
                                                51,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                52,
                                                1
                                            ],
                                            [
                                                52,
                                                74
                                            ]
                                        ],
                                        [
                                            [
                                                53,
                                                1
                                            ],
                                            [
                                                53,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                54,
                                                1
                                            ],
                                            [
                                                54,
                                                34
                                            ]
                                        ],
                                        [
                                            [
                                                55,
                                                1
                                            ],
                                            [
                                                55,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                56,
                                                1
                                            ],
                                            [
                                                56,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                57,
                                                1
                                            ],
                                            [
                                                57,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                58,
                                                1
                                            ],
                                            [
                                                58,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                59,
                                                1
                                            ],
                                            [
                                                59,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                60,
                                                1
                                            ],
                                            [
                                                60,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                61,
                                                1
                                            ],
                                            [
                                                61,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                62,
                                                1
                                            ],
                                            [
                                                62,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                63,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                1
                                            ],
                                            [
                                                5,
                                                40
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                73
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 상태",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    18
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryReference",
                                        "alias": "대출 이력 참조",
                                        "referencedAggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    14
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ],
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ],
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ],
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ],
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ],
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ],
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ],
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    23
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약",
                                    "refs": [
                                        [
                                            [
                                                66,
                                                14
                                            ],
                                            [
                                                66,
                                                27
                                            ]
                                        ],
                                        [
                                            [
                                                67,
                                                1
                                            ],
                                            [
                                                67,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                68,
                                                1
                                            ],
                                            [
                                                68,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                69,
                                                1
                                            ],
                                            [
                                                69,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                70,
                                                1
                                            ],
                                            [
                                                70,
                                                56
                                            ]
                                        ],
                                        [
                                            [
                                                71,
                                                1
                                            ],
                                            [
                                                71,
                                                61
                                            ]
                                        ],
                                        [
                                            [
                                                72,
                                                1
                                            ],
                                            [
                                                72,
                                                44
                                            ]
                                        ],
                                        [
                                            [
                                                73,
                                                1
                                            ],
                                            [
                                                73,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                74,
                                                1
                                            ],
                                            [
                                                74,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                75,
                                                1
                                            ],
                                            [
                                                75,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                76,
                                                1
                                            ],
                                            [
                                                76,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                77,
                                                1
                                            ],
                                            [
                                                77,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                78,
                                                1
                                            ],
                                            [
                                                78,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                79,
                                                1
                                            ],
                                            [
                                                79,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                80,
                                                1
                                            ],
                                            [
                                                80,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                81,
                                                1
                                            ],
                                            [
                                                81,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                82,
                                                1
                                            ],
                                            [
                                                82,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                193
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "ReservationStatus",
                                        "alias": "예약 상태",
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    43
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    49
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출과 예약이 각각의 Aggregate로 분리되어 각자의 책임과 비즈니스 규칙을 명확하게 유지할 수 있습니다.",
                            "coupling": "도서, 이력 등은 ValueObject 참조로만 연결되어 있어 Aggregate 간 결합도가 낮아집니다.",
                            "consistency": "대출 및 예약 각각의 트랜잭션 경계 내에서 상태 변경 및 이력 기록이 원자적으로 처리되어 비즈니스 불변성이 잘 보장됩니다.",
                            "encapsulation": "대출과 예약의 상태 전이, 연장, 취소 등 복잡한 도메인 규칙이 Aggregate 내부에 잘 은닉됩니다.",
                            "complexity": "각 Aggregate가 단일 책임을 가지므로 도메인 모델이 명확하고 이해하기 쉽습니다.",
                            "independence": "대출과 예약의 도메인 정책 변경이나 확장이 서로 영향을 주지 않고 독립적으로 가능합니다.",
                            "performance": "대출 현황, 예약 현황 등 조회 시 단일 Aggregate만 접근하면 되어 효율적입니다."
                        },
                        "cons": {
                            "cohesion": "대출과 예약이 서로 긴밀하게 연결되는 시나리오(예: 반납 시 예약자 자동 처리)에서는 추가적인 조정 로직이 필요합니다.",
                            "coupling": "예약과 대출 간 상태 연동이 이벤트 기반으로만 처리되어 일시적 불일치가 발생할 수 있습니다.",
                            "consistency": "예약과 대출이 별도 트랜잭션으로 처리되므로 복합 상태 변경 시 일관성 보장이 어렵습니다.",
                            "encapsulation": "예약과 대출 간 복합 비즈니스 규칙(예: 예약 우선순위 반영)이 Aggregate 외부에서 구현되어야 합니다.",
                            "complexity": "예약-대출 간 상태 전이 및 이벤트 핸들링 로직이 서비스 계층에 분산될 수 있습니다.",
                            "independence": "예약과 대출의 상태가 서로 영향을 주는 경우, 완전한 독립성은 보장되지 않습니다.",
                            "performance": "예약-대출 상태를 동시에 조회하거나 갱신할 때 두 Aggregate를 모두 접근해야 하므로 복합 쿼리 성능이 저하될 수 있습니다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "displayName": "대출/반납 및 예약",
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "requirements": {
                                "userStory": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n대출 이력과 상태 변경",
                                "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                "event": "{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ],\n    [\n      [\n        7,\n        53\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        223\n      ],\n      [\n        3,\n        241\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoanRequested, BookLoaned, BookReservationRequested, BookReserved, BookLoanExtended, BookReturned 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    23
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    43
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "10": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "11": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "12": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "18": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    82
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "20": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    81
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    45,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    1
                                                ],
                                                [
                                                    46,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    1
                                                ],
                                                [
                                                    47,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    1
                                                ],
                                                [
                                                    48,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    1
                                                ],
                                                [
                                                    49,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    1
                                                ],
                                                [
                                                    50,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    1
                                                ],
                                                [
                                                    51,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    1
                                                ],
                                                [
                                                    52,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    1
                                                ],
                                                [
                                                    53,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    1
                                                ],
                                                [
                                                    54,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    1
                                                ],
                                                [
                                                    55,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    1
                                                ],
                                                [
                                                    56,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    57,
                                                    1
                                                ],
                                                [
                                                    57,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    58,
                                                    1
                                                ],
                                                [
                                                    58,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    59,
                                                    1
                                                ],
                                                [
                                                    59,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    60,
                                                    1
                                                ],
                                                [
                                                    60,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    61,
                                                    1
                                                ],
                                                [
                                                    61,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    62,
                                                    1
                                                ],
                                                [
                                                    62,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    63,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    53
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "132": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "137": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "146": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "150": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "151": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "152": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "153": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "154": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "155": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "156": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "157": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "158": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "159": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "160": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "161": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "162": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "163": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "164": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "165": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "166": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "167": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    223
                                                ],
                                                [
                                                    3,
                                                    241
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "171": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "172": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "173": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "174": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "175": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "176": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "177": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "178": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "179": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "180": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "181": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "182": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "183": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "184": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "185": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "186": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "187": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "188": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "189": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "193": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "194": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "195": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "196": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "197": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "198": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "199": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "200": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "201": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "202": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "203": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "204": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "205": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "206": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "207": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "208": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "209": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "210": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "211": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "215": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "216": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "217": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "218": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "219": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "220": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "221": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "222": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "223": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "224": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "225": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "226": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "227": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "228": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "234": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "235": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "236": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "237": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "240": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "241": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    7,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "242": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "243": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    238
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "246": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "247": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "248": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "249": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [
                                    "BorrowBook",
                                    "ReturnBook",
                                    "ReserveBook",
                                    "ExtendLoan",
                                    "VerifyMember"
                                ],
                                "readModelNames": [
                                    "LoanStatusListView",
                                    "LoanDetailView",
                                    "BookSearchView"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고, 대출/예약 상태에 따라 도서 상태를 변경한다. 회원 인증, 대출 기간 관리, 예약 처리, 반납 시 예약자 처리 등 대출/반납 프로세스 전반을 담당한다.\n\n## Key Events\n- BookLoanRequested\n- BookLoaned\n- BookReservationRequested\n- BookReserved\n- BookLoanExtended\n- BookReturned\n\n# Requirements\n\n## userStory\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료\n\n대출 이력과 상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanRequested\",\n  \"displayName\": \"도서 대출 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 1,\n  \"description\": \"회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서명 또는 ISBN\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\",\n    \"BookReservationRequested\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"대출 신청 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출중\",\n    \"대출 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoanExtended\",\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReservationRequested\",\n  \"displayName\": \"도서 예약 신청됨\",\n  \"actor\": \"Member\",\n  \"level\": 2,\n  \"description\": \"대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"예약 신청 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"System\",\n  \"level\": 3,\n  \"description\": \"예약 신청이 승인되어 도서가 예약 상태로 변경됨.\",\n  \"inputs\": [\n    \"예약 신청 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 예약중\",\n    \"예약 이력 생성\"\n  ],\n  \"nextEvents\": [\n    \"BookLoaned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookLoanExtended\",\n  \"displayName\": \"도서 대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 3,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"대출 이력\",\n    \"연장 요청\"\n  ],\n  \"outputs\": [\n    \"대출 기간 연장\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookReturned\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서명 또는 ISBN\",\n    \"반납 요청\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"대출 이력 갱신\"\n  ],\n  \"nextEvents\": [\n    \"BookStateChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-BookManagement\n- **Type**: Pub/Sub\n- **Direction**: sends to 도서 관리 (BookManagement)\n- **Reason**: 도서 상태가 변경될 때 대출/반납 프로세스에 영향을 주기 때문에 이벤트 기반으로 상태 변경을 전달한다.\n- **Interaction Pattern**: 도서 등록, 폐기 등 상태 변경 이벤트를 발행하면 대출/반납 컨텍스트에서 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출 및 상태 이력 조회 (LoanHistoryQuery)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다."
                    },
                    "LoanHistoryQuery": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 및 상태 이력 통합",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                14
                                            ],
                                            [
                                                99,
                                                27
                                            ]
                                        ],
                                        [
                                            [
                                                100,
                                                1
                                            ],
                                            [
                                                100,
                                                46
                                            ]
                                        ],
                                        [
                                            [
                                                101,
                                                1
                                            ],
                                            [
                                                101,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                102,
                                                1
                                            ],
                                            [
                                                102,
                                                64
                                            ]
                                        ],
                                        [
                                            [
                                                103,
                                                1
                                            ],
                                            [
                                                103,
                                                51
                                            ]
                                        ],
                                        [
                                            [
                                                104,
                                                1
                                            ],
                                            [
                                                104,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                105,
                                                1
                                            ],
                                            [
                                                105,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                106,
                                                1
                                            ],
                                            [
                                                106,
                                                15
                                            ]
                                        ],
                                        [
                                            [
                                                107,
                                                1
                                            ],
                                            [
                                                107,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                108,
                                                1
                                            ],
                                            [
                                                108,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                109,
                                                1
                                            ],
                                            [
                                                109,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                110,
                                                1
                                            ],
                                            [
                                                110,
                                                40
                                            ]
                                        ],
                                        [
                                            [
                                                111,
                                                1
                                            ],
                                            [
                                                111,
                                                9
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                1
                                            ],
                                            [
                                                9,
                                                57
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanActionType",
                                        "alias": "대출 이력 액션 유형",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    52
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    45
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    11
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    11
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출 이력과 상태 변경 이력이 하나의 애그리거트에 통합되어 도서별 전체 이력 관리가 용이하다.",
                            "coupling": "이력 관련 모든 기능이 하나의 애그리거트에 집중되어 외부 결합이 거의 없다.",
                            "consistency": "대출 및 상태 변경 이력의 동시 갱신이 필요한 복합 이벤트도 단일 트랜잭션으로 일관성 있게 처리할 수 있다.",
                            "encapsulation": "이력 관련 모든 도메인 규칙과 상태 전이가 애그리거트 내부에 집중되어 은닉성이 높다.",
                            "complexity": "도서별 전체 이력 조회 및 복합 규칙 구현이 단순해지고, 쿼리도 단일 테이블에서 처리 가능하다.",
                            "independence": "이력 관리 정책 변경 시 단일 애그리거트만 수정하면 되어 영향 범위가 작다.",
                            "performance": "도서별 전체 이력 조회 시 단일 애그리거트 접근으로 쿼리 효율이 높다."
                        },
                        "cons": {
                            "cohesion": "대출 이력과 상태 변경 이력의 도메인 책임이 혼합되어 단일 책임 원칙이 약화된다.",
                            "coupling": "이력 구조가 복잡해질수록 애그리거트 내부 결합도가 높아지고, 유지보수가 어려워질 수 있다.",
                            "consistency": "이력 데이터가 커질수록 트랜잭션 경계가 커져 동시성 이슈 및 성능 저하가 발생할 수 있다.",
                            "encapsulation": "도메인 규칙이 복잡하게 얽히면 내부 구현이 난해해질 수 있다.",
                            "complexity": "이력 유형별로 로직이 분기되어 코드 복잡도가 증가할 수 있다.",
                            "independence": "대출 이력과 상태 변경 이력 중 하나만 변경해도 전체 애그리거트가 영향을 받는다.",
                            "performance": "이력 데이터가 대량으로 누적될 경우, 단일 애그리거트의 저장/조회 성능이 저하될 수 있다."
                        },
                        "isAIRecommended": true,
                        "boundedContext": {
                            "name": "LoanHistoryQuery",
                            "alias": "대출 및 상태 이력 조회",
                            "displayName": "대출 및 상태 이력 조회",
                            "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "BookStateHistory",
                                    "alias": "도서 상태 변경 이력"
                                }
                            ],
                            "requirements": {
                                "userStory": "대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적",
                                "ddl": "CREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                "event": "{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        29\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        7,\n        1\n      ],\n      [\n        7,\n        89\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoanHistoryQueried, BookStateHistoryQueried, LoanStatusQueried 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ],
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "20": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "21": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    89
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    9,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [],
                                "readModelNames": [
                                    "BookLoanHistoryView",
                                    "BookStatusChangeHistoryView",
                                    "LoanStatusSummaryView"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanHistoryQuery (대출 및 상태 이력 조회)\n\n## Role\n도서별 대출 이력, 상태 변경 이력, 전체 대출 현황을 조회하여 도서의 상태 변화 및 대출 현황을 추적할 수 있도록 한다.\n\n## Key Events\n- BookLoanHistoryQueried\n- BookStateHistoryQueried\n- LoanStatusQueried\n\n# Requirements\n\n## userStory\n\n대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적\n\n## DDL\n\n```sql\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoanHistoryQueried\",\n  \"displayName\": \"도서 대출 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 대출 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"대출 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"BookStateHistoryQueried\",\n  \"displayName\": \"도서 상태 변경 이력 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 특정 도서의 상태 변경 이력을 조회함.\",\n  \"inputs\": [\n    \"도서명 또는 ISBN\"\n  ],\n  \"outputs\": [\n    \"상태 변경 이력 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"LoanStatusQueried\",\n  \"displayName\": \"대출 현황 조회됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.\",\n  \"inputs\": [\n    \"대출 현황 조회 요청\"\n  ],\n  \"outputs\": [\n    \"대출 현황 목록\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출/반납/예약 등 이벤트 발생 시 이력 및 현황 조회 컨텍스트에서 이를 구독하여 이력을 갱신한다.\n- **Interaction Pattern**: 대출/반납/예약 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 이력 데이터를 생성/갱신한다.\n\n### BookManagement-LoanHistoryQuery\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기, 상태 변경 등 이벤트 발생 시 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 관리한다.\n- **Interaction Pattern**: 도서 관리 컨텍스트에서 상태 변경 이벤트를 발행하면 이력 조회 컨텍스트에서 이를 구독하여 상태 변경 이력을 기록한다."
                    }
                }
            }
        ],
        "frontEndResults": [
            {
                "aggregates": [],
                "alias": "프론트 엔드",
                "complexity": "0.0",
                "differentiation": "0.0",
                "events": [],
                "implementationStrategy": "Transaction Script",
                "importance": "Generic Domain",
                "name": "ui",
                "requirements": [
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    1,
                                    1
                                ],
                                [
                                    1,
                                    33
                                ]
                            ]
                        ],
                        "text": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을"
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    3,
                                    55
                                ]
                            ]
                        ],
                        "text": "'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    5,
                                    1
                                ],
                                [
                                    5,
                                    47
                                ]
                            ]
                        ],
                        "text": "'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    40
                                ]
                            ]
                        ],
                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해."
                    },
                    {
                        "type": "userStory",
                        "refs": [
                            [
                                [
                                    9,
                                    1
                                ],
                                [
                                    9,
                                    74
                                ]
                            ]
                        ],
                        "text": "각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해."
                    }
                ],
                "role": "요구사항에서 화면 관련 내용을 수집하기 위한 컨텍스트",
                "commandNames": [],
                "readModelNames": [
                    "LoanPeriodOptions"
                ]
            }
        ],
        "pbcResults": [],
        "pbcLists": [
            {
                "name": "chat-vue3-en",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "Chat service (Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                "id": 19,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
            },
            {
                "name": "review",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                "description": "review",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                "id": 21,
                "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
            },
            {
                "name": "reservation-notification",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 22,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
            },
            {
                "name": "reservation-notification-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 23,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
            },
            {
                "name": "chat-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 24,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
            },
            {
                "name": "chat",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 25,
                "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
            },
            {
                "name": "payment-system",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                "description": "결제를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                "id": 26,
                "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
            },
            {
                "name": "document-management",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                "description": "파일관리를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "### Instruction\n",
                "id": 30,
                "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
            },
            {
                "name": "gitlab",
                "rating": 5,
                "imageUrl": null,
                "description": "openapi.yaml",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## instruction\n",
                "id": 34,
                "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
            },
            {
                "name": "PBC-Test",
                "rating": 5,
                "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                "description": "Framework for rapidly and easily developing Java-based web applications.",
                "tags": [
                    "PBC"
                ],
                "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                "id": 35,
                "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
            }
        ],
        "projectInfo": {
            "author": "EYCl46CwWAWvpz2E1BCUpVgPIpa2",
            "authorEmail": "shinseongjin@uengine.org",
            "comment": "",
            "createdTimeStamp": 1759227062922,
            "inputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "lastModifiedTimeStamp": 1759227062922,
            "projectId": "163972132_project_225eb6580cdb789712d9cc59ec12b748",
            "projectName": "",
            "prompt": "",
            "summarizedResult": "",
            "type": "project",
            "usedInputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "usedUserStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "commandReadModelData": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서관리",
                        "commands": [
                            {
                                "name": "RegisterBook",
                                "alias": "도서등록",
                                "description": "새로운 도서를 등록한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "properties": [
                                    {
                                        "name": "title",
                                        "type": "String",
                                        "description": "도서명"
                                    },
                                    {
                                        "name": "isbn",
                                        "type": "String",
                                        "description": "13자리 ISBN"
                                    },
                                    {
                                        "name": "author",
                                        "type": "String",
                                        "description": "저자"
                                    },
                                    {
                                        "name": "publisher",
                                        "type": "String",
                                        "description": "출판사"
                                    },
                                    {
                                        "name": "category",
                                        "type": "String",
                                        "description": "카테고리(소설/비소설/학술/잡지)"
                                    }
                                ]
                            },
                            {
                                "name": "ValidateIsbnUniqueness",
                                "alias": "ISBN중복확인",
                                "description": "ISBN의 중복 여부를 검증한다.",
                                "actor": "system",
                                "aggregate": "Book",
                                "properties": [
                                    {
                                        "name": "isbn",
                                        "type": "String",
                                        "description": "13자리 ISBN"
                                    }
                                ]
                            },
                            {
                                "name": "DiscardBook",
                                "alias": "도서폐기처리",
                                "description": "도서가 훼손되거나 분실된 경우 폐기 처리한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "properties": [
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "도서 식별자"
                                    },
                                    {
                                        "name": "reason",
                                        "type": "String",
                                        "description": "폐기 사유"
                                    }
                                ]
                            },
                            {
                                "name": "UpdateBookStatus",
                                "alias": "도서상태변경",
                                "description": "도서의 상태를 수동으로 변경한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "properties": [
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "도서 식별자"
                                    },
                                    {
                                        "name": "status",
                                        "type": "String",
                                        "description": "변경할 상태(대출가능/대출중/예약중/폐기)"
                                    }
                                ]
                            }
                        ],
                        "readModels": [
                            {
                                "name": "BookListView",
                                "alias": "도서목록조회",
                                "description": "현재 보유한 도서들의 목록과 상태를 조회한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "queryParameters": [
                                    {
                                        "name": "category",
                                        "type": "String",
                                        "description": "카테고리별 필터"
                                    },
                                    {
                                        "name": "status",
                                        "type": "String",
                                        "description": "도서 상태별 필터"
                                    },
                                    {
                                        "name": "title",
                                        "type": "String",
                                        "description": "도서명 검색"
                                    },
                                    {
                                        "name": "isbn",
                                        "type": "String",
                                        "description": "ISBN 검색"
                                    }
                                ]
                            },
                            {
                                "name": "BookDetailView",
                                "alias": "도서상세조회",
                                "description": "단일 도서의 상세 정보를 조회한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": false,
                                "queryParameters": [
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "도서 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "BookCategoryOptions",
                                "alias": "도서카테고리옵션",
                                "description": "도서 등록 시 선택 가능한 카테고리 옵션을 조회한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "queryParameters": []
                            }
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출및예약",
                        "commands": [
                            {
                                "name": "BorrowBook",
                                "alias": "도서대출",
                                "description": "회원이 도서를 대출한다.",
                                "actor": "user",
                                "aggregate": "Loan",
                                "properties": [
                                    {
                                        "name": "memberId",
                                        "type": "Long",
                                        "description": "회원번호"
                                    },
                                    {
                                        "name": "memberName",
                                        "type": "String",
                                        "description": "회원 이름"
                                    },
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "대출할 도서 식별자"
                                    },
                                    {
                                        "name": "loanPeriod",
                                        "type": "Integer",
                                        "description": "대출 기간(7/14/30일)"
                                    }
                                ]
                            },
                            {
                                "name": "ReturnBook",
                                "alias": "도서반납",
                                "description": "회원이 대출한 도서를 반납한다.",
                                "actor": "user",
                                "aggregate": "Loan",
                                "properties": [
                                    {
                                        "name": "loanId",
                                        "type": "Long",
                                        "description": "대출 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "ReserveBook",
                                "alias": "도서예약",
                                "description": "대출 중인 도서에 대해 예약을 신청한다.",
                                "actor": "user",
                                "aggregate": "Reservation",
                                "properties": [
                                    {
                                        "name": "memberId",
                                        "type": "Long",
                                        "description": "회원번호"
                                    },
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "예약할 도서 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "ExtendLoan",
                                "alias": "대출연장",
                                "description": "대출 중인 도서의 대출 기간을 연장한다.",
                                "actor": "user",
                                "aggregate": "Loan",
                                "properties": [
                                    {
                                        "name": "loanId",
                                        "type": "Long",
                                        "description": "대출 식별자"
                                    },
                                    {
                                        "name": "extendPeriod",
                                        "type": "Integer",
                                        "description": "연장 기간(7/14/30일)"
                                    }
                                ]
                            },
                            {
                                "name": "VerifyMember",
                                "alias": "회원확인",
                                "description": "회원번호와 이름으로 회원을 확인한다.",
                                "actor": "system",
                                "aggregate": "Member",
                                "properties": [
                                    {
                                        "name": "memberId",
                                        "type": "Long",
                                        "description": "회원번호"
                                    },
                                    {
                                        "name": "memberName",
                                        "type": "String",
                                        "description": "회원 이름"
                                    }
                                ]
                            }
                        ],
                        "readModels": [
                            {
                                "name": "LoanStatusListView",
                                "alias": "대출현황목록",
                                "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 상태를 조회한다.",
                                "actor": "admin",
                                "aggregate": "Loan",
                                "isMultipleResult": true,
                                "queryParameters": [
                                    {
                                        "name": "status",
                                        "type": "String",
                                        "description": "대출 상태(대출중/연체/반납완료) 필터"
                                    },
                                    {
                                        "name": "memberId",
                                        "type": "Long",
                                        "description": "회원번호로 필터"
                                    }
                                ]
                            },
                            {
                                "name": "LoanDetailView",
                                "alias": "대출상세조회",
                                "description": "대출 건의 상세 정보를 조회한다.",
                                "actor": "admin",
                                "aggregate": "Loan",
                                "isMultipleResult": false,
                                "queryParameters": [
                                    {
                                        "name": "loanId",
                                        "type": "Long",
                                        "description": "대출 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "BookSearchView",
                                "alias": "도서검색",
                                "description": "도서명 또는 ISBN으로 도서를 검색한다.",
                                "actor": "user",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "queryParameters": [
                                    {
                                        "name": "title",
                                        "type": "String",
                                        "description": "도서명"
                                    },
                                    {
                                        "name": "isbn",
                                        "type": "String",
                                        "description": "ISBN"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "name": "LoanHistoryQuery",
                        "alias": "대출이력조회",
                        "commands": [],
                        "readModels": [
                            {
                                "name": "BookLoanHistoryView",
                                "alias": "도서별대출이력조회",
                                "description": "도서별 대출 이력을 조회한다.",
                                "actor": "admin",
                                "aggregate": "Loan",
                                "isMultipleResult": true,
                                "queryParameters": [
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "도서 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "BookStatusChangeHistoryView",
                                "alias": "도서상태변경이력조회",
                                "description": "도서별 상태 변경 이력을 조회한다.",
                                "actor": "admin",
                                "aggregate": "Book",
                                "isMultipleResult": true,
                                "queryParameters": [
                                    {
                                        "name": "bookId",
                                        "type": "Long",
                                        "description": "도서 식별자"
                                    }
                                ]
                            },
                            {
                                "name": "LoanStatusSummaryView",
                                "alias": "전체대출현황요약",
                                "description": "전체 도서의 대출 현황을 요약하여 조회한다.",
                                "actor": "admin",
                                "aggregate": "Loan",
                                "isMultipleResult": true,
                                "queryParameters": []
                            }
                        ]
                    },
                    {
                        "name": "ui",
                        "alias": "UI",
                        "commands": [],
                        "readModels": [
                            {
                                "name": "LoanPeriodOptions",
                                "alias": "대출기간옵션",
                                "description": "대출 신청 시 선택 가능한 대출 기간 옵션(7/14/30일)을 조회한다.",
                                "actor": "user",
                                "aggregate": "Loan",
                                "isMultipleResult": true,
                                "queryParameters": []
                            }
                        ]
                    }
                ]
            }
        },
        "requirementsValidationResult": {
            "type": "ANALYSIS_RESULT",
            "projectName": "Requirements Analysis",
            "content": {
                "elements": {
                    "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00",
                        "name": "Librarian",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "e87bc2a8-52a8-c54a-f373-fc6e41ea2a00",
                            "x": 150,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "ad8d121b-6742-5b6b-1a6c-c823311e8a23": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "ad8d121b-6742-5b6b-1a6c-c823311e8a23",
                        "name": "Member",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "ad8d121b-6742-5b6b-1a6c-c823311e8a23",
                            "x": 150,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "de7ca3b5-eb47-ecb6-724e-316eed8d43a7": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "de7ca3b5-eb47-ecb6-724e-316eed8d43a7",
                        "name": "System",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "de7ca3b5-eb47-ecb6-724e-316eed8d43a7",
                            "x": 150,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                        "visibility": "public",
                        "name": "BookRegistered",
                        "oldName": "",
                        "displayName": "도서 등록됨",
                        "namePascalCase": "BookRegistered",
                        "nameCamelCase": "bookRegistered",
                        "namePlural": "",
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                            "x": 300,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                            "x": 300,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "5b73d738-775d-e00e-d8c3-52654d7b7be6": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                        "visibility": "public",
                        "name": "BookDiscarded",
                        "oldName": "",
                        "displayName": "도서 폐기됨",
                        "namePascalCase": "BookDiscarded",
                        "nameCamelCase": "bookDiscarded",
                        "namePlural": "",
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                            "x": 500,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                            "x": 500,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "f2a6bf89-efff-59c6-0095-94125810e00c": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                        "visibility": "public",
                        "name": "BookLoanHistoryQueried",
                        "oldName": "",
                        "displayName": "도서 대출 이력 조회됨",
                        "namePascalCase": "BookLoanHistoryQueried",
                        "nameCamelCase": "bookLoanHistoryQueried",
                        "namePlural": "",
                        "description": "사서가 특정 도서의 대출 이력을 조회함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                            "x": 700,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "f2a6bf89-efff-59c6-0095-94125810e00c",
                            "x": 700,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "0489d40f-8a31-f424-ac35-dc49d045adc4": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                        "visibility": "public",
                        "name": "BookStateHistoryQueried",
                        "oldName": "",
                        "displayName": "도서 상태 변경 이력 조회됨",
                        "namePascalCase": "BookStateHistoryQueried",
                        "nameCamelCase": "bookStateHistoryQueried",
                        "namePlural": "",
                        "description": "사서가 특정 도서의 상태 변경 이력을 조회함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                            "x": 900,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "0489d40f-8a31-f424-ac35-dc49d045adc4",
                            "x": 900,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "54be371d-2ee4-fb8b-5d4a-7d6c82caf567": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                        "visibility": "public",
                        "name": "LoanStatusQueried",
                        "oldName": "",
                        "displayName": "대출 현황 조회됨",
                        "namePascalCase": "LoanStatusQueried",
                        "nameCamelCase": "loanStatusQueried",
                        "namePlural": "",
                        "description": "사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                            "x": 1100,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "54be371d-2ee4-fb8b-5d4a-7d6c82caf567",
                            "x": 1100,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "8d1cd322-3561-f181-bc70-e20744e0e020": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "visibility": "public",
                        "name": "BookStateChanged",
                        "oldName": "",
                        "displayName": "도서 상태 변경됨",
                        "namePascalCase": "BookStateChanged",
                        "nameCamelCase": "bookStateChanged",
                        "namePlural": "",
                        "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "x": 300,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "x": 300,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "a83f9177-6b89-fea5-550b-dad72f3b53f8": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "visibility": "public",
                        "name": "BookLoaned",
                        "oldName": "",
                        "displayName": "도서 대출됨",
                        "namePascalCase": "BookLoaned",
                        "nameCamelCase": "bookLoaned",
                        "namePlural": "",
                        "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "x": 500,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "x": 500,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "be493e08-68f9-1e2e-7cf9-4ae968bba117": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                        "visibility": "public",
                        "name": "BookReserved",
                        "oldName": "",
                        "displayName": "도서 예약됨",
                        "namePascalCase": "BookReserved",
                        "nameCamelCase": "bookReserved",
                        "namePlural": "",
                        "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "x": 700,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "x": 700,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "9399ef76-71ba-237a-fcbf-41344e5852be": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                        "visibility": "public",
                        "name": "BookLoanRequested",
                        "oldName": "",
                        "displayName": "도서 대출 신청됨",
                        "namePascalCase": "BookLoanRequested",
                        "nameCamelCase": "bookLoanRequested",
                        "namePlural": "",
                        "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "x": 300,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "x": 300,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                        "visibility": "public",
                        "name": "BookReservationRequested",
                        "oldName": "",
                        "displayName": "도서 예약 신청됨",
                        "namePascalCase": "BookReservationRequested",
                        "nameCamelCase": "bookReservationRequested",
                        "namePlural": "",
                        "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "x": 500,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "x": 500,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "1915f7d0-08f6-813d-8270-617572cc603f": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                        "visibility": "public",
                        "name": "BookLoanExtended",
                        "oldName": "",
                        "displayName": "도서 대출 연장됨",
                        "namePascalCase": "BookLoanExtended",
                        "nameCamelCase": "bookLoanExtended",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "x": 700,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "x": 700,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "7c56b384-a505-d56b-12dd-1c0984f87d5f": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                        "visibility": "public",
                        "name": "BookReturned",
                        "oldName": "",
                        "displayName": "도서 반납됨",
                        "namePascalCase": "BookReturned",
                        "nameCamelCase": "bookReturned",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "x": 900,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "x": 900,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    }
                },
                "relations": {
                    "1525565b-2b4c-09c9-66c6-988f001b5742": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "1525565b-2b4c-09c9-66c6-988f001b5742",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "1525565b-2b4c-09c9-66c6-988f001b5742",
                        "to": "1525565b-2b4c-09c9-66c6-988f001b5742",
                        "description": "",
                        "relationView": {
                            "id": "1525565b-2b4c-09c9-66c6-988f001b5742",
                            "value": "[[0,275],[2000,275]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,275],[2000,275]]"
                    },
                    "b328a1b1-a451-0ce6-67be-4638c0544e70": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                        "to": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                        "description": "",
                        "relationView": {
                            "id": "b328a1b1-a451-0ce6-67be-4638c0544e70",
                            "value": "[[0,525],[2000,525]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,525],[2000,525]]"
                    },
                    "8fe30866-1422-4d3f-17f4-e48a88bc673f": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                        "to": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                        "description": "",
                        "relationView": {
                            "id": "8fe30866-1422-4d3f-17f4-e48a88bc673f",
                            "value": "[[0,775],[2000,775]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,775],[2000,775]]"
                    },
                    "277c69af-adfb-136c-2286-aa6cecc31f4c": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "277c69af-adfb-136c-2286-aa6cecc31f4c",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                            "visibility": "public",
                            "name": "BookRegistered",
                            "oldName": "",
                            "displayName": "도서 등록됨",
                            "namePascalCase": "BookRegistered",
                            "nameCamelCase": "bookRegistered",
                            "namePlural": "",
                            "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                "x": 300,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                                "x": 300,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                        "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "relationView": {
                            "id": "277c69af-adfb-136c-2286-aa6cecc31f4c",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "5c7fa07c-e906-7c8b-65b0-02e6bf1200ca",
                            "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "needReconnect": true
                        }
                    },
                    "2ff222bf-3e93-0493-1568-690b3c2c85ab": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "2ff222bf-3e93-0493-1568-690b3c2c85ab",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                            "visibility": "public",
                            "name": "BookDiscarded",
                            "oldName": "",
                            "displayName": "도서 폐기됨",
                            "namePascalCase": "BookDiscarded",
                            "nameCamelCase": "bookDiscarded",
                            "namePlural": "",
                            "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                "x": 500,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                                "x": 500,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "to": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                        "relationView": {
                            "id": "2ff222bf-3e93-0493-1568-690b3c2c85ab",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "to": "5b73d738-775d-e00e-d8c3-52654d7b7be6",
                            "needReconnect": true
                        }
                    },
                    "cc55045f-3815-a51b-f7a8-4be7cb319da6": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "cc55045f-3815-a51b-f7a8-4be7cb319da6",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "relationView": {
                            "id": "cc55045f-3815-a51b-f7a8-4be7cb319da6",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "needReconnect": true
                        }
                    },
                    "992ddc1a-ab60-228d-6846-d13166116e00": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "992ddc1a-ab60-228d-6846-d13166116e00",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                        "relationView": {
                            "id": "992ddc1a-ab60-228d-6846-d13166116e00",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "needReconnect": true
                        }
                    },
                    "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                        "relationView": {
                            "id": "9e7bbb6e-09fa-4c7a-dacd-286fcbb3bf04",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "needReconnect": true
                        }
                    },
                    "75cfb654-907b-b179-c652-e71fb6ceea8c": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "75cfb654-907b-b179-c652-e71fb6ceea8c",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "visibility": "public",
                            "name": "BookLoanRequested",
                            "oldName": "",
                            "displayName": "도서 대출 신청됨",
                            "namePascalCase": "BookLoanRequested",
                            "nameCamelCase": "bookLoanRequested",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                        "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "relationView": {
                            "id": "75cfb654-907b-b179-c652-e71fb6ceea8c",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "needReconnect": true
                        }
                    },
                    "fc9c560e-4d24-2ec2-f551-fb3f84f3af15": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "fc9c560e-4d24-2ec2-f551-fb3f84f3af15",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "visibility": "public",
                            "name": "BookLoanRequested",
                            "oldName": "",
                            "displayName": "도서 대출 신청됨",
                            "namePascalCase": "BookLoanRequested",
                            "nameCamelCase": "bookLoanRequested",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "9399ef76-71ba-237a-fcbf-41344e5852be",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "visibility": "public",
                            "name": "BookReservationRequested",
                            "oldName": "",
                            "displayName": "도서 예약 신청됨",
                            "namePascalCase": "BookReservationRequested",
                            "nameCamelCase": "bookReservationRequested",
                            "namePlural": "",
                            "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                        "to": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                        "relationView": {
                            "id": "fc9c560e-4d24-2ec2-f551-fb3f84f3af15",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "9399ef76-71ba-237a-fcbf-41344e5852be",
                            "to": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "needReconnect": true
                        }
                    },
                    "cff4b09f-44c8-ad70-b0b2-ff463c690216": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "cff4b09f-44c8-ad70-b0b2-ff463c690216",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "visibility": "public",
                            "name": "BookLoanExtended",
                            "oldName": "",
                            "displayName": "도서 대출 연장됨",
                            "namePascalCase": "BookLoanExtended",
                            "nameCamelCase": "bookLoanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "to": "1915f7d0-08f6-813d-8270-617572cc603f",
                        "relationView": {
                            "id": "cff4b09f-44c8-ad70-b0b2-ff463c690216",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "to": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "needReconnect": true
                        }
                    },
                    "143b6d23-8971-16a6-ac25-66aa8152ee64": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "143b6d23-8971-16a6-ac25-66aa8152ee64",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                        "relationView": {
                            "id": "143b6d23-8971-16a6-ac25-66aa8152ee64",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "needReconnect": true
                        }
                    },
                    "a346a27c-521a-0d7b-f9a8-3e0536407b4d": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "a346a27c-521a-0d7b-f9a8-3e0536407b4d",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "visibility": "public",
                            "name": "BookReservationRequested",
                            "oldName": "",
                            "displayName": "도서 예약 신청됨",
                            "namePascalCase": "BookReservationRequested",
                            "nameCamelCase": "bookReservationRequested",
                            "namePlural": "",
                            "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                        "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                        "relationView": {
                            "id": "a346a27c-521a-0d7b-f9a8-3e0536407b4d",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "d4e9708f-bb6d-59eb-06ff-08fc1a2bf011",
                            "to": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "needReconnect": true
                        }
                    },
                    "1993b5c4-d826-0694-8f50-051571806a12": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "1993b5c4-d826-0694-8f50-051571806a12",
                        "name": "3",
                        "displayName": "3",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                                "x": 700,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                        "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                        "relationView": {
                            "id": "1993b5c4-d826-0694-8f50-051571806a12",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "be493e08-68f9-1e2e-7cf9-4ae968bba117",
                            "to": "a83f9177-6b89-fea5-550b-dad72f3b53f8",
                            "needReconnect": true
                        }
                    },
                    "0701120d-a170-e010-c9d0-8882d78fe149": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "0701120d-a170-e010-c9d0-8882d78fe149",
                        "name": "3",
                        "displayName": "3",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "visibility": "public",
                            "name": "BookLoanExtended",
                            "oldName": "",
                            "displayName": "도서 대출 연장됨",
                            "namePascalCase": "BookLoanExtended",
                            "nameCamelCase": "bookLoanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "1915f7d0-08f6-813d-8270-617572cc603f",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "1915f7d0-08f6-813d-8270-617572cc603f",
                        "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                        "relationView": {
                            "id": "0701120d-a170-e010-c9d0-8882d78fe149",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "1915f7d0-08f6-813d-8270-617572cc603f",
                            "to": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "needReconnect": true
                        }
                    },
                    "073210f7-04f5-f71f-0f29-d3d12e47e17d": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "073210f7-04f5-f71f-0f29-d3d12e47e17d",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "visibility": "public",
                            "name": "BookStateChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStateChanged",
                            "nameCamelCase": "bookStateChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "8d1cd322-3561-f181-bc70-e20744e0e020",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                        "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                        "relationView": {
                            "id": "073210f7-04f5-f71f-0f29-d3d12e47e17d",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "7c56b384-a505-d56b-12dd-1c0984f87d5f",
                            "to": "8d1cd322-3561-f181-bc70-e20744e0e020",
                            "needReconnect": true
                        }
                    }
                }
            },
            "analysisResult": {
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 '도서 관리', '대출/반납 관리', '예약 관리', '이력/현황 조회'의 4가지입니다. 2) '도서 관리'는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. '대출/반납 관리'는 회원 인증, 대출/반납/연장 등 대출 프로세스를 담당합니다. '예약 관리'는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당하며, '이력/현황 조회'는 대출 이력, 상태 변경 이력, 대출 현황 등 조회 기능을 담당합니다. 3) 각 컨텍스트는 담당하는 액터와 이벤트가 명확히 분리되어 있고, 도서 상태 변경, 대출/반납, 예약, 이력 조회 등 도메인 경계가 뚜렷하게 구분됩니다. 4) 이 구조는 실제 도서관 업무의 역할 분담 및 시스템 유지보수, 확장성 측면에서 조직 구조와 비즈니스 역량에 잘 부합합니다.",
                "events": [
                    {
                        "name": "BookRegistered",
                        "displayName": "도서 등록됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가함. 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증을 거침.",
                        "inputs": [
                            "도서명",
                            "ISBN(13자리)",
                            "저자",
                            "출판사",
                            "카테고리(소설/비소설/학술/잡지)"
                        ],
                        "outputs": [
                            "신규 도서 등록",
                            "도서 상태: 대출가능"
                        ],
                        "nextEvents": [
                            "BookStateChanged"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    57
                                ],
                                [
                                    3,
                                    100
                                ]
                            ],
                            [
                                [
                                    3,
                                    105
                                ],
                                [
                                    3,
                                    128
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStateChanged",
                        "displayName": "도서 상태 변경됨",
                        "actor": "System",
                        "level": 2,
                        "description": "도서의 대출/반납/예약/폐기 등 상황에 따라 도서 상태가 자동으로 변경됨.",
                        "inputs": [
                            "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)"
                        ],
                        "outputs": [
                            "도서 상태: 대출가능/대출중/예약중/폐기"
                        ],
                        "nextEvents": [
                            "BookDiscarded",
                            "BookLoaned",
                            "BookReturned",
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    191
                                ],
                                [
                                    3,
                                    238
                                ]
                            ],
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ],
                            [
                                [
                                    7,
                                    150
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookDiscarded",
                        "displayName": "도서 폐기됨",
                        "actor": "Librarian",
                        "level": 3,
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "inputs": [
                            "도서 훼손/분실 확인",
                            "폐기 요청"
                        ],
                        "outputs": [
                            "도서 상태: 폐기"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoanRequested",
                        "displayName": "도서 대출 신청됨",
                        "actor": "Member",
                        "level": 1,
                        "description": "회원이 도서 대출을 신청함. 회원번호와 이름으로 회원 인증 후, 대출할 도서를 선택함.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서명 또는 ISBN",
                            "대출 기간(7/14/30일)"
                        ],
                        "outputs": [
                            "대출 신청 정보"
                        ],
                        "nextEvents": [
                            "BookLoaned",
                            "BookReservationRequested"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    49
                                ],
                                [
                                    5,
                                    91
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoaned",
                        "displayName": "도서 대출됨",
                        "actor": "System",
                        "level": 2,
                        "description": "대출 신청이 승인되어 도서가 대출 처리됨. 도서 상태가 '대출중'으로 변경됨.",
                        "inputs": [
                            "대출 신청 정보",
                            "도서 상태: 대출가능"
                        ],
                        "outputs": [
                            "도서 상태: 대출중",
                            "대출 이력 생성"
                        ],
                        "nextEvents": [
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    5,
                                    235
                                ]
                            ],
                            [
                                [
                                    7,
                                    53
                                ],
                                [
                                    7,
                                    89
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReservationRequested",
                        "displayName": "도서 예약 신청됨",
                        "actor": "Member",
                        "level": 2,
                        "description": "대출하려는 도서가 이미 대출 중일 경우, 회원이 예약을 신청함.",
                        "inputs": [
                            "회원번호",
                            "도서명 또는 ISBN"
                        ],
                        "outputs": [
                            "예약 신청 정보"
                        ],
                        "nextEvents": [
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    193
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReserved",
                        "displayName": "도서 예약됨",
                        "actor": "System",
                        "level": 3,
                        "description": "예약 신청이 승인되어 도서가 예약 상태로 변경됨.",
                        "inputs": [
                            "예약 신청 정보",
                            "도서 상태: 대출중"
                        ],
                        "outputs": [
                            "도서 상태: 예약중",
                            "예약 이력 생성"
                        ],
                        "nextEvents": [
                            "BookLoaned"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    223
                                ],
                                [
                                    3,
                                    241
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoanExtended",
                        "displayName": "도서 대출 연장됨",
                        "actor": "Member",
                        "level": 3,
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함.",
                        "inputs": [
                            "회원번호",
                            "대출 이력",
                            "연장 요청"
                        ],
                        "outputs": [
                            "대출 기간 연장",
                            "대출 이력 갱신"
                        ],
                        "nextEvents": [
                            "BookReturned"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    109
                                ],
                                [
                                    7,
                                    124
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReturned",
                        "displayName": "도서 반납됨",
                        "actor": "Member",
                        "level": 4,
                        "description": "회원이 대출 중인 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있으면 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서명 또는 ISBN",
                            "반납 요청"
                        ],
                        "outputs": [
                            "도서 상태: 대출가능 또는 예약중",
                            "대출 이력 갱신"
                        ],
                        "nextEvents": [
                            "BookStateChanged"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    133
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoanHistoryQueried",
                        "displayName": "도서 대출 이력 조회됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 특정 도서의 대출 이력을 조회함.",
                        "inputs": [
                            "도서명 또는 ISBN"
                        ],
                        "outputs": [
                            "대출 이력 목록"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    29
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStateHistoryQueried",
                        "displayName": "도서 상태 변경 이력 조회됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 특정 도서의 상태 변경 이력을 조회함.",
                        "inputs": [
                            "도서명 또는 ISBN"
                        ],
                        "outputs": [
                            "상태 변경 이력 목록"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    29
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanStatusQueried",
                        "displayName": "대출 현황 조회됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 현재 대출 중인 도서들의 현황을 조회함. 각 대출 건의 대출일, 반납예정일, 상태(대출중/연체/반납완료)를 확인함.",
                        "inputs": [
                            "대출 현황 조회 요청"
                        ],
                        "outputs": [
                            "대출 현황 목록"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    7,
                                    89
                                ]
                            ]
                        ]
                    }
                ],
                "actors": [
                    {
                        "name": "Librarian",
                        "events": [
                            "BookRegistered",
                            "BookDiscarded",
                            "BookLoanHistoryQueried",
                            "BookStateHistoryQueried",
                            "LoanStatusQueried"
                        ],
                        "lane": 0
                    },
                    {
                        "name": "Member",
                        "events": [
                            "BookLoanRequested",
                            "BookReservationRequested",
                            "BookLoanExtended",
                            "BookReturned"
                        ],
                        "lane": 1
                    },
                    {
                        "name": "System",
                        "events": [
                            "BookStateChanged",
                            "BookLoaned",
                            "BookReserved"
                        ],
                        "lane": 2
                    }
                ]
            },
            "currentGeneratedLength": 5961
        },
        "commandReadModelData": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서관리",
                    "commands": [
                        {
                            "name": "RegisterBook",
                            "alias": "도서등록",
                            "description": "새로운 도서를 등록한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "properties": [
                                {
                                    "name": "title",
                                    "type": "String",
                                    "description": "도서명"
                                },
                                {
                                    "name": "isbn",
                                    "type": "String",
                                    "description": "13자리 ISBN"
                                },
                                {
                                    "name": "author",
                                    "type": "String",
                                    "description": "저자"
                                },
                                {
                                    "name": "publisher",
                                    "type": "String",
                                    "description": "출판사"
                                },
                                {
                                    "name": "category",
                                    "type": "String",
                                    "description": "카테고리(소설/비소설/학술/잡지)"
                                }
                            ]
                        },
                        {
                            "name": "ValidateIsbnUniqueness",
                            "alias": "ISBN중복확인",
                            "description": "ISBN의 중복 여부를 검증한다.",
                            "actor": "system",
                            "aggregate": "Book",
                            "properties": [
                                {
                                    "name": "isbn",
                                    "type": "String",
                                    "description": "13자리 ISBN"
                                }
                            ]
                        },
                        {
                            "name": "DiscardBook",
                            "alias": "도서폐기처리",
                            "description": "도서가 훼손되거나 분실된 경우 폐기 처리한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "properties": [
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "도서 식별자"
                                },
                                {
                                    "name": "reason",
                                    "type": "String",
                                    "description": "폐기 사유"
                                }
                            ]
                        },
                        {
                            "name": "UpdateBookStatus",
                            "alias": "도서상태변경",
                            "description": "도서의 상태를 수동으로 변경한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "properties": [
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "도서 식별자"
                                },
                                {
                                    "name": "status",
                                    "type": "String",
                                    "description": "변경할 상태(대출가능/대출중/예약중/폐기)"
                                }
                            ]
                        }
                    ],
                    "readModels": [
                        {
                            "name": "BookListView",
                            "alias": "도서목록조회",
                            "description": "현재 보유한 도서들의 목록과 상태를 조회한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "queryParameters": [
                                {
                                    "name": "category",
                                    "type": "String",
                                    "description": "카테고리별 필터"
                                },
                                {
                                    "name": "status",
                                    "type": "String",
                                    "description": "도서 상태별 필터"
                                },
                                {
                                    "name": "title",
                                    "type": "String",
                                    "description": "도서명 검색"
                                },
                                {
                                    "name": "isbn",
                                    "type": "String",
                                    "description": "ISBN 검색"
                                }
                            ]
                        },
                        {
                            "name": "BookDetailView",
                            "alias": "도서상세조회",
                            "description": "단일 도서의 상세 정보를 조회한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": false,
                            "queryParameters": [
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "도서 식별자"
                                }
                            ]
                        },
                        {
                            "name": "BookCategoryOptions",
                            "alias": "도서카테고리옵션",
                            "description": "도서 등록 시 선택 가능한 카테고리 옵션을 조회한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "queryParameters": []
                        }
                    ]
                },
                {
                    "name": "LoanAndReservation",
                    "alias": "대출및예약",
                    "commands": [
                        {
                            "name": "BorrowBook",
                            "alias": "도서대출",
                            "description": "회원이 도서를 대출한다.",
                            "actor": "user",
                            "aggregate": "Loan",
                            "properties": [
                                {
                                    "name": "memberId",
                                    "type": "Long",
                                    "description": "회원번호"
                                },
                                {
                                    "name": "memberName",
                                    "type": "String",
                                    "description": "회원 이름"
                                },
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "대출할 도서 식별자"
                                },
                                {
                                    "name": "loanPeriod",
                                    "type": "Integer",
                                    "description": "대출 기간(7/14/30일)"
                                }
                            ]
                        },
                        {
                            "name": "ReturnBook",
                            "alias": "도서반납",
                            "description": "회원이 대출한 도서를 반납한다.",
                            "actor": "user",
                            "aggregate": "Loan",
                            "properties": [
                                {
                                    "name": "loanId",
                                    "type": "Long",
                                    "description": "대출 식별자"
                                }
                            ]
                        },
                        {
                            "name": "ReserveBook",
                            "alias": "도서예약",
                            "description": "대출 중인 도서에 대해 예약을 신청한다.",
                            "actor": "user",
                            "aggregate": "Reservation",
                            "properties": [
                                {
                                    "name": "memberId",
                                    "type": "Long",
                                    "description": "회원번호"
                                },
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "예약할 도서 식별자"
                                }
                            ]
                        },
                        {
                            "name": "ExtendLoan",
                            "alias": "대출연장",
                            "description": "대출 중인 도서의 대출 기간을 연장한다.",
                            "actor": "user",
                            "aggregate": "Loan",
                            "properties": [
                                {
                                    "name": "loanId",
                                    "type": "Long",
                                    "description": "대출 식별자"
                                },
                                {
                                    "name": "extendPeriod",
                                    "type": "Integer",
                                    "description": "연장 기간(7/14/30일)"
                                }
                            ]
                        },
                        {
                            "name": "VerifyMember",
                            "alias": "회원확인",
                            "description": "회원번호와 이름으로 회원을 확인한다.",
                            "actor": "system",
                            "aggregate": "Member",
                            "properties": [
                                {
                                    "name": "memberId",
                                    "type": "Long",
                                    "description": "회원번호"
                                },
                                {
                                    "name": "memberName",
                                    "type": "String",
                                    "description": "회원 이름"
                                }
                            ]
                        }
                    ],
                    "readModels": [
                        {
                            "name": "LoanStatusListView",
                            "alias": "대출현황목록",
                            "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 상태를 조회한다.",
                            "actor": "admin",
                            "aggregate": "Loan",
                            "isMultipleResult": true,
                            "queryParameters": [
                                {
                                    "name": "status",
                                    "type": "String",
                                    "description": "대출 상태(대출중/연체/반납완료) 필터"
                                },
                                {
                                    "name": "memberId",
                                    "type": "Long",
                                    "description": "회원번호로 필터"
                                }
                            ]
                        },
                        {
                            "name": "LoanDetailView",
                            "alias": "대출상세조회",
                            "description": "대출 건의 상세 정보를 조회한다.",
                            "actor": "admin",
                            "aggregate": "Loan",
                            "isMultipleResult": false,
                            "queryParameters": [
                                {
                                    "name": "loanId",
                                    "type": "Long",
                                    "description": "대출 식별자"
                                }
                            ]
                        },
                        {
                            "name": "BookSearchView",
                            "alias": "도서검색",
                            "description": "도서명 또는 ISBN으로 도서를 검색한다.",
                            "actor": "user",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "queryParameters": [
                                {
                                    "name": "title",
                                    "type": "String",
                                    "description": "도서명"
                                },
                                {
                                    "name": "isbn",
                                    "type": "String",
                                    "description": "ISBN"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "LoanHistoryQuery",
                    "alias": "대출이력조회",
                    "commands": [],
                    "readModels": [
                        {
                            "name": "BookLoanHistoryView",
                            "alias": "도서별대출이력조회",
                            "description": "도서별 대출 이력을 조회한다.",
                            "actor": "admin",
                            "aggregate": "Loan",
                            "isMultipleResult": true,
                            "queryParameters": [
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "도서 식별자"
                                }
                            ]
                        },
                        {
                            "name": "BookStatusChangeHistoryView",
                            "alias": "도서상태변경이력조회",
                            "description": "도서별 상태 변경 이력을 조회한다.",
                            "actor": "admin",
                            "aggregate": "Book",
                            "isMultipleResult": true,
                            "queryParameters": [
                                {
                                    "name": "bookId",
                                    "type": "Long",
                                    "description": "도서 식별자"
                                }
                            ]
                        },
                        {
                            "name": "LoanStatusSummaryView",
                            "alias": "전체대출현황요약",
                            "description": "전체 도서의 대출 현황을 요약하여 조회한다.",
                            "actor": "admin",
                            "aggregate": "Loan",
                            "isMultipleResult": true,
                            "queryParameters": []
                        }
                    ]
                },
                {
                    "name": "ui",
                    "alias": "UI",
                    "commands": [],
                    "readModels": [
                        {
                            "name": "LoanPeriodOptions",
                            "alias": "대출기간옵션",
                            "description": "대출 신청 시 선택 가능한 대출 기간 옵션(7/14/30일)을 조회한다.",
                            "actor": "user",
                            "aggregate": "Loan",
                            "isMultipleResult": true,
                            "queryParameters": []
                        }
                    ]
                }
            ]
        },
        "siteMap": [
            {
                "id": "node-1759227329246-031poisyp",
                "title": "도서관 통합 도서 관리 시스템",
                "url": "",
                "description": "도서 등록, 상태 관리, 대출/반납, 예약, 대출 현황 및 이력 조회를 통합적으로 제공하는 도서관 관리 웹사이트",
                "children": [
                    {
                        "id": "book-management",
                        "title": "도서 관리",
                        "url": "/books",
                        "description": "도서 등록, 목록 조회, 상태 관리 및 폐기 처리를 위한 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "register-book",
                                "title": "도서 등록",
                                "url": "/도서-등록",
                                "description": "새로운 도서를 등록합니다.",
                                "reference": "RegisterBook",
                                "children": []
                            },
                            {
                                "id": "validate-isbn",
                                "title": "ISBN 중복 확인",
                                "url": "/isbn-중복-확인",
                                "description": "ISBN의 중복 여부를 검증합니다.",
                                "reference": "ValidateIsbnUniqueness",
                                "children": []
                            },
                            {
                                "id": "book-list",
                                "title": "도서 목록 조회",
                                "url": "/도서-목록-조회",
                                "description": "현재 보유한 도서들의 목록과 상태를 조회합니다.",
                                "reference": "BookListView",
                                "children": []
                            },
                            {
                                "id": "book-detail",
                                "title": "도서 상세 조회",
                                "url": "/도서-상세-조회",
                                "description": "단일 도서의 상세 정보를 조회합니다.",
                                "reference": "BookDetailView",
                                "children": []
                            },
                            {
                                "id": "book-category-options",
                                "title": "도서 카테고리 옵션",
                                "url": "/도서-카테고리-옵션",
                                "description": "도서 등록 시 선택 가능한 카테고리 옵션을 조회합니다.",
                                "reference": "BookCategoryOptions",
                                "children": []
                            },
                            {
                                "id": "discard-book",
                                "title": "도서 폐기 처리",
                                "url": "/도서-폐기-처리",
                                "description": "도서가 훼손되거나 분실된 경우 폐기 처리합니다.",
                                "reference": "DiscardBook",
                                "children": []
                            },
                            {
                                "id": "update-book-status",
                                "title": "도서 상태 변경",
                                "url": "/도서-상태-변경",
                                "description": "도서의 상태를 수동으로 변경합니다.",
                                "reference": "UpdateBookStatus",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "loan-return",
                        "title": "대출/반납",
                        "url": "/loans",
                        "description": "회원 도서 대출, 반납, 연장, 예약 및 회원 확인을 위한 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "verify-member",
                                "title": "회원 확인",
                                "url": "/회원-확인",
                                "description": "회원번호와 이름으로 회원을 확인합니다.",
                                "reference": "VerifyMember",
                                "children": []
                            },
                            {
                                "id": "book-search",
                                "title": "도서 검색",
                                "url": "/도서-검색",
                                "description": "도서명 또는 ISBN으로 도서를 검색합니다.",
                                "reference": "BookSearchView",
                                "children": []
                            },
                            {
                                "id": "borrow-book",
                                "title": "도서 대출",
                                "url": "/도서-대출",
                                "description": "회원이 도서를 대출합니다.",
                                "reference": "BorrowBook",
                                "children": []
                            },
                            {
                                "id": "loan-period-options",
                                "title": "대출 기간 옵션",
                                "url": "/대출-기간-옵션",
                                "description": "대출 신청 시 선택 가능한 대출 기간 옵션(7/14/30일)을 조회합니다.",
                                "reference": "LoanPeriodOptions",
                                "children": []
                            },
                            {
                                "id": "reserve-book",
                                "title": "도서 예약",
                                "url": "/도서-예약",
                                "description": "대출 중인 도서에 대해 예약을 신청합니다.",
                                "reference": "ReserveBook",
                                "children": []
                            },
                            {
                                "id": "return-book",
                                "title": "도서 반납",
                                "url": "/도서-반납",
                                "description": "회원이 대출한 도서를 반납합니다.",
                                "reference": "ReturnBook",
                                "children": []
                            },
                            {
                                "id": "extend-loan",
                                "title": "대출 연장",
                                "url": "/대출-연장",
                                "description": "대출 중인 도서의 대출 기간을 연장합니다.",
                                "reference": "ExtendLoan",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "loan-status",
                        "title": "대출 현황",
                        "url": "/loan-status",
                        "description": "현재 대출 중인 도서 목록, 대출 상세, 연장 및 반납 처리를 위한 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "loan-status-list",
                                "title": "대출 현황 목록",
                                "url": "/대출-현황-목록",
                                "description": "현재 대출 중인 도서들의 목록과 각 대출 건의 상태를 조회합니다.",
                                "reference": "LoanStatusListView",
                                "children": []
                            },
                            {
                                "id": "loan-detail",
                                "title": "대출 상세 조회",
                                "url": "/대출-상세-조회",
                                "description": "대출 건의 상세 정보를 조회합니다.",
                                "reference": "LoanDetailView",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "history",
                        "title": "이력/통계",
                        "url": "/history",
                        "description": "도서별 대출 이력, 상태 변경 이력, 전체 대출 현황 요약을 위한 페이지",
                        "reference": null,
                        "children": [
                            {
                                "id": "book-loan-history",
                                "title": "도서별 대출 이력 조회",
                                "url": "/도서별-대출-이력-조회",
                                "description": "도서별 대출 이력을 조회합니다.",
                                "reference": "BookLoanHistoryView",
                                "children": []
                            },
                            {
                                "id": "book-status-change-history",
                                "title": "도서 상태 변경 이력 조회",
                                "url": "/도서-상태-변경-이력-조회",
                                "description": "도서별 상태 변경 이력을 조회합니다.",
                                "reference": "BookStatusChangeHistoryView",
                                "children": []
                            },
                            {
                                "id": "loan-status-summary",
                                "title": "전체 대출 현황 요약",
                                "url": "/전체-대출-현황-요약",
                                "description": "전체 도서의 대출 현황을 요약하여 조회합니다.",
                                "reference": "LoanStatusSummaryView",
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ]
    }
}