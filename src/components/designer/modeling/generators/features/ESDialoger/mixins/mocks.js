export const aggregateDraftScenarios = {
    "libraryApplication": {
        "selectedStructureOption": {
            "boundedContexts": [
                {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "importance": "Core Domain",
                    "complexity": 0.7,
                    "differentiation": 0.9,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "events": [
                        "BookRegistered",
                        "BookStatusChanged",
                        "BookDisposed"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ],
                            "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        3
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ],
                            "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        24,
                                        4
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        84,
                                        4
                                    ],
                                    [
                                        96,
                                        2
                                    ]
                                ]
                            ],
                            "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        57
                                    ],
                                    [
                                        3,
                                        100
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        105
                                    ],
                                    [
                                        3,
                                        128
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        136
                                    ],
                                    [
                                        3,
                                        161
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        191
                                    ],
                                    [
                                        3,
                                        238
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        150
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        3,
                                        264
                                    ],
                                    [
                                        3,
                                        302
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                    "roleRefs": [
                        [
                            [
                                3,
                                2
                            ],
                            [
                                3,
                                265
                            ]
                        ]
                    ],
                    "commandNames": [
                        "RegisterBook",
                        "DiscardBook",
                        "UpdateBookStatus",
                        "ValidateIsbn"
                    ],
                    "readModelNames": [
                        "BookList",
                        "BookDetail",
                        "CategoryOptions"
                    ]
                },
                {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "importance": "Core Domain",
                    "complexity": 0.8,
                    "differentiation": 0.95,
                    "implementationStrategy": "Rich Domain Model",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "events": [
                        "BookLoaned",
                        "BookReserved",
                        "BookReturned",
                        "LoanExtended"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        1,
                                        13
                                    ],
                                    [
                                        1,
                                        29
                                    ]
                                ]
                            ],
                            "text": "대출/반납을 통합적으로 관리하는"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        5,
                                        82
                                    ]
                                ]
                            ],
                            "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        184
                                    ]
                                ]
                            ],
                            "text": "예약"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        7,
                                        59
                                    ]
                                ]
                            ],
                            "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        110
                                    ]
                                ]
                            ],
                            "text": "연장"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        16
                                    ]
                                ]
                            ],
                            "text": "대출 이력과 상태"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        66,
                                        1
                                    ],
                                    [
                                        82,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        112,
                                        2
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        43
                                    ],
                                    [
                                        5,
                                        126
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        5,
                                        183
                                    ],
                                    [
                                        5,
                                        193
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        133
                                    ],
                                    [
                                        7,
                                        167
                                    ]
                                ],
                                [
                                    [
                                        7,
                                        167
                                    ],
                                    [
                                        7,
                                        175
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        7,
                                        109
                                    ],
                                    [
                                        7,
                                        124
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                    "roleRefs": [
                        [
                            [
                                5,
                                2
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ],
                    "commandNames": [
                        "LoanBook",
                        "ReturnBook",
                        "ExtendLoan",
                        "ReserveBook"
                    ],
                    "readModelNames": [
                        "LoanStatusList",
                        "LoanDetail",
                        "SearchBookForLoan"
                    ]
                },
                {
                    "name": "LoanHistory",
                    "alias": "이력 관리",
                    "importance": "Supporting Domain",
                    "complexity": 0.5,
                    "differentiation": 0.5,
                    "implementationStrategy": "Transaction Script",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "ReservationHistory",
                            "alias": "예약 이력"
                        }
                    ],
                    "events": [
                        "LoanHistoryRecorded",
                        "ReservationHistoryRecorded"
                    ],
                    "requirements": [
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        12
                                    ]
                                ]
                            ],
                            "text": "대출 이력"
                        },
                        {
                            "type": "userStory",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        19
                                    ]
                                ]
                            ],
                            "text": "상태 변경"
                        },
                        {
                            "type": "DDL",
                            "refs": [
                                [
                                    [
                                        99,
                                        1
                                    ],
                                    [
                                        111,
                                        9
                                    ]
                                ]
                            ],
                            "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        },
                        {
                            "type": "Event",
                            "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                            "refs": [
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        }
                    ],
                    "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                    "roleRefs": [
                        [
                            [
                                9,
                                8
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ],
                    "commandNames": [],
                    "readModelNames": [
                        "BookLoanHistory",
                        "BookStatusChangeHistory"
                    ]
                }
            ],
            "relations": [
                {
                    "name": "BookManagement-LoanAndReservation",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ]
                },
                {
                    "name": "LoanAndReservation-LoanHistory",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약"
                    },
                    "downStream": {
                        "name": "LoanHistory",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                },
                {
                    "name": "BookManagement-LoanHistory",
                    "type": "Pub/Sub",
                    "upStream": {
                        "name": "BookManagement",
                        "alias": "도서 관리"
                    },
                    "downStream": {
                        "name": "LoanHistory",
                        "alias": "이력 관리"
                    },
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                }
            ],
            "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
            "explanations": [
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "대출/반납 및 예약",
                    "relationType": "Pub/Sub",
                    "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                    "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                7,
                                203
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "대출/반납 및 예약",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                    "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                    "refs": [
                        [
                            [
                                7,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                },
                {
                    "sourceContext": "도서 관리",
                    "targetContext": "이력 관리",
                    "relationType": "Pub/Sub",
                    "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                    "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "refs": [
                        [
                            [
                                3,
                                1
                            ],
                            [
                                9,
                                67
                            ]
                        ]
                    ]
                }
            ],
            "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
            "currentGeneratedLength": 4161
        },
        "resultDevideBoundedContext": {
            "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStatusChanged",
                            "BookDisposed"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            3
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            24,
                                            4
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            84,
                                            4
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    265
                                ]
                            ]
                        ],
                        "commandNames": [
                            "RegisterBook",
                            "DiscardBook",
                            "UpdateBookStatus",
                            "ValidateIsbn"
                        ],
                        "readModelNames": [
                            "BookList",
                            "BookDetail",
                            "CategoryOptions"
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            1,
                                            13
                                        ],
                                        [
                                            1,
                                            29
                                        ]
                                    ]
                                ],
                                "text": "대출/반납을 통합적으로 관리하는"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            5,
                                            82
                                        ]
                                    ]
                                ],
                                "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            184
                                        ]
                                    ]
                                ],
                                "text": "예약"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ]
                                ],
                                "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            110
                                        ]
                                    ]
                                ],
                                "text": "연장"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            16
                                        ]
                                    ]
                                ],
                                "text": "대출 이력과 상태"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ],
                        "commandNames": [
                            "LoanBook",
                            "ReturnBook",
                            "ExtendLoan",
                            "ReserveBook"
                        ],
                        "readModelNames": [
                            "LoanStatusList",
                            "LoanDetail",
                            "SearchBookForLoan"
                        ]
                    },
                    {
                        "name": "LoanHistory",
                        "alias": "이력 관리",
                        "importance": "Supporting Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "ReservationHistory",
                                "alias": "예약 이력"
                            }
                        ],
                        "events": [
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "requirements": [
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            12
                                        ]
                                    ]
                                ],
                                "text": "대출 이력"
                            },
                            {
                                "type": "userStory",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            19
                                        ]
                                    ]
                                ],
                                "text": "상태 변경"
                            },
                            {
                                "type": "DDL",
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            111,
                                            9
                                        ]
                                    ]
                                ],
                                "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            },
                            {
                                "type": "Event",
                                "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ],
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistory",
                            "BookStatusChangeHistory"
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                        "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                        "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 4161
            }
        },
        "boundedContextVersion": {
            "data": {
                "boundedContexts": [
                    {
                        "name": "BookManagement",
                        "alias": "도서 관리",
                        "importance": "Core Domain",
                        "complexity": 0.7,
                        "differentiation": 0.9,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Book",
                                "alias": "도서"
                            }
                        ],
                        "events": [
                            "BookRegistered",
                            "BookStatusChanged",
                            "BookDisposed"
                        ],
                        "requirements": [],
                        "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                        "roleRefs": [
                            [
                                [
                                    3,
                                    2
                                ],
                                [
                                    3,
                                    265
                                ]
                            ]
                        ],
                        "commandNames": [
                            "RegisterBook",
                            "DiscardBook",
                            "UpdateBookStatus",
                            "ValidateIsbn"
                        ],
                        "readModelNames": [
                            "BookList",
                            "BookDetail",
                            "CategoryOptions"
                        ]
                    },
                    {
                        "name": "LoanAndReservation",
                        "alias": "대출/반납 및 예약",
                        "importance": "Core Domain",
                        "complexity": 0.8,
                        "differentiation": 0.95,
                        "implementationStrategy": "Rich Domain Model",
                        "aggregates": [
                            {
                                "name": "Loan",
                                "alias": "대출"
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약"
                            }
                        ],
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "requirements": [],
                        "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                        "roleRefs": [
                            [
                                [
                                    5,
                                    2
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ],
                        "commandNames": [
                            "LoanBook",
                            "ReturnBook",
                            "ExtendLoan",
                            "ReserveBook"
                        ],
                        "readModelNames": [
                            "LoanStatusList",
                            "LoanDetail",
                            "SearchBookForLoan"
                        ]
                    },
                    {
                        "name": "LoanHistory",
                        "alias": "이력 관리",
                        "importance": "Supporting Domain",
                        "complexity": 0.5,
                        "differentiation": 0.5,
                        "implementationStrategy": "Transaction Script",
                        "aggregates": [
                            {
                                "name": "LoanHistory",
                                "alias": "대출 이력"
                            },
                            {
                                "name": "ReservationHistory",
                                "alias": "예약 이력"
                            }
                        ],
                        "events": [
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "requirements": [],
                        "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                        "roleRefs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ],
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistory",
                            "BookStatusChangeHistory"
                        ]
                    }
                ],
                "relations": [
                    {
                        "name": "BookManagement-LoanAndReservation",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanAndReservation-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookManagement-LoanHistory",
                        "type": "Pub/Sub",
                        "upStream": {
                            "name": "BookManagement",
                            "alias": "도서 관리"
                        },
                        "downStream": {
                            "name": "LoanHistory",
                            "alias": "이력 관리"
                        },
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                "explanations": [
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "대출/반납 및 예약",
                        "relationType": "Pub/Sub",
                        "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                        "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    7,
                                    203
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "대출/반납 및 예약",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                        "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "refs": [
                            [
                                [
                                    7,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    },
                    {
                        "sourceContext": "도서 관리",
                        "targetContext": "이력 관리",
                        "relationType": "Pub/Sub",
                        "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                        "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "refs": [
                            [
                                [
                                    3,
                                    1
                                ],
                                [
                                    9,
                                    67
                                ]
                            ]
                        ]
                    }
                ],
                "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "currentGeneratedLength": 4161
            },
            "version": 1,
            "aspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리"
        },
        "draftOptions": {
            "BookManagement": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Book",
                            "alias": "도서",
                            "refs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        265
                                    ]
                                ],
                                [
                                    [
                                        3,
                                        56
                                    ],
                                    [
                                        3,
                                        301
                                    ]
                                ],
                                [
                                    [
                                        25,
                                        1
                                    ],
                                    [
                                        25,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        26,
                                        1
                                    ],
                                    [
                                        26,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        27,
                                        1
                                    ],
                                    [
                                        27,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        28,
                                        1
                                    ],
                                    [
                                        28,
                                        37
                                    ]
                                ],
                                [
                                    [
                                        29,
                                        1
                                    ],
                                    [
                                        29,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        30,
                                        1
                                    ],
                                    [
                                        30,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        31,
                                        1
                                    ],
                                    [
                                        31,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        32,
                                        1
                                    ],
                                    [
                                        32,
                                        59
                                    ]
                                ],
                                [
                                    [
                                        33,
                                        1
                                    ],
                                    [
                                        33,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        34,
                                        1
                                    ],
                                    [
                                        34,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        35,
                                        1
                                    ],
                                    [
                                        35,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        36,
                                        1
                                    ],
                                    [
                                        36,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        37,
                                        1
                                    ],
                                    [
                                        37,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        38,
                                        1
                                    ],
                                    [
                                        38,
                                        28
                                    ]
                                ],
                                [
                                    [
                                        39,
                                        1
                                    ],
                                    [
                                        39,
                                        26
                                    ]
                                ],
                                [
                                    [
                                        40,
                                        1
                                    ],
                                    [
                                        40,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        41,
                                        1
                                    ],
                                    [
                                        41,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        42,
                                        1
                                    ],
                                    [
                                        42,
                                        2
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "BookStatus",
                                "alias": "도서 상태",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            43
                                        ]
                                    ],
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ],
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            19
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookCategory",
                                "alias": "도서 카테고리",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookSpecification",
                                "alias": "도서 상세 정보",
                                "referencedAggregateName": "",
                                "refs": [
                                    [
                                        [
                                            3,
                                            66
                                        ],
                                        [
                                            3,
                                            93
                                        ]
                                    ],
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ],
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ],
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            17
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            184
                                        ],
                                        [
                                            3,
                                            217
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationReference",
                                "alias": "예약 참조",
                                "referencedAggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            222
                                        ],
                                        [
                                            3,
                                            224
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "도서의 등록, 상태 관리, 폐기 등 모든 도서 관련 기능이 Book Aggregate 내에 집중되어 있어 일관된 트랜잭션 경계를 제공한다.",
                    "coupling": "외부 컨텍스트(대출, 예약, 이력)와의 의존성을 ValueObject 참조로만 유지하여 결합도가 낮다.",
                    "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙을 Aggregate 내부에서 원자적으로 보장할 수 있다.",
                    "encapsulation": "도서의 상태, 상세 정보, 대출/예약 참조 등 도서 관리의 모든 세부 구현이 Aggregate 내부에 은닉된다.",
                    "complexity": "단일 Aggregate로 구조가 단순하며, 도서 관리 업무에 대한 이해와 유지보수가 용이하다.",
                    "independence": "도서 관리 정책 변경이 Aggregate 단위로 독립적으로 이루어질 수 있다.",
                    "performance": "단일 Aggregate 접근으로 도서 상태 및 정보 조회·변경 시 쿼리 효율이 높다."
                },
                "cons": {
                    "cohesion": "상태 이력, 대출/예약 참조 등 다양한 책임이 한 Aggregate에 집중되어 도서 관리가 복잡해질 수 있다.",
                    "coupling": "도서 상태 이력 등 확장 요구가 생기면 Aggregate 크기가 커져 외부 시스템과의 연동이 어려워질 수 있다.",
                    "consistency": "상태 이력 등 대용량 데이터가 누적될 경우 트랜잭션 처리에 부담이 될 수 있다.",
                    "encapsulation": "상태 이력, 대출/예약 등 서로 다른 도메인 관심사가 한 Aggregate에 혼재되어 캡슐화가 약해질 수 있다.",
                    "complexity": "도서 관리 업무가 확장될수록 Aggregate가 비대해져 도메인 복잡도가 증가한다.",
                    "independence": "상태 이력, 대출/예약 등 세부 기능 변경 시 전체 Aggregate에 영향이 갈 수 있다.",
                    "performance": "상태 이력, 대출/예약 등 데이터가 누적될수록 단일 Aggregate 접근 시 성능 저하가 발생할 수 있다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "BookManagement",
                    "alias": "도서 관리",
                    "displayName": "도서 관리",
                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "Book",
                            "alias": "도서"
                        }
                    ],
                    "requirements": {
                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            26,
                                            5
                                        ],
                                        [
                                            26,
                                            42
                                        ]
                                    ],
                                    [
                                        [
                                            87,
                                            5
                                        ],
                                        [
                                            87,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "title",
                                "refs": [
                                    [
                                        [
                                            27,
                                            5
                                        ],
                                        [
                                            27,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "isbn",
                                "refs": [
                                    [
                                        [
                                            28,
                                            5
                                        ],
                                        [
                                            28,
                                            36
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "author",
                                "refs": [
                                    [
                                        [
                                            29,
                                            5
                                        ],
                                        [
                                            29,
                                            32
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "publisher",
                                "refs": [
                                    [
                                        [
                                            30,
                                            5
                                        ],
                                        [
                                            30,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "category",
                                "refs": [
                                    [
                                        [
                                            31,
                                            5
                                        ],
                                        [
                                            31,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            32,
                                            5
                                        ],
                                        [
                                            32,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "registration_date",
                                "refs": [
                                    [
                                        [
                                            33,
                                            5
                                        ],
                                        [
                                            33,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_date",
                                "refs": [
                                    [
                                        [
                                            34,
                                            5
                                        ],
                                        [
                                            34,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "disposal_reason",
                                "refs": [
                                    [
                                        [
                                            35,
                                            5
                                        ],
                                        [
                                            35,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            36,
                                            5
                                        ],
                                        [
                                            36,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            37,
                                            5
                                        ],
                                        [
                                            37,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            86,
                                            5
                                        ],
                                        [
                                            86,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_status",
                                "refs": [
                                    [
                                        [
                                            88,
                                            5
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_status",
                                "refs": [
                                    [
                                        [
                                            89,
                                            5
                                        ],
                                        [
                                            89,
                                            56
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_reason",
                                "refs": [
                                    [
                                        [
                                            90,
                                            5
                                        ],
                                        [
                                            90,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "changed_by",
                                "refs": [
                                    [
                                        [
                                            91,
                                            5
                                        ],
                                        [
                                            91,
                                            27
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "change_date",
                                "refs": [
                                    [
                                        [
                                            92,
                                            5
                                        ],
                                        [
                                            92,
                                            50
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "15": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            3,
                                            301
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "17": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            63
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            24,
                                            1
                                        ],
                                        [
                                            24,
                                            6
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            25,
                                            1
                                        ],
                                        [
                                            25,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            26,
                                            1
                                        ],
                                        [
                                            26,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            27,
                                            1
                                        ],
                                        [
                                            27,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            28,
                                            1
                                        ],
                                        [
                                            28,
                                            37
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            29,
                                            1
                                        ],
                                        [
                                            29,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            30,
                                            1
                                        ],
                                        [
                                            30,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            31,
                                            1
                                        ],
                                        [
                                            31,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            32,
                                            1
                                        ],
                                        [
                                            32,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            33,
                                            1
                                        ],
                                        [
                                            33,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            34,
                                            1
                                        ],
                                        [
                                            34,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            35,
                                            1
                                        ],
                                        [
                                            35,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            36,
                                            1
                                        ],
                                        [
                                            36,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            37,
                                            1
                                        ],
                                        [
                                            37,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            38,
                                            1
                                        ],
                                        [
                                            38,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            39,
                                            1
                                        ],
                                        [
                                            39,
                                            26
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            40,
                                            1
                                        ],
                                        [
                                            40,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            41,
                                            1
                                        ],
                                        [
                                            41,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            42,
                                            1
                                        ],
                                        [
                                            42,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            84,
                                            1
                                        ],
                                        [
                                            84,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            85,
                                            1
                                        ],
                                        [
                                            85,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            86,
                                            1
                                        ],
                                        [
                                            86,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            87,
                                            1
                                        ],
                                        [
                                            87,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            88,
                                            1
                                        ],
                                        [
                                            88,
                                            53
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            89,
                                            1
                                        ],
                                        [
                                            89,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            90,
                                            1
                                        ],
                                        [
                                            90,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            91,
                                            1
                                        ],
                                        [
                                            91,
                                            28
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            92,
                                            1
                                        ],
                                        [
                                            92,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            93,
                                            1
                                        ],
                                        [
                                            93,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            94,
                                            1
                                        ],
                                        [
                                            94,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            95,
                                            1
                                        ],
                                        [
                                            95,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            96,
                                            1
                                        ],
                                        [
                                            96,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "69": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "70": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "85": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "86": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "87": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "88": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "110": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "111": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "112": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "133": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "134": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [
                            "RegisterBook",
                            "DiscardBook",
                            "UpdateBookStatus",
                            "ValidateIsbn"
                        ],
                        "readModelNames": [
                            "BookList",
                            "BookDetail",
                            "CategoryOptions"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
            },
            "LoanAndReservation": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "Loan",
                            "alias": "대출",
                            "refs": [
                                [
                                    [
                                        45,
                                        1
                                    ],
                                    [
                                        45,
                                        20
                                    ]
                                ],
                                [
                                    [
                                        46,
                                        1
                                    ],
                                    [
                                        46,
                                        43
                                    ]
                                ],
                                [
                                    [
                                        47,
                                        1
                                    ],
                                    [
                                        47,
                                        35
                                    ]
                                ],
                                [
                                    [
                                        48,
                                        1
                                    ],
                                    [
                                        48,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        49,
                                        1
                                    ],
                                    [
                                        49,
                                        49
                                    ]
                                ],
                                [
                                    [
                                        50,
                                        1
                                    ],
                                    [
                                        50,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        51,
                                        1
                                    ],
                                    [
                                        51,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        52,
                                        1
                                    ],
                                    [
                                        52,
                                        74
                                    ]
                                ],
                                [
                                    [
                                        53,
                                        1
                                    ],
                                    [
                                        53,
                                        57
                                    ]
                                ],
                                [
                                    [
                                        54,
                                        1
                                    ],
                                    [
                                        54,
                                        34
                                    ]
                                ],
                                [
                                    [
                                        55,
                                        1
                                    ],
                                    [
                                        55,
                                        50
                                    ]
                                ],
                                [
                                    [
                                        56,
                                        1
                                    ],
                                    [
                                        56,
                                        78
                                    ]
                                ],
                                [
                                    [
                                        57,
                                        1
                                    ],
                                    [
                                        57,
                                        58
                                    ]
                                ],
                                [
                                    [
                                        58,
                                        1
                                    ],
                                    [
                                        58,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        59,
                                        1
                                    ],
                                    [
                                        59,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        60,
                                        1
                                    ],
                                    [
                                        60,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        61,
                                        1
                                    ],
                                    [
                                        61,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        62,
                                        1
                                    ],
                                    [
                                        62,
                                        33
                                    ]
                                ],
                                [
                                    [
                                        63,
                                        1
                                    ],
                                    [
                                        63,
                                        2
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        49
                                    ],
                                    [
                                        5,
                                        91
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        59
                                    ],
                                    [
                                        5,
                                        77
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        43
                                    ],
                                    [
                                        5,
                                        126
                                    ]
                                ],
                                [
                                    [
                                        5,
                                        198
                                    ],
                                    [
                                        5,
                                        235
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanStatus",
                                "alias": "대출 상태",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            56
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "Reservation",
                                "alias": "예약",
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ],
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ],
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ],
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ],
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ],
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ],
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ],
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ],
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ],
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryReference",
                                "alias": "대출 이력 참조",
                                "referencedAggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            5
                                        ],
                                        [
                                            108,
                                            25
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            39
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    }
                ],
                "pros": {
                    "cohesion": "대출, 예약, 이력 등 대출 관련 모든 정보를 Loan Aggregate에 통합하여 대출 프로세스의 전체 흐름을 한 곳에서 관리할 수 있다.",
                    "coupling": "예약과 대출 간의 상태 전이 및 상호작용을 Aggregate 내부에서 직접 처리할 수 있어 결합도가 높아 복합 비즈니스 규칙 구현이 용이하다.",
                    "consistency": "대출과 예약의 상태 변경, 이력 기록이 단일 트랜잭션 내에서 일관성 있게 처리된다.",
                    "encapsulation": "대출과 예약, 이력 관리까지 모두 Loan Aggregate 내부에 캡슐화되어 외부 의존성이 줄어든다.",
                    "complexity": "대출/예약/이력의 통합 관리로 복잡한 상태 전이와 비즈니스 규칙을 Aggregate 내부에서 일관성 있게 구현할 수 있다.",
                    "independence": "대출 프로세스 전체를 단일 Aggregate로 관리하므로 기능 확장 시 일관성 있게 변경이 가능하다.",
                    "performance": "대출/예약/이력 관련 데이터 접근이 한 번의 Aggregate 조회로 가능해 조회 성능이 향상된다."
                },
                "cons": {
                    "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클을 가진 도메인 개념이 하나의 Aggregate에 묶여 응집도가 저하될 수 있다.",
                    "coupling": "Aggregate가 비대해지면서 도메인 변경 시 영향 범위가 넓어지고, 유지보수 난이도가 증가한다.",
                    "consistency": "동시성 처리 시 여러 사용자가 동일 Loan Aggregate를 갱신하면 락 경합이 발생할 수 있다.",
                    "encapsulation": "예약 및 이력 관리의 책임이 Loan Aggregate에 집중되어 역할 분리가 어렵다.",
                    "complexity": "Aggregate가 커질수록 도메인 로직이 복잡해지고, 개발 및 테스트 난이도가 상승한다.",
                    "independence": "예약 또는 이력 관리만 별도로 확장하거나 배포하기 어렵다.",
                    "performance": "대출과 예약, 이력 등 모든 변경이 한 Aggregate에 집중되어 트래픽이 몰릴 경우 성능 저하가 발생할 수 있다."
                },
                "isAIRecommended": true,
                "boundedContext": {
                    "name": "LoanAndReservation",
                    "alias": "대출/반납 및 예약",
                    "displayName": "대출/반납 및 예약",
                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                    "aggregates": [
                        {
                            "name": "Loan",
                            "alias": "대출"
                        },
                        {
                            "name": "Reservation",
                            "alias": "예약"
                        }
                    ],
                    "requirements": {
                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            46,
                                            5
                                        ],
                                        [
                                            46,
                                            38
                                        ]
                                    ],
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "member_id",
                                "refs": [
                                    [
                                        [
                                            47,
                                            5
                                        ],
                                        [
                                            47,
                                            34
                                        ]
                                    ],
                                    [
                                        [
                                            68,
                                            5
                                        ],
                                        [
                                            68,
                                            34
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "book_id",
                                "refs": [
                                    [
                                        [
                                            48,
                                            5
                                        ],
                                        [
                                            48,
                                            24
                                        ]
                                    ],
                                    [
                                        [
                                            69,
                                            5
                                        ],
                                        [
                                            69,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_date",
                                "refs": [
                                    [
                                        [
                                            49,
                                            5
                                        ],
                                        [
                                            49,
                                            48
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "due_date",
                                "refs": [
                                    [
                                        [
                                            50,
                                            5
                                        ],
                                        [
                                            50,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "return_date",
                                "refs": [
                                    [
                                        [
                                            51,
                                            5
                                        ],
                                        [
                                            51,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_period_days",
                                "refs": [
                                    [
                                        [
                                            52,
                                            5
                                        ],
                                        [
                                            52,
                                            39
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "status",
                                "refs": [
                                    [
                                        [
                                            53,
                                            5
                                        ],
                                        [
                                            53,
                                            50
                                        ]
                                    ],
                                    [
                                        [
                                            71,
                                            5
                                        ],
                                        [
                                            71,
                                            54
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "extension_count",
                                "refs": [
                                    [
                                        [
                                            54,
                                            5
                                        ],
                                        [
                                            54,
                                            31
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "created_at",
                                "refs": [
                                    [
                                        [
                                            55,
                                            5
                                        ],
                                        [
                                            55,
                                            49
                                        ]
                                    ],
                                    [
                                        [
                                            74,
                                            5
                                        ],
                                        [
                                            74,
                                            49
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "updated_at",
                                "refs": [
                                    [
                                        [
                                            56,
                                            5
                                        ],
                                        [
                                            56,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            75,
                                            5
                                        ],
                                        [
                                            75,
                                            77
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_id",
                                "refs": [
                                    [
                                        [
                                            67,
                                            5
                                        ],
                                        [
                                            67,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "reservation_date",
                                "refs": [
                                    [
                                        [
                                            70,
                                            5
                                        ],
                                        [
                                            70,
                                            55
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notification_sent",
                                "refs": [
                                    [
                                        [
                                            72,
                                            5
                                        ],
                                        [
                                            72,
                                            37
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "expiry_date",
                                "refs": [
                                    [
                                        [
                                            73,
                                            5
                                        ],
                                        [
                                            73,
                                            29
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            41
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_type",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            63
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "9": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "10": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "16": {
                                "refs": [
                                    [
                                        [
                                            1,
                                            1
                                        ],
                                        [
                                            1,
                                            17
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "18": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            81
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "20": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            1
                                        ],
                                        [
                                            5,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            59
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            7,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            9
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            45,
                                            1
                                        ],
                                        [
                                            45,
                                            20
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            46,
                                            1
                                        ],
                                        [
                                            46,
                                            43
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            47,
                                            1
                                        ],
                                        [
                                            47,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "34": {
                                "refs": [
                                    [
                                        [
                                            48,
                                            1
                                        ],
                                        [
                                            48,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "35": {
                                "refs": [
                                    [
                                        [
                                            49,
                                            1
                                        ],
                                        [
                                            49,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "36": {
                                "refs": [
                                    [
                                        [
                                            50,
                                            1
                                        ],
                                        [
                                            50,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "37": {
                                "refs": [
                                    [
                                        [
                                            51,
                                            1
                                        ],
                                        [
                                            51,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            52,
                                            1
                                        ],
                                        [
                                            52,
                                            74
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            53,
                                            1
                                        ],
                                        [
                                            53,
                                            57
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            54,
                                            1
                                        ],
                                        [
                                            54,
                                            34
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            55,
                                            1
                                        ],
                                        [
                                            55,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            56,
                                            1
                                        ],
                                        [
                                            56,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            57,
                                            1
                                        ],
                                        [
                                            57,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            58,
                                            1
                                        ],
                                        [
                                            58,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            59,
                                            1
                                        ],
                                        [
                                            59,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            60,
                                            1
                                        ],
                                        [
                                            60,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            61,
                                            1
                                        ],
                                        [
                                            61,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            62,
                                            1
                                        ],
                                        [
                                            62,
                                            33
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            63,
                                            1
                                        ],
                                        [
                                            63,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "52": {
                                "refs": [
                                    [
                                        [
                                            66,
                                            1
                                        ],
                                        [
                                            66,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "53": {
                                "refs": [
                                    [
                                        [
                                            67,
                                            1
                                        ],
                                        [
                                            67,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "54": {
                                "refs": [
                                    [
                                        [
                                            68,
                                            1
                                        ],
                                        [
                                            68,
                                            35
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            69,
                                            1
                                        ],
                                        [
                                            69,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            70,
                                            1
                                        ],
                                        [
                                            70,
                                            56
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            71,
                                            1
                                        ],
                                        [
                                            71,
                                            61
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            72,
                                            1
                                        ],
                                        [
                                            72,
                                            44
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            73,
                                            1
                                        ],
                                        [
                                            73,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            74,
                                            1
                                        ],
                                        [
                                            74,
                                            50
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            75,
                                            1
                                        ],
                                        [
                                            75,
                                            78
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            76,
                                            1
                                        ],
                                        [
                                            76,
                                            58
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            77,
                                            1
                                        ],
                                        [
                                            77,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            78,
                                            1
                                        ],
                                        [
                                            78,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            79,
                                            1
                                        ],
                                        [
                                            79,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            80,
                                            1
                                        ],
                                        [
                                            80,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            81,
                                            1
                                        ],
                                        [
                                            81,
                                            49
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            82,
                                            1
                                        ],
                                        [
                                            82,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "71": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "72": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "73": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "78": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "79": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            39
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "84": {
                                "refs": [
                                    [
                                        [
                                            112,
                                            1
                                        ],
                                        [
                                            112,
                                            2
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "89": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "90": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "91": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "92": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "93": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "94": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "95": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "96": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "97": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "98": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "99": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "100": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "101": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "102": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "103": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "104": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "105": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "106": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "107": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "108": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "109": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "113": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "114": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "115": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "116": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "117": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "118": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "119": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "120": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "121": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "122": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "123": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "124": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "125": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "126": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "127": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "128": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "129": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "130": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "131": {
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "135": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "136": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "137": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "138": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "139": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "140": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "141": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "142": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "143": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "144": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "145": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "146": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "147": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "148": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "149": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "150": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "151": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "152": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "153": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "157": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "158": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "159": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "160": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "161": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "162": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "163": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "164": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "165": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "166": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "167": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "168": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "169": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "170": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "171": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "172": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "173": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "174": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "175": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "181": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "182": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "183": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "184": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "187": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "188": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "189": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "190": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [
                            "LoanBook",
                            "ReturnBook",
                            "ExtendLoan",
                            "ReserveBook"
                        ],
                        "readModelNames": [
                            "LoanStatusList",
                            "LoanDetail",
                            "SearchBookForLoan"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
            },
            "LoanHistory": {
                "structure": [
                    {
                        "aggregate": {
                            "name": "LoanHistory",
                            "alias": "대출 이력",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ],
                                [
                                    [
                                        99,
                                        14
                                    ],
                                    [
                                        99,
                                        27
                                    ]
                                ],
                                [
                                    [
                                        100,
                                        1
                                    ],
                                    [
                                        100,
                                        46
                                    ]
                                ],
                                [
                                    [
                                        101,
                                        1
                                    ],
                                    [
                                        101,
                                        25
                                    ]
                                ],
                                [
                                    [
                                        102,
                                        1
                                    ],
                                    [
                                        102,
                                        64
                                    ]
                                ],
                                [
                                    [
                                        103,
                                        1
                                    ],
                                    [
                                        103,
                                        51
                                    ]
                                ],
                                [
                                    [
                                        104,
                                        1
                                    ],
                                    [
                                        104,
                                        36
                                    ]
                                ],
                                [
                                    [
                                        105,
                                        1
                                    ],
                                    [
                                        105,
                                        31
                                    ]
                                ],
                                [
                                    [
                                        106,
                                        1
                                    ],
                                    [
                                        106,
                                        15
                                    ]
                                ],
                                [
                                    [
                                        107,
                                        1
                                    ],
                                    [
                                        107,
                                        30
                                    ]
                                ],
                                [
                                    [
                                        108,
                                        1
                                    ],
                                    [
                                        108,
                                        52
                                    ]
                                ],
                                [
                                    [
                                        109,
                                        1
                                    ],
                                    [
                                        109,
                                        32
                                    ]
                                ],
                                [
                                    [
                                        110,
                                        1
                                    ],
                                    [
                                        110,
                                        40
                                    ]
                                ],
                                [
                                    [
                                        111,
                                        1
                                    ],
                                    [
                                        111,
                                        9
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "LoanActionType",
                                "alias": "대출 이력 액션 유형",
                                "refs": [
                                    [
                                        [
                                            102,
                                            5
                                        ],
                                        [
                                            102,
                                            52
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "LoanReference",
                                "alias": "대출 참조",
                                "referencedAggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            11
                                        ]
                                    ],
                                    [
                                        [
                                            108,
                                            5
                                        ],
                                        [
                                            108,
                                            51
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ]
                    },
                    {
                        "aggregate": {
                            "name": "ReservationHistory",
                            "alias": "예약 이력",
                            "refs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ],
                                [
                                    [
                                        9,
                                        15
                                    ],
                                    [
                                        9,
                                        65
                                    ]
                                ]
                            ]
                        },
                        "enumerations": [
                            {
                                "name": "ReservationActionType",
                                "alias": "예약 이력 액션 유형",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "valueObjects": [
                            {
                                "name": "Reservation",
                                "alias": "예약",
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReference",
                                "alias": "도서 참조",
                                "referencedAggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "previewAttributes": []
                    }
                ],
                "pros": {
                    "cohesion": "대출 이력과 예약 이력을 별도의 Aggregate로 분리하여 각 도메인 책임이 명확하게 구분된다.",
                    "coupling": "Loan, Reservation, Book 등 외부 Aggregate와의 참조가 ValueObject로 일관되게 관리되어 결합도가 낮다.",
                    "consistency": "각 이력의 트랜잭션 경계가 명확하여, 대출/예약 이벤트 발생 시 이력 기록의 원자성이 보장된다.",
                    "encapsulation": "이력별 도메인 규칙과 상태 전이가 Aggregate 내부에 잘 은닉되어 있다.",
                    "complexity": "각 Aggregate가 단일 책임 원칙을 따르므로 도메인 복잡도가 낮고 유지보수가 용이하다.",
                    "independence": "대출 이력과 예약 이력이 독립적으로 진화 및 확장될 수 있다.",
                    "performance": "이력별로 데이터 접근이 분리되어 대량 데이터 조회 시 성능 저하가 적다."
                },
                "cons": {
                    "cohesion": "이력 데이터가 분산되어 있어 복합 이력 조회(예: 대출과 예약 이력 동시 조회) 시 추가 조인이 필요하다.",
                    "coupling": "이력 간 연관 이벤트 처리 시 애플리케이션 서비스 계층에서 조정 로직이 필요하다.",
                    "consistency": "복합 이력 동기화가 필요한 경우 트랜잭션 경계가 Aggregate 단위로 분리되어 있어 일관성 유지가 복잡해질 수 있다.",
                    "encapsulation": "이력 간 공통 규칙(예: 동일 도서에 대한 이력 통합 관리)이 Aggregate 외부에서 처리되어야 한다.",
                    "complexity": "이력 유형이 추가될 경우 Aggregate가 계속 늘어나 도메인 구조가 복잡해질 수 있다.",
                    "independence": "복합 이력 분석이나 통계 기능 개발 시 Aggregate 간 데이터 통합이 필요하다.",
                    "performance": "복합 이력 조회 시 여러 테이블을 조인해야 하므로 단일 이력에 비해 조회 성능이 저하될 수 있다."
                },
                "isAIRecommended": false,
                "boundedContext": {
                    "name": "LoanHistory",
                    "alias": "이력 관리",
                    "displayName": "이력 관리",
                    "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                    "aggregates": [
                        {
                            "name": "LoanHistory",
                            "alias": "대출 이력"
                        },
                        {
                            "name": "ReservationHistory",
                            "alias": "예약 이력"
                        }
                    ],
                    "requirements": {
                        "userStory": "대출 이력\n상태 변경",
                        "ddl": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                        "event": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                        "eventNames": "LoanHistoryRecorded, ReservationHistoryRecorded 이벤트가 발생할 수 있어.",
                        "ddlFields": [
                            {
                                "fieldName": "history_id",
                                "refs": [
                                    [
                                        [
                                            100,
                                            5
                                        ],
                                        [
                                            100,
                                            45
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "loan_id",
                                "refs": [
                                    [
                                        [
                                            101,
                                            5
                                        ],
                                        [
                                            101,
                                            24
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "action_date",
                                "refs": [
                                    [
                                        [
                                            103,
                                            5
                                        ],
                                        [
                                            103,
                                            50
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "previous_due_date",
                                "refs": [
                                    [
                                        [
                                            104,
                                            5
                                        ],
                                        [
                                            104,
                                            35
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "new_due_date",
                                "refs": [
                                    [
                                        [
                                            105,
                                            5
                                        ],
                                        [
                                            105,
                                            30
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "notes",
                                "refs": [
                                    [
                                        [
                                            106,
                                            5
                                        ],
                                        [
                                            106,
                                            14
                                        ]
                                    ]
                                ]
                            },
                            {
                                "fieldName": "processed_by",
                                "refs": [
                                    [
                                        [
                                            107,
                                            5
                                        ],
                                        [
                                            107,
                                            29
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "traceMap": {
                            "4": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "7": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "8": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "14": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            5
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "16": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            1
                                        ],
                                        [
                                            9,
                                            5
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "21": {
                                "refs": [
                                    [
                                        [
                                            99,
                                            1
                                        ],
                                        [
                                            99,
                                            27
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "22": {
                                "refs": [
                                    [
                                        [
                                            100,
                                            1
                                        ],
                                        [
                                            100,
                                            46
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "23": {
                                "refs": [
                                    [
                                        [
                                            101,
                                            1
                                        ],
                                        [
                                            101,
                                            25
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "24": {
                                "refs": [
                                    [
                                        [
                                            102,
                                            1
                                        ],
                                        [
                                            102,
                                            64
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "25": {
                                "refs": [
                                    [
                                        [
                                            103,
                                            1
                                        ],
                                        [
                                            103,
                                            51
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "26": {
                                "refs": [
                                    [
                                        [
                                            104,
                                            1
                                        ],
                                        [
                                            104,
                                            36
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "27": {
                                "refs": [
                                    [
                                        [
                                            105,
                                            1
                                        ],
                                        [
                                            105,
                                            31
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "28": {
                                "refs": [
                                    [
                                        [
                                            106,
                                            1
                                        ],
                                        [
                                            106,
                                            15
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "29": {
                                "refs": [
                                    [
                                        [
                                            107,
                                            1
                                        ],
                                        [
                                            107,
                                            30
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "30": {
                                "refs": [
                                    [
                                        [
                                            108,
                                            1
                                        ],
                                        [
                                            108,
                                            52
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "31": {
                                "refs": [
                                    [
                                        [
                                            109,
                                            1
                                        ],
                                        [
                                            109,
                                            32
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "32": {
                                "refs": [
                                    [
                                        [
                                            110,
                                            1
                                        ],
                                        [
                                            110,
                                            40
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "33": {
                                "refs": [
                                    [
                                        [
                                            111,
                                            1
                                        ],
                                        [
                                            111,
                                            9
                                        ]
                                    ]
                                ],
                                "isDirectMatching": true
                            },
                            "38": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "39": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "40": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "41": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "42": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "43": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "44": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "45": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "46": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "47": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "48": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "49": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "50": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "51": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "55": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "56": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "57": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "58": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "59": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "60": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "61": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "62": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "63": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "64": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "65": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "66": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "67": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "68": {
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "74": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "75": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "76": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "77": {
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "80": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "81": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "82": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            },
                            "83": {
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "isDirectMatching": false
                            }
                        },
                        "commandNames": [],
                        "readModelNames": [
                            "BookLoanHistory",
                            "BookStatusChangeHistory"
                        ]
                    }
                },
                "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
            }
        },
        "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
        "state": {
            "generator": "RequirementsMappingGenerator",
            "isAIModelSelected": false,
            "firstMessageIsTyping": true,
            "secondMessageIsTyping": false,
            "userStory": "",
            "communicationStyle": "Choreography",
            "aggregateDetail": false,
            "uiStyle": null,
            "associatedProject": "7339a13846cce7d2c16bc3db85f10593"
        },
        "messages": [
            {
                "uniqueId": "77496b465d7ef6bb496b871f1f05de54",
                "type": "processAnalysis",
                "isAnalizing": false,
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "processingRate": 0,
                "content": {
                    "type": "ANALYSIS_RESULT",
                    "projectName": "Requirements Analysis",
                    "content": {
                        "elements": {
                            "d609b7ba-a17c-2b11-7229-857be7c15442": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "d609b7ba-a17c-2b11-7229-857be7c15442",
                                "name": "Librarian",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "d609b7ba-a17c-2b11-7229-857be7c15442",
                                    "x": 150,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "aaaea731-76a8-cb6f-a3ea-22aebc7c2924": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "aaaea731-76a8-cb6f-a3ea-22aebc7c2924",
                                "name": "Member",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "aaaea731-76a8-cb6f-a3ea-22aebc7c2924",
                                    "x": 150,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "171dca44-b5c0-17a3-2a2f-3746b2029347": {
                                "_type": "org.uengine.modeling.model.Actor",
                                "id": "171dca44-b5c0-17a3-2a2f-3746b2029347",
                                "name": "System",
                                "oldName": "",
                                "displayName": "",
                                "description": "",
                                "author": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Actor",
                                    "id": "171dca44-b5c0-17a3-2a2f-3746b2029347",
                                    "x": 150,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}"
                                },
                                "boundedContext": {}
                            },
                            "39e955bb-2889-13ee-43d6-f9c04704e8aa": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                "visibility": "public",
                                "name": "BookRegistered",
                                "oldName": "",
                                "displayName": "도서 등록됨",
                                "namePascalCase": "BookRegistered",
                                "nameCamelCase": "bookRegistered",
                                "namePlural": "",
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                    "x": 300,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                    "x": 300,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "4006544a-46e2-20b3-091f-ace9dbf97109": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                "visibility": "public",
                                "name": "BookDisposed",
                                "oldName": "",
                                "displayName": "도서 폐기됨",
                                "namePascalCase": "BookDisposed",
                                "nameCamelCase": "bookDisposed",
                                "namePlural": "",
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                    "x": 500,
                                    "y": 150,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                    "x": 500,
                                    "y": 150,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "33d20dfd-41e2-329f-f21e-d951acc196dc": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "visibility": "public",
                                "name": "BookStatusChanged",
                                "oldName": "",
                                "displayName": "도서 상태 변경됨",
                                "namePascalCase": "BookStatusChanged",
                                "nameCamelCase": "bookStatusChanged",
                                "namePlural": "",
                                "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "x": 300,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "x": 300,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "502ba06b-125d-e2ba-b615-073e706b6993": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "visibility": "public",
                                "name": "LoanHistoryRecorded",
                                "oldName": "",
                                "displayName": "대출 이력 기록됨",
                                "namePascalCase": "LoanHistoryRecorded",
                                "nameCamelCase": "loanHistoryRecorded",
                                "namePlural": "",
                                "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "x": 500,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "x": 500,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "f86575ae-5efb-bb6e-9570-f8b02222054f": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                "visibility": "public",
                                "name": "ReservationHistoryRecorded",
                                "oldName": "",
                                "displayName": "예약 이력 기록됨",
                                "namePascalCase": "ReservationHistoryRecorded",
                                "nameCamelCase": "reservationHistoryRecorded",
                                "namePlural": "",
                                "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                    "x": 700,
                                    "y": 650,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                    "x": 700,
                                    "y": 650,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "2c5c3155-2cbe-acad-a41c-18c2ac2583ec": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "visibility": "public",
                                "name": "BookLoaned",
                                "oldName": "",
                                "displayName": "도서 대출됨",
                                "namePascalCase": "BookLoaned",
                                "nameCamelCase": "bookLoaned",
                                "namePlural": "",
                                "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "x": 300,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "x": 300,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "dae2e159-2892-5ae3-3f28-f7ca33ca3b86": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "visibility": "public",
                                "name": "BookReserved",
                                "oldName": "",
                                "displayName": "도서 예약됨",
                                "namePascalCase": "BookReserved",
                                "nameCamelCase": "bookReserved",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "x": 500,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "x": 500,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "259c838a-8e2b-4d53-e282-92e7b9f4c351": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "visibility": "public",
                                "name": "BookReturned",
                                "oldName": "",
                                "displayName": "도서 반납됨",
                                "namePascalCase": "BookReturned",
                                "nameCamelCase": "bookReturned",
                                "namePlural": "",
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "x": 700,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "x": 700,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            },
                            "7e5e2488-3c94-6b60-2dde-a60fb11834fa": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                "visibility": "public",
                                "name": "LoanExtended",
                                "oldName": "",
                                "displayName": "대출 연장됨",
                                "namePascalCase": "LoanExtended",
                                "nameCamelCase": "loanExtended",
                                "namePlural": "",
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                "author": null,
                                "aggregate": {},
                                "boundedContext": {},
                                "fieldDescriptors": [
                                    {
                                        "_type": "org.uengine.model.FieldDescriptor",
                                        "name": "id",
                                        "className": "Long",
                                        "nameCamelCase": "id",
                                        "namePascalCase": "Id",
                                        "isKey": true
                                    }
                                ],
                                "mirrorElement": null,
                                "elementView": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                    "x": 900,
                                    "y": 400,
                                    "width": 100,
                                    "height": 100,
                                    "style": "{}",
                                    "angle": 0
                                },
                                "hexagonalView": {
                                    "_type": "org.uengine.modeling.model.EventHexagonal",
                                    "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                    "x": 900,
                                    "y": 400,
                                    "subWidth": 100,
                                    "width": 20,
                                    "height": 20,
                                    "style": "{}"
                                },
                                "relationPolicyInfo": [],
                                "relationCommandInfo": [],
                                "trigger": "@PostPersist"
                            }
                        },
                        "relations": {
                            "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                                "to": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                                "description": "",
                                "relationView": {
                                    "id": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                                    "value": "[[0,275],[2000,275]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,275],[2000,275]]"
                            },
                            "9700580c-1970-b461-ad81-676a95123e95": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "9700580c-1970-b461-ad81-676a95123e95",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "9700580c-1970-b461-ad81-676a95123e95",
                                "to": "9700580c-1970-b461-ad81-676a95123e95",
                                "description": "",
                                "relationView": {
                                    "id": "9700580c-1970-b461-ad81-676a95123e95",
                                    "value": "[[0,525],[2000,525]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,525],[2000,525]]"
                            },
                            "887ca9dd-3cb0-8764-9176-787875c4f6ed": {
                                "_type": "org.uengine.modeling.model.Line",
                                "id": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                                "name": "",
                                "author": null,
                                "oldName": "",
                                "displayName": "",
                                "from": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                                "to": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                                "description": "",
                                "relationView": {
                                    "id": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                                    "value": "[[0,775],[2000,775]]"
                                },
                                "size": 10,
                                "color": "#cccccc",
                                "dashStyle": "3,3",
                                "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                                "vertices": "[[0,775],[2000,775]]"
                            },
                            "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d",
                                "name": "1",
                                "displayName": "1",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                    "visibility": "public",
                                    "name": "BookRegistered",
                                    "oldName": "",
                                    "displayName": "도서 등록됨",
                                    "namePascalCase": "BookRegistered",
                                    "nameCamelCase": "bookRegistered",
                                    "namePlural": "",
                                    "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                        "x": 300,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                        "x": 300,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "relationView": {
                                    "id": "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                    "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "needReconnect": true
                                }
                            },
                            "e7b7a299-3bb1-4f1b-eb11-203907e78050": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "e7b7a299-3bb1-4f1b-eb11-203907e78050",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                    "visibility": "public",
                                    "name": "BookDisposed",
                                    "oldName": "",
                                    "displayName": "도서 폐기됨",
                                    "namePascalCase": "BookDisposed",
                                    "nameCamelCase": "bookDisposed",
                                    "namePlural": "",
                                    "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                        "x": 500,
                                        "y": 150,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                        "x": 500,
                                        "y": 150,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "to": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                "relationView": {
                                    "id": "e7b7a299-3bb1-4f1b-eb11-203907e78050",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "to": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                    "needReconnect": true
                                }
                            },
                            "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "to": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "relationView": {
                                    "id": "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "to": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "needReconnect": true
                                }
                            },
                            "4f2622e1-9dfb-5148-36ba-afcac0ed7d24": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "4f2622e1-9dfb-5148-36ba-afcac0ed7d24",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "to": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "relationView": {
                                    "id": "4f2622e1-9dfb-5148-36ba-afcac0ed7d24",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "to": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "needReconnect": true
                                }
                            },
                            "4eee1503-8fa4-4772-1e34-da7c19530d77": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "4eee1503-8fa4-4772-1e34-da7c19530d77",
                                "name": "2",
                                "displayName": "2",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "to": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "relationView": {
                                    "id": "4eee1503-8fa4-4772-1e34-da7c19530d77",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "to": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "needReconnect": true
                                }
                            },
                            "3f64b1d9-2d58-a122-c89d-5e21269c65d0": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "3f64b1d9-2d58-a122-c89d-5e21269c65d0",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "relationView": {
                                    "id": "3f64b1d9-2d58-a122-c89d-5e21269c65d0",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "needReconnect": true
                                }
                            },
                            "b0053bd9-ddb5-d979-2c68-73594113884d": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "b0053bd9-ddb5-d979-2c68-73594113884d",
                                "name": "4",
                                "displayName": "4",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "visibility": "public",
                                    "name": "BookLoaned",
                                    "oldName": "",
                                    "displayName": "도서 대출됨",
                                    "namePascalCase": "BookLoaned",
                                    "nameCamelCase": "bookLoaned",
                                    "namePlural": "",
                                    "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                        "x": 300,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "relationView": {
                                    "id": "b0053bd9-ddb5-d979-2c68-73594113884d",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                    "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "needReconnect": true
                                }
                            },
                            "dad1d9f6-5f71-119b-8c0b-434de6999a38": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "dad1d9f6-5f71-119b-8c0b-434de6999a38",
                                "name": "5",
                                "displayName": "5",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "relationView": {
                                    "id": "dad1d9f6-5f71-119b-8c0b-434de6999a38",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "needReconnect": true
                                }
                            },
                            "dc3314ec-1557-1670-7d19-baf4c789345c": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "dc3314ec-1557-1670-7d19-baf4c789345c",
                                "name": "5",
                                "displayName": "5",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "visibility": "public",
                                    "name": "BookReserved",
                                    "oldName": "",
                                    "displayName": "도서 예약됨",
                                    "namePascalCase": "BookReserved",
                                    "nameCamelCase": "bookReserved",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                        "x": 500,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                    "visibility": "public",
                                    "name": "ReservationHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "예약 이력 기록됨",
                                    "namePascalCase": "ReservationHistoryRecorded",
                                    "nameCamelCase": "reservationHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                        "x": 700,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                        "x": 700,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "to": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                "relationView": {
                                    "id": "dc3314ec-1557-1670-7d19-baf4c789345c",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                    "to": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                    "needReconnect": true
                                }
                            },
                            "b944f399-015b-20b1-c3eb-d5946655fa55": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "b944f399-015b-20b1-c3eb-d5946655fa55",
                                "name": "6",
                                "displayName": "6",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "visibility": "public",
                                    "name": "BookStatusChanged",
                                    "oldName": "",
                                    "displayName": "도서 상태 변경됨",
                                    "namePascalCase": "BookStatusChanged",
                                    "nameCamelCase": "bookStatusChanged",
                                    "namePlural": "",
                                    "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                        "x": 300,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "relationView": {
                                    "id": "b944f399-015b-20b1-c3eb-d5946655fa55",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                    "needReconnect": true
                                }
                            },
                            "fed722e6-a0ed-dd78-9879-cc88f4462b04": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "fed722e6-a0ed-dd78-9879-cc88f4462b04",
                                "name": "6",
                                "displayName": "6",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "visibility": "public",
                                    "name": "BookReturned",
                                    "oldName": "",
                                    "displayName": "도서 반납됨",
                                    "namePascalCase": "BookReturned",
                                    "nameCamelCase": "bookReturned",
                                    "namePlural": "",
                                    "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                        "x": 700,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "relationView": {
                                    "id": "fed722e6-a0ed-dd78-9879-cc88f4462b04",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                    "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "needReconnect": true
                                }
                            },
                            "48ef4437-9749-5751-7bd6-c2c24becf15b": {
                                "_type": "org.uengine.modeling.model.Relation",
                                "id": "48ef4437-9749-5751-7bd6-c2c24becf15b",
                                "name": "7",
                                "displayName": "7",
                                "sourceElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                    "visibility": "public",
                                    "name": "LoanExtended",
                                    "oldName": "",
                                    "displayName": "대출 연장됨",
                                    "namePascalCase": "LoanExtended",
                                    "nameCamelCase": "loanExtended",
                                    "namePlural": "",
                                    "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                        "x": 900,
                                        "y": 400,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                        "x": 900,
                                        "y": 400,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "targetElement": {
                                    "_type": "org.uengine.modeling.model.Event",
                                    "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "visibility": "public",
                                    "name": "LoanHistoryRecorded",
                                    "oldName": "",
                                    "displayName": "대출 이력 기록됨",
                                    "namePascalCase": "LoanHistoryRecorded",
                                    "nameCamelCase": "loanHistoryRecorded",
                                    "namePlural": "",
                                    "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                    "author": null,
                                    "aggregate": {},
                                    "boundedContext": {},
                                    "fieldDescriptors": [
                                        {
                                            "_type": "org.uengine.model.FieldDescriptor",
                                            "name": "id",
                                            "className": "Long",
                                            "nameCamelCase": "id",
                                            "namePascalCase": "Id",
                                            "isKey": true
                                        }
                                    ],
                                    "mirrorElement": null,
                                    "elementView": {
                                        "_type": "org.uengine.modeling.model.Event",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "width": 100,
                                        "height": 100,
                                        "style": "{}",
                                        "angle": 0
                                    },
                                    "hexagonalView": {
                                        "_type": "org.uengine.modeling.model.EventHexagonal",
                                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                        "x": 500,
                                        "y": 650,
                                        "subWidth": 100,
                                        "width": 20,
                                        "height": 20,
                                        "style": "{}"
                                    },
                                    "relationPolicyInfo": [],
                                    "relationCommandInfo": [],
                                    "trigger": "@PostPersist"
                                },
                                "from": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "relationView": {
                                    "id": "48ef4437-9749-5751-7bd6-c2c24becf15b",
                                    "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                                    "value": null,
                                    "from": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                    "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                                    "needReconnect": true
                                }
                            }
                        }
                    },
                    "analysisResult": {
                        "recommendedBoundedContextsNumber": 4,
                        "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                        "events": [
                            {
                                "name": "BookRegistered",
                                "displayName": "도서 등록됨",
                                "actor": "Librarian",
                                "level": 1,
                                "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                                "inputs": [
                                    "도서명",
                                    "ISBN(13자리)",
                                    "저자",
                                    "출판사",
                                    "카테고리(소설/비소설/학술/잡지)"
                                ],
                                "outputs": [
                                    "신규 도서 정보",
                                    "도서 상태: 대출가능"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            57
                                        ],
                                        [
                                            3,
                                            100
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            105
                                        ],
                                        [
                                            3,
                                            128
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            136
                                        ],
                                        [
                                            3,
                                            161
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookStatusChanged",
                                "displayName": "도서 상태 변경됨",
                                "actor": "System",
                                "level": 2,
                                "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                                "inputs": [
                                    "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "변경된 도서 상태"
                                ],
                                "nextEvents": [
                                    "BookDisposed",
                                    "BookLoaned",
                                    "BookReturned",
                                    "BookReserved"
                                ],
                                "refs": [
                                    [
                                        [
                                            3,
                                            191
                                        ],
                                        [
                                            3,
                                            238
                                        ]
                                    ],
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            150
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookDisposed",
                                "displayName": "도서 폐기됨",
                                "actor": "Librarian",
                                "level": 3,
                                "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                                "inputs": [
                                    "도서 식별자",
                                    "폐기 사유"
                                ],
                                "outputs": [
                                    "도서 상태: 폐기"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            3,
                                            264
                                        ],
                                        [
                                            3,
                                            302
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookLoaned",
                                "displayName": "도서 대출됨",
                                "actor": "Member",
                                "level": 4,
                                "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "이름",
                                    "도서 식별자",
                                    "대출 기간(7/14/30일)"
                                ],
                                "outputs": [
                                    "대출 정보",
                                    "도서 상태: 대출중"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            49
                                        ],
                                        [
                                            5,
                                            91
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            59
                                        ],
                                        [
                                            5,
                                            77
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            43
                                        ],
                                        [
                                            5,
                                            126
                                        ]
                                    ],
                                    [
                                        [
                                            5,
                                            198
                                        ],
                                        [
                                            5,
                                            235
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReserved",
                                "displayName": "도서 예약됨",
                                "actor": "Member",
                                "level": 5,
                                "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "예약 정보",
                                    "도서 상태: 예약중"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "ReservationHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            5,
                                            183
                                        ],
                                        [
                                            5,
                                            193
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookReturned",
                                "displayName": "도서 반납됨",
                                "actor": "Member",
                                "level": 6,
                                "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자"
                                ],
                                "outputs": [
                                    "도서 상태: 대출가능 또는 예약중",
                                    "반납 처리 정보"
                                ],
                                "nextEvents": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            133
                                        ],
                                        [
                                            7,
                                            167
                                        ]
                                    ],
                                    [
                                        [
                                            7,
                                            167
                                        ],
                                        [
                                            7,
                                            175
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanExtended",
                                "displayName": "대출 연장됨",
                                "actor": "Member",
                                "level": 7,
                                "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                                "inputs": [
                                    "회원번호",
                                    "도서 식별자",
                                    "연장 기간"
                                ],
                                "outputs": [
                                    "갱신된 대출 정보",
                                    "새 반납 예정일"
                                ],
                                "nextEvents": [
                                    "LoanHistoryRecorded"
                                ],
                                "refs": [
                                    [
                                        [
                                            7,
                                            109
                                        ],
                                        [
                                            7,
                                            124
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanHistoryRecorded",
                                "displayName": "대출 이력 기록됨",
                                "actor": "System",
                                "level": 8,
                                "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                                "inputs": [
                                    "대출/반납/연장 이벤트 정보"
                                ],
                                "outputs": [
                                    "대출 이력 데이터"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "ReservationHistoryRecorded",
                                "displayName": "예약 이력 기록됨",
                                "actor": "System",
                                "level": 9,
                                "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                                "inputs": [
                                    "예약 이벤트 정보"
                                ],
                                "outputs": [
                                    "예약 이력 데이터"
                                ],
                                "nextEvents": [],
                                "refs": [
                                    [
                                        [
                                            9,
                                            15
                                        ],
                                        [
                                            9,
                                            65
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "actors": [
                            {
                                "name": "Librarian",
                                "events": [
                                    "BookRegistered",
                                    "BookDisposed"
                                ],
                                "lane": 0
                            },
                            {
                                "name": "Member",
                                "events": [
                                    "BookLoaned",
                                    "BookReserved",
                                    "BookReturned",
                                    "LoanExtended"
                                ],
                                "lane": 1
                            },
                            {
                                "name": "System",
                                "events": [
                                    "BookStatusChanged",
                                    "LoanHistoryRecorded",
                                    "ReservationHistoryRecorded"
                                ],
                                "lane": 2
                            }
                        ]
                    },
                    "currentGeneratedLength": 5107
                },
                "currentGeneratedLength": 5107,
                "timestamp": "2025-09-25T01:52:00.290Z"
            },
            {
                "uniqueId": "6fad4aed87a0343622f8d34f0a1df7d2",
                "type": "bcGenerationOption",
                "isSummarizeStarted": false,
                "isGeneratingBoundedContext": false,
                "isStartMapping": false,
                "isAnalizing": false,
                "generateOption": {
                    "numberOfBCs": 3,
                    "selectedAspects": [
                        "도메인 복잡도 분리",
                        "프로세스(value stream) 기반 분리"
                    ],
                    "additionalOptions": "",
                    "aspectDetails": {},
                    "isProtocolMode": true,
                    "isGenerateFrontEnd": false
                },
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                "timestamp": "2025-09-25T01:52:02.031Z"
            },
            {
                "uniqueId": "9351692d4406d1ae850c221b6fb22271",
                "type": "boundedContextResult",
                "result": {
                    "도메인 복잡도 분리+프로세스(value stream) 기반 분리": {
                        "boundedContexts": [
                            {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "importance": "Core Domain",
                                "complexity": 0.7,
                                "differentiation": 0.9,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "events": [
                                    "BookRegistered",
                                    "BookStatusChanged",
                                    "BookDisposed"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    3
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    4
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    4
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                                "roleRefs": [
                                    [
                                        [
                                            3,
                                            2
                                        ],
                                        [
                                            3,
                                            265
                                        ]
                                    ]
                                ],
                                "commandNames": [
                                    "RegisterBook",
                                    "DiscardBook",
                                    "UpdateBookStatus",
                                    "ValidateIsbn"
                                ],
                                "readModelNames": [
                                    "BookList",
                                    "BookDetail",
                                    "CategoryOptions"
                                ]
                            },
                            {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "importance": "Core Domain",
                                "complexity": 0.8,
                                "differentiation": 0.95,
                                "implementationStrategy": "Rich Domain Model",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "events": [
                                    "BookLoaned",
                                    "BookReserved",
                                    "BookReturned",
                                    "LoanExtended"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    13
                                                ],
                                                [
                                                    1,
                                                    29
                                                ]
                                            ]
                                        ],
                                        "text": "대출/반납을 통합적으로 관리하는"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    5,
                                                    82
                                                ]
                                            ]
                                        ],
                                        "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    184
                                                ]
                                            ]
                                        ],
                                        "text": "예약"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    110
                                                ]
                                            ]
                                        ],
                                        "text": "연장"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    16
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력과 상태"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "type": "Event",
                                        "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                                "roleRefs": [
                                    [
                                        [
                                            5,
                                            2
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ],
                                "commandNames": [
                                    "LoanBook",
                                    "ReturnBook",
                                    "ExtendLoan",
                                    "ReserveBook"
                                ],
                                "readModelNames": [
                                    "LoanStatusList",
                                    "LoanDetail",
                                    "SearchBookForLoan"
                                ]
                            },
                            {
                                "name": "LoanHistory",
                                "alias": "이력 관리",
                                "importance": "Supporting Domain",
                                "complexity": 0.5,
                                "differentiation": 0.5,
                                "implementationStrategy": "Transaction Script",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "ReservationHistory",
                                        "alias": "예약 이력"
                                    }
                                ],
                                "events": [
                                    "LoanHistoryRecorded",
                                    "ReservationHistoryRecorded"
                                ],
                                "requirements": [
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    12
                                                ]
                                            ]
                                        ],
                                        "text": "대출 이력"
                                    },
                                    {
                                        "type": "userStory",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    19
                                                ]
                                            ]
                                        ],
                                        "text": "상태 변경"
                                    },
                                    {
                                        "type": "DDL",
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                                    }
                                ],
                                "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                                "roleRefs": [
                                    [
                                        [
                                            9,
                                            8
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ],
                                "commandNames": [],
                                "readModelNames": [
                                    "BookLoanHistory",
                                    "BookStatusChangeHistory"
                                ]
                            }
                        ],
                        "relations": [
                            {
                                "name": "BookManagement-LoanAndReservation",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "LoanAndReservation-LoanHistory",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약"
                                },
                                "downStream": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "name": "BookManagement-LoanHistory",
                                "type": "Pub/Sub",
                                "upStream": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리"
                                },
                                "downStream": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리"
                                },
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                        "explanations": [
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "대출/반납 및 예약",
                                "relationType": "Pub/Sub",
                                "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                                "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            7,
                                            203
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "대출/반납 및 예약",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                                "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "refs": [
                                    [
                                        [
                                            7,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            },
                            {
                                "sourceContext": "도서 관리",
                                "targetContext": "이력 관리",
                                "relationType": "Pub/Sub",
                                "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                                "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "refs": [
                                    [
                                        [
                                            3,
                                            1
                                        ],
                                        [
                                            9,
                                            67
                                        ]
                                    ]
                                ]
                            }
                        ],
                        "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                        "currentGeneratedLength": 4161
                    }
                },
                "isStartMapping": false,
                "isGeneratingBoundedContext": false,
                "isSummarizeStarted": false,
                "isAnalizing": false,
                "processingRate": 100,
                "currentProcessingBoundedContext": "이력 관리",
                "selectedAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                "summarizedResult": {
                    "summary": "",
                    "refs": [],
                    "originalRequirements": ""
                },
                "pbcLists": [
                    {
                        "name": "chat-vue3-en",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "Chat service (Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                        "id": 19,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
                    },
                    {
                        "name": "review",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                        "description": "review",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                        "id": 21,
                        "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 22,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
                    },
                    {
                        "name": "reservation-notification-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                        "description": "예약 & 알림 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 23,
                        "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat-vue3",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스(Vue3)",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 24,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
                    },
                    {
                        "name": "chat",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                        "description": "채팅 서비스",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                        "id": 25,
                        "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
                    },
                    {
                        "name": "payment-system",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                        "description": "결제를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                        "id": 26,
                        "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
                    },
                    {
                        "name": "document-management",
                        "rating": 5,
                        "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                        "description": "파일관리를 위한 공통 기능",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "### Instruction\n",
                        "id": 30,
                        "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
                    },
                    {
                        "name": "gitlab",
                        "rating": 5,
                        "imageUrl": null,
                        "description": "openapi.yaml",
                        "tags": [
                            "COMMON"
                        ],
                        "instruction": "## instruction\n",
                        "id": 34,
                        "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
                    },
                    {
                        "name": "PBC-Test",
                        "rating": 5,
                        "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                        "description": "Framework for rapidly and easily developing Java-based web applications.",
                        "tags": [
                            "PBC"
                        ],
                        "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                        "id": 35,
                        "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
                    }
                ],
                "currentGeneratedLength": 4161,
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "timestamp": "2025-09-25T01:52:04.403Z"
            },
            {
                "uniqueId": "d5431b3e040f40b4e12c14fba4f95742",
                "type": "siteMapViewer",
                "siteMap": [
                    {
                        "id": "node-1758765129266-axodzxuh9",
                        "title": "도서관 도서 관리 및 대출 시스템",
                        "url": "",
                        "description": "도서관의 도서 등록, 상태 관리, 대출/반납/예약 및 이력 조회를 통합적으로 제공하는 웹사이트",
                        "children": [
                            {
                                "id": "home",
                                "title": "홈",
                                "url": "/",
                                "description": "도서관 시스템 메인 페이지 및 소개",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-home",
                                        "title": "메인 네비게이션 바",
                                        "url": "/메인-네비게이션-바",
                                        "description": "도서 관리, 대출/반납, 대출 현황, 이력 조회 등 주요 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "header-home",
                                        "title": "헤더 섹션",
                                        "url": "/헤더-섹션",
                                        "description": "도서관 시스템 소개 및 주요 기능 안내",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "quick-links",
                                        "title": "빠른 이동 링크",
                                        "url": "/빠른-이동-링크",
                                        "description": "주요 서비스(도서 관리, 대출/반납, 대출 현황)로 바로가기",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-home",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "book-management",
                                "title": "도서 관리",
                                "url": "/books",
                                "description": "도서 등록, 목록 조회, 상태 관리, 폐기 처리 등 도서의 전체 생애주기 관리",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-books",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "도서 관리 내 주요 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "book-register-form",
                                        "title": "도서 등록 폼",
                                        "url": "/도서-등록-폼",
                                        "description": "신규 도서 등록 입력 폼 (도서명, ISBN, 저자, 출판사, 카테고리)",
                                        "referencedCommands": [
                                            "RegisterBook",
                                            "ValidateIsbn"
                                        ],
                                        "referencedReadModels": [
                                            "CategoryOptions"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "book-list-section",
                                        "title": "도서 목록 및 검색",
                                        "url": "/도서-목록-및-검색",
                                        "description": "보유 도서 목록, 상태별/카테고리별/키워드 검색 및 필터",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "BookList"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "book-detail-modal",
                                        "title": "도서 상세 정보/관리",
                                        "url": "/도서-상세-정보/관리",
                                        "description": "도서 상세 정보 조회 및 상태 변경, 폐기 처리",
                                        "referencedCommands": [
                                            "UpdateBookStatus",
                                            "DiscardBook"
                                        ],
                                        "referencedReadModels": [
                                            "BookDetail"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "book-status-history",
                                        "title": "도서 상태 변경 이력",
                                        "url": "/도서-상태-변경-이력",
                                        "description": "도서별 상태 변경 이력 조회",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "BookStatusChangeHistory"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-books",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-and-return",
                                "title": "대출/반납",
                                "url": "/loans",
                                "description": "회원 도서 대출, 반납, 연장, 예약 신청 및 관련 검색",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-loans",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "대출/반납 내 주요 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "member-verification-form",
                                        "title": "회원 확인 폼",
                                        "url": "/회원-확인-폼",
                                        "description": "회원번호, 이름 입력을 통한 회원 확인",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "loan-book-search-form",
                                        "title": "대출 도서 검색 폼",
                                        "url": "/대출-도서-검색-폼",
                                        "description": "도서명 또는 ISBN으로 대출 가능 도서 검색",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "SearchBookForLoan"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "loan-application-form",
                                        "title": "도서 대출 신청 폼",
                                        "url": "/도서-대출-신청-폼",
                                        "description": "도서 선택 및 대출 기간(7/14/30일) 선택 후 대출 신청",
                                        "referencedCommands": [
                                            "LoanBook"
                                        ],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "reservation-application-form",
                                        "title": "도서 예약 신청 폼",
                                        "url": "/도서-예약-신청-폼",
                                        "description": "대출 중인 도서에 대해 예약 신청",
                                        "referencedCommands": [
                                            "ReserveBook"
                                        ],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "return-book-form",
                                        "title": "도서 반납 처리 폼",
                                        "url": "/도서-반납-처리-폼",
                                        "description": "대출 도서 반납 처리",
                                        "referencedCommands": [
                                            "ReturnBook"
                                        ],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-loans",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-status",
                                "title": "대출 현황",
                                "url": "/loan-status",
                                "description": "현재 대출 중인 도서 목록, 연장/반납 처리, 대출 상태 확인",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-loan-status",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "대출 현황 내 주요 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "loan-status-list",
                                        "title": "대출 현황 목록",
                                        "url": "/대출-현황-목록",
                                        "description": "대출 중/연체/반납완료 도서 목록 및 필터",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "LoanStatusList"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "loan-detail-modal",
                                        "title": "대출 상세 정보 및 연장/반납",
                                        "url": "/대출-상세-정보-및-연장/반납",
                                        "description": "대출 상세 정보 조회, 연장 신청, 반납 처리",
                                        "referencedCommands": [
                                            "ExtendLoan",
                                            "ReturnBook"
                                        ],
                                        "referencedReadModels": [
                                            "LoanDetail"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-loan-status",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "loan-history",
                                "title": "도서별 대출/상태 이력",
                                "url": "/books/history",
                                "description": "도서별 대출 및 예약 이력, 상태 변경 이력 통합 조회",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-history",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "이력 조회 내 주요 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "book-history-search-form",
                                        "title": "도서 이력 검색 폼",
                                        "url": "/도서-이력-검색-폼",
                                        "description": "도서명, ISBN 등으로 도서 이력 조회",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "BookList"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "book-loan-history-list",
                                        "title": "도서별 대출/예약 이력",
                                        "url": "/도서별-대출/예약-이력",
                                        "description": "선택 도서의 대출 및 예약 이력 목록",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "BookLoanHistory"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "book-status-history-list",
                                        "title": "도서별 상태 변경 이력",
                                        "url": "/도서별-상태-변경-이력",
                                        "description": "선택 도서의 상태 변경 이력 목록",
                                        "referencedCommands": [],
                                        "referencedReadModels": [
                                            "BookStatusChangeHistory"
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-history",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "about",
                                "title": "도서관 소개",
                                "url": "/about",
                                "description": "도서관 및 시스템 소개, 이용 안내",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-about",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "소개 페이지 내 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "about-content",
                                        "title": "소개 콘텐츠",
                                        "url": "/소개-콘텐츠",
                                        "description": "도서관 및 시스템 소개, 이용 방법 안내",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-about",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "contact",
                                "title": "문의하기",
                                "url": "/contact",
                                "description": "도서관 문의 및 연락처 안내",
                                "referencedCommands": [],
                                "referencedReadModels": [],
                                "children": [
                                    {
                                        "id": "navbar-contact",
                                        "title": "네비게이션 바",
                                        "url": "/네비게이션-바",
                                        "description": "문의 페이지 내 메뉴 이동",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "contact-form",
                                        "title": "문의 폼",
                                        "url": "/문의-폼",
                                        "description": "문의 내용 입력 및 제출",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    },
                                    {
                                        "id": "footer-contact",
                                        "title": "푸터",
                                        "url": "/푸터",
                                        "description": "저작권, 연락처, 이용약관 등",
                                        "referencedCommands": [],
                                        "referencedReadModels": [],
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
                "resultDevideBoundedContext": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "importance": "Core Domain",
                            "complexity": 0.7,
                            "differentiation": 0.9,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "events": [
                                "BookRegistered",
                                "BookStatusChanged",
                                "BookDisposed"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ],
                                    "text": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                3
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ],
                                    "text": "도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                24,
                                                4
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                84,
                                                4
                                            ],
                                            [
                                                96,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                57
                                            ],
                                            [
                                                3,
                                                100
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                105
                                            ],
                                            [
                                                3,
                                                128
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                136
                                            ],
                                            [
                                                3,
                                                161
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                191
                                            ],
                                            [
                                                3,
                                                238
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                150
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                264
                                            ],
                                            [
                                                3,
                                                302
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.",
                            "roleRefs": [
                                [
                                    [
                                        3,
                                        2
                                    ],
                                    [
                                        3,
                                        265
                                    ]
                                ]
                            ],
                            "commandNames": [
                                "RegisterBook",
                                "DiscardBook",
                                "UpdateBookStatus",
                                "ValidateIsbn"
                            ],
                            "readModelNames": [
                                "BookList",
                                "BookDetail",
                                "CategoryOptions"
                            ]
                        },
                        {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "importance": "Core Domain",
                            "complexity": 0.8,
                            "differentiation": 0.95,
                            "implementationStrategy": "Rich Domain Model",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "events": [
                                "BookLoaned",
                                "BookReserved",
                                "BookReturned",
                                "LoanExtended"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                1,
                                                13
                                            ],
                                            [
                                                1,
                                                29
                                            ]
                                        ]
                                    ],
                                    "text": "대출/반납을 통합적으로 관리하는"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                2
                                            ],
                                            [
                                                5,
                                                82
                                            ]
                                        ]
                                    ],
                                    "text": "대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                184
                                            ]
                                        ]
                                    ],
                                    "text": "예약"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                1
                                            ],
                                            [
                                                7,
                                                59
                                            ]
                                        ]
                                    ],
                                    "text": "대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                110
                                            ]
                                        ]
                                    ],
                                    "text": "연장"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                16
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력과 상태"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                66,
                                                1
                                            ],
                                            [
                                                82,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                112,
                                                2
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                59
                                            ],
                                            [
                                                5,
                                                77
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                43
                                            ],
                                            [
                                                5,
                                                126
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                198
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                5,
                                                183
                                            ],
                                            [
                                                5,
                                                193
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                133
                                            ],
                                            [
                                                7,
                                                167
                                            ]
                                        ],
                                        [
                                            [
                                                7,
                                                167
                                            ],
                                            [
                                                7,
                                                175
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                7,
                                                109
                                            ],
                                            [
                                                7,
                                                124
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.",
                            "roleRefs": [
                                [
                                    [
                                        5,
                                        2
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ],
                            "commandNames": [
                                "LoanBook",
                                "ReturnBook",
                                "ExtendLoan",
                                "ReserveBook"
                            ],
                            "readModelNames": [
                                "LoanStatusList",
                                "LoanDetail",
                                "SearchBookForLoan"
                            ]
                        },
                        {
                            "name": "LoanHistory",
                            "alias": "이력 관리",
                            "importance": "Supporting Domain",
                            "complexity": 0.5,
                            "differentiation": 0.5,
                            "implementationStrategy": "Transaction Script",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "ReservationHistory",
                                    "alias": "예약 이력"
                                }
                            ],
                            "events": [
                                "LoanHistoryRecorded",
                                "ReservationHistoryRecorded"
                            ],
                            "requirements": [
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                12
                                            ]
                                        ]
                                    ],
                                    "text": "대출 이력"
                                },
                                {
                                    "type": "userStory",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                19
                                            ]
                                        ]
                                    ],
                                    "text": "상태 변경"
                                },
                                {
                                    "type": "DDL",
                                    "refs": [
                                        [
                                            [
                                                99,
                                                1
                                            ],
                                            [
                                                111,
                                                9
                                            ]
                                        ]
                                    ],
                                    "text": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX"
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ]
                                },
                                {
                                    "type": "Event",
                                    "text": "{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ]
                                }
                            ],
                            "role": "도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.",
                            "roleRefs": [
                                [
                                    [
                                        9,
                                        8
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ],
                            "commandNames": [],
                            "readModelNames": [
                                "BookLoanHistory",
                                "BookStatusChangeHistory"
                            ]
                        }
                    ],
                    "relations": [
                        {
                            "name": "BookManagement-LoanAndReservation",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "LoanAndReservation-LoanHistory",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약"
                            },
                            "downStream": {
                                "name": "LoanHistory",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "name": "BookManagement-LoanHistory",
                            "type": "Pub/Sub",
                            "upStream": {
                                "name": "BookManagement",
                                "alias": "도서 관리"
                            },
                            "downStream": {
                                "name": "LoanHistory",
                                "alias": "이력 관리"
                            },
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "thoughts": "도메인 복잡도와 프로세스(대출/반납, 도서 관리, 이력 관리) 흐름을 기준으로 분리하였다. 도서의 상태와 생애주기를 관리하는 부분(도서 등록, 폐기 등)은 도서 관리로, 회원의 대출/반납/예약 등 주요 비즈니스 프로세스는 대출/반납 및 예약으로, 그리고 모든 이력 기록 및 조회는 이력 관리로 분리하여 각 컨텍스트의 응집도를 높이고 결합도를 낮췄다. 이벤트 기반 Pub/Sub 패턴을 활용하여 상태 변화와 이력 기록의 흐름을 자연스럽게 연결하였다.",
                    "explanations": [
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "대출/반납 및 예약",
                            "relationType": "Pub/Sub",
                            "reason": "도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.",
                            "interactionPattern": "도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        7,
                                        203
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "대출/반납 및 예약",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.",
                            "interactionPattern": "대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                            "refs": [
                                [
                                    [
                                        7,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        },
                        {
                            "sourceContext": "도서 관리",
                            "targetContext": "이력 관리",
                            "relationType": "Pub/Sub",
                            "reason": "도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.",
                            "interactionPattern": "도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "refs": [
                                [
                                    [
                                        3,
                                        1
                                    ],
                                    [
                                        9,
                                        67
                                    ]
                                ]
                            ]
                        }
                    ],
                    "devisionAspect": "도메인 복잡도 분리+프로세스(value stream) 기반 분리",
                    "currentGeneratedLength": 4161
                },
                "isGenerating": false,
                "processingRate": 0,
                "currentChunk": 0,
                "totalChunks": 0,
                "currentGeneratedLength": 0,
                "commandReadModelData": {
                    "boundedContexts": [
                        {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "commands": [
                                {
                                    "name": "RegisterBook",
                                    "alias": "도서 등록",
                                    "description": "새로운 도서를 등록한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "title",
                                            "type": "String",
                                            "description": "도서명"
                                        },
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "13자리 ISBN"
                                        },
                                        {
                                            "name": "author",
                                            "type": "String",
                                            "description": "저자"
                                        },
                                        {
                                            "name": "publisher",
                                            "type": "String",
                                            "description": "출판사"
                                        },
                                        {
                                            "name": "category",
                                            "type": "String",
                                            "description": "카테고리(소설/비소설/학술/잡지)"
                                        }
                                    ]
                                },
                                {
                                    "name": "DiscardBook",
                                    "alias": "도서 폐기 처리",
                                    "description": "도서가 훼손되거나 분실된 경우 폐기 처리한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        },
                                        {
                                            "name": "reason",
                                            "type": "String",
                                            "description": "폐기 사유"
                                        }
                                    ]
                                },
                                {
                                    "name": "UpdateBookStatus",
                                    "alias": "도서 상태 변경",
                                    "description": "도서의 상태를 수동으로 변경한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        },
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "변경할 상태(대출가능/대출중/예약중/폐기)"
                                        }
                                    ]
                                },
                                {
                                    "name": "ValidateIsbn",
                                    "alias": "ISBN 중복 및 유효성 확인",
                                    "description": "ISBN의 유효성과 중복 여부를 확인한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "properties": [
                                        {
                                            "name": "isbn",
                                            "type": "String",
                                            "description": "13자리 ISBN"
                                        }
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "BookList",
                                    "alias": "도서 목록",
                                    "description": "현재 보유한 도서들의 목록과 상태를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "도서 상태별 필터(대출가능/대출중/예약중/폐기)"
                                        },
                                        {
                                            "name": "category",
                                            "type": "String",
                                            "description": "카테고리별 필터"
                                        },
                                        {
                                            "name": "keyword",
                                            "type": "String",
                                            "description": "도서명/저자/ISBN 검색"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookDetail",
                                    "alias": "도서 상세 정보",
                                    "description": "특정 도서의 상세 정보를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": false,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "CategoryOptions",
                                    "alias": "카테고리 옵션 목록",
                                    "description": "도서 등록 시 선택 가능한 카테고리 목록을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": []
                                }
                            ]
                        },
                        {
                            "name": "LoanAndReservation",
                            "alias": "대출 및 예약 관리",
                            "commands": [
                                {
                                    "name": "LoanBook",
                                    "alias": "도서 대출",
                                    "description": "회원이 도서를 대출한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호"
                                        },
                                        {
                                            "name": "memberName",
                                            "type": "String",
                                            "description": "회원 이름"
                                        },
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "대출할 도서 식별자"
                                        },
                                        {
                                            "name": "loanPeriod",
                                            "type": "Integer",
                                            "description": "대출 기간(7/14/30일)"
                                        }
                                    ]
                                },
                                {
                                    "name": "ReturnBook",
                                    "alias": "도서 반납",
                                    "description": "회원이 대출한 도서를 반납한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "ExtendLoan",
                                    "alias": "대출 연장",
                                    "description": "대출 중인 도서의 대출 기간을 연장한다.",
                                    "actor": "user",
                                    "aggregate": "Loan",
                                    "properties": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        },
                                        {
                                            "name": "extensionPeriod",
                                            "type": "Integer",
                                            "description": "연장 기간(7/14/30일)"
                                        }
                                    ]
                                },
                                {
                                    "name": "ReserveBook",
                                    "alias": "도서 예약",
                                    "description": "대출 중인 도서에 대해 예약을 신청한다.",
                                    "actor": "user",
                                    "aggregate": "Reservation",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원번호"
                                        },
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "예약할 도서 식별자"
                                        }
                                    ]
                                }
                            ],
                            "readModels": [
                                {
                                    "name": "LoanStatusList",
                                    "alias": "대출 현황 목록",
                                    "description": "현재 대출 중인 도서들의 목록과 대출 상태를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "status",
                                            "type": "String",
                                            "description": "대출 상태(대출중/연체/반납완료)"
                                        },
                                        {
                                            "name": "memberId",
                                            "type": "Long",
                                            "description": "회원별 필터"
                                        }
                                    ]
                                },
                                {
                                    "name": "LoanDetail",
                                    "alias": "대출 상세 정보",
                                    "description": "특정 대출 건의 상세 정보를 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Loan",
                                    "isMultipleResult": false,
                                    "queryParameters": [
                                        {
                                            "name": "loanId",
                                            "type": "Long",
                                            "description": "대출 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "SearchBookForLoan",
                                    "alias": "대출용 도서 검색",
                                    "description": "도서명이나 ISBN으로 대출 가능한 도서를 검색한다.",
                                    "actor": "user",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "keyword",
                                            "type": "String",
                                            "description": "도서명 또는 ISBN"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "LoanHistory",
                            "alias": "대출 및 상태 이력",
                            "commands": [],
                            "readModels": [
                                {
                                    "name": "BookLoanHistory",
                                    "alias": "도서별 대출 이력",
                                    "description": "특정 도서의 대출 및 예약 이력을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "LoanHistory",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                },
                                {
                                    "name": "BookStatusChangeHistory",
                                    "alias": "도서 상태 변경 이력",
                                    "description": "특정 도서의 상태 변경 이력을 조회한다.",
                                    "actor": "admin",
                                    "aggregate": "Book",
                                    "isMultipleResult": true,
                                    "queryParameters": [
                                        {
                                            "name": "bookId",
                                            "type": "Long",
                                            "description": "도서 식별자"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "timestamp": "2025-09-25T01:52:08.988Z",
                "currentProcessingStep": "generatingSiteMap"
            },
            {
                "type": "aggregateDraftDialogDto",
                "uniqueId": "1758765135036",
                "isShow": true,
                "draftOptions": [
                    {
                        "boundedContext": "BookManagement",
                        "boundedContextAlias": "도서 관리",
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        56
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            43
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookSpecification",
                                                "alias": "도서 상세 정보",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            66
                                                        ],
                                                        [
                                                            3,
                                                            93
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            184
                                                        ],
                                                        [
                                                            3,
                                                            217
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서의 등록, 상태 관리, 폐기 등 모든 도서 관련 기능이 Book Aggregate 내에 집중되어 있어 일관된 트랜잭션 경계를 제공한다.",
                                    "coupling": "외부 컨텍스트(대출, 예약, 이력)와의 의존성을 ValueObject 참조로만 유지하여 결합도가 낮다.",
                                    "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙을 Aggregate 내부에서 원자적으로 보장할 수 있다.",
                                    "encapsulation": "도서의 상태, 상세 정보, 대출/예약 참조 등 도서 관리의 모든 세부 구현이 Aggregate 내부에 은닉된다.",
                                    "complexity": "단일 Aggregate로 구조가 단순하며, 도서 관리 업무에 대한 이해와 유지보수가 용이하다.",
                                    "independence": "도서 관리 정책 변경이 Aggregate 단위로 독립적으로 이루어질 수 있다.",
                                    "performance": "단일 Aggregate 접근으로 도서 상태 및 정보 조회·변경 시 쿼리 효율이 높다."
                                },
                                "cons": {
                                    "cohesion": "상태 이력, 대출/예약 참조 등 다양한 책임이 한 Aggregate에 집중되어 도서 관리가 복잡해질 수 있다.",
                                    "coupling": "도서 상태 이력 등 확장 요구가 생기면 Aggregate 크기가 커져 외부 시스템과의 연동이 어려워질 수 있다.",
                                    "consistency": "상태 이력 등 대용량 데이터가 누적될 경우 트랜잭션 처리에 부담이 될 수 있다.",
                                    "encapsulation": "상태 이력, 대출/예약 등 서로 다른 도메인 관심사가 한 Aggregate에 혼재되어 캡슐화가 약해질 수 있다.",
                                    "complexity": "도서 관리 업무가 확장될수록 Aggregate가 비대해져 도메인 복잡도가 증가한다.",
                                    "independence": "상태 이력, 대출/예약 등 세부 기능 변경 시 전체 Aggregate에 영향이 갈 수 있다.",
                                    "performance": "상태 이력, 대출/예약 등 데이터가 누적될수록 단일 Aggregate 접근 시 성능 저하가 발생할 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "RegisterBook",
                                            "DiscardBook",
                                            "UpdateBookStatus",
                                            "ValidateIsbn"
                                        ],
                                        "readModelNames": [
                                            "BookList",
                                            "BookDetail",
                                            "CategoryOptions"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Book",
                                            "alias": "도서",
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        56
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ],
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ],
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ],
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ],
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            43
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookCategory",
                                                "alias": "도서 카테고리",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookSpecification",
                                                "alias": "도서 상세 정보",
                                                "referencedAggregateName": "",
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            66
                                                        ],
                                                        [
                                                            3,
                                                            93
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            17
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            184
                                                        ],
                                                        [
                                                            3,
                                                            217
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationReference",
                                                "alias": "예약 참조",
                                                "referencedAggregate": {
                                                    "name": "Reservation",
                                                    "alias": "예약"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            222
                                                        ],
                                                        [
                                                            3,
                                                            224
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "BookStatusHistory",
                                            "alias": "도서 상태 변경 이력",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        13
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ],
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ],
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ],
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ],
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "BookStatus",
                                                "alias": "도서 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            43
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            19
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            15
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            93,
                                                            5
                                                        ],
                                                        [
                                                            93,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "도서 정보와 상태 변경 이력을 별도 Aggregate로 분리해 각자의 책임과 라이프사이클을 명확히 구분한다.",
                                    "coupling": "상태 이력 관리가 Book Aggregate와 분리되어, 이력 확장·변경 시 도서 관리에 영향이 적다.",
                                    "consistency": "도서 상태 변경과 이력 기록이 분리되어 대용량 이력 데이터 관리에 유리하다.",
                                    "encapsulation": "상태 이력 관리의 세부 구현이 BookStatusHistory Aggregate에 은닉되어 도서 관리와 분리된다.",
                                    "complexity": "도서 관리와 상태 이력 관리가 분리되어 각 Aggregate의 복잡도가 낮아진다.",
                                    "independence": "상태 이력 관리 정책 변경이 BookStatusHistory Aggregate 단위로 독립적으로 가능하다.",
                                    "performance": "상태 이력 데이터가 많아져도 Book Aggregate의 성능 저하 없이 이력만 별도로 관리할 수 있다."
                                },
                                "cons": {
                                    "cohesion": "도서 상태 변경 시 이력 기록을 위해 두 Aggregate 간의 오케스트레이션이 필요하다.",
                                    "coupling": "상태 변경 트랜잭션이 두 Aggregate에 걸쳐 발생하므로, 일관성 보장을 위해 추가적인 처리 로직이 필요하다.",
                                    "consistency": "상태 변경과 이력 기록이 분리되어 일시적으로 데이터 불일치가 발생할 수 있다.",
                                    "encapsulation": "상태 변경과 이력 기록에 대한 비즈니스 규칙이 Aggregate 외부(Application Service 등)에서 관리되어야 한다.",
                                    "complexity": "두 Aggregate 간의 연동 및 트랜잭션 관리 로직이 추가되어 시스템 복잡도가 증가한다.",
                                    "independence": "도서 상태 변경과 이력 기록의 동기화 정책 변경 시 두 Aggregate 모두에 영향이 갈 수 있다.",
                                    "performance": "상태 변경 시 두 Aggregate를 모두 접근해야 하므로 트랜잭션 처리 비용이 증가할 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "BookManagement",
                                    "alias": "도서 관리",
                                    "displayName": "도서 관리",
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "Book",
                                            "alias": "도서"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                        "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                        "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            5
                                                        ],
                                                        [
                                                            26,
                                                            42
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            87,
                                                            5
                                                        ],
                                                        [
                                                            87,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "title",
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            5
                                                        ],
                                                        [
                                                            27,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "isbn",
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            5
                                                        ],
                                                        [
                                                            28,
                                                            36
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "author",
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            5
                                                        ],
                                                        [
                                                            29,
                                                            32
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "publisher",
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            5
                                                        ],
                                                        [
                                                            30,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "category",
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            5
                                                        ],
                                                        [
                                                            31,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            5
                                                        ],
                                                        [
                                                            32,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "registration_date",
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            5
                                                        ],
                                                        [
                                                            33,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_date",
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            5
                                                        ],
                                                        [
                                                            34,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "disposal_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            5
                                                        ],
                                                        [
                                                            35,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            5
                                                        ],
                                                        [
                                                            36,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            5
                                                        ],
                                                        [
                                                            37,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            5
                                                        ],
                                                        [
                                                            86,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_status",
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            5
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_status",
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            5
                                                        ],
                                                        [
                                                            89,
                                                            56
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_reason",
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            5
                                                        ],
                                                        [
                                                            90,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "changed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            5
                                                        ],
                                                        [
                                                            91,
                                                            27
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "change_date",
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            5
                                                        ],
                                                        [
                                                            92,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            2
                                                        ],
                                                        [
                                                            3,
                                                            265
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "15": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            3,
                                                            301
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "17": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            63
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            24,
                                                            1
                                                        ],
                                                        [
                                                            24,
                                                            6
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            25,
                                                            1
                                                        ],
                                                        [
                                                            25,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            26,
                                                            1
                                                        ],
                                                        [
                                                            26,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            27,
                                                            1
                                                        ],
                                                        [
                                                            27,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            28,
                                                            1
                                                        ],
                                                        [
                                                            28,
                                                            37
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            29,
                                                            1
                                                        ],
                                                        [
                                                            29,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            30,
                                                            1
                                                        ],
                                                        [
                                                            30,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            31,
                                                            1
                                                        ],
                                                        [
                                                            31,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            32,
                                                            1
                                                        ],
                                                        [
                                                            32,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            33,
                                                            1
                                                        ],
                                                        [
                                                            33,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            34,
                                                            1
                                                        ],
                                                        [
                                                            34,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            35,
                                                            1
                                                        ],
                                                        [
                                                            35,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            36,
                                                            1
                                                        ],
                                                        [
                                                            36,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            37,
                                                            1
                                                        ],
                                                        [
                                                            37,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            38,
                                                            1
                                                        ],
                                                        [
                                                            38,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            39,
                                                            1
                                                        ],
                                                        [
                                                            39,
                                                            26
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            40,
                                                            1
                                                        ],
                                                        [
                                                            40,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            41,
                                                            1
                                                        ],
                                                        [
                                                            41,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            42,
                                                            1
                                                        ],
                                                        [
                                                            42,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            84,
                                                            1
                                                        ],
                                                        [
                                                            84,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            85,
                                                            1
                                                        ],
                                                        [
                                                            85,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            86,
                                                            1
                                                        ],
                                                        [
                                                            86,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            87,
                                                            1
                                                        ],
                                                        [
                                                            87,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            88,
                                                            1
                                                        ],
                                                        [
                                                            88,
                                                            53
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            89,
                                                            1
                                                        ],
                                                        [
                                                            89,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            90,
                                                            1
                                                        ],
                                                        [
                                                            90,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            91,
                                                            1
                                                        ],
                                                        [
                                                            91,
                                                            28
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            92,
                                                            1
                                                        ],
                                                        [
                                                            92,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            93,
                                                            1
                                                        ],
                                                        [
                                                            93,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            94,
                                                            1
                                                        ],
                                                        [
                                                            94,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            95,
                                                            1
                                                        ],
                                                        [
                                                            95,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            96,
                                                            1
                                                        ],
                                                        [
                                                            96,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "69": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "70": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            57
                                                        ],
                                                        [
                                                            3,
                                                            100
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            105
                                                        ],
                                                        [
                                                            3,
                                                            128
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            136
                                                        ],
                                                        [
                                                            3,
                                                            161
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "85": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "86": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "87": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "88": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            191
                                                        ],
                                                        [
                                                            3,
                                                            238
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            150
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "110": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "111": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "112": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            264
                                                        ],
                                                        [
                                                            3,
                                                            302
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "133": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "134": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "RegisterBook",
                                            "DiscardBook",
                                            "UpdateBookStatus",
                                            "ValidateIsbn"
                                        ],
                                        "readModelNames": [
                                            "BookList",
                                            "BookDetail",
                                            "CategoryOptions"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션1은 도서 관리가 단순하고 상태 이력이 많지 않은 소규모 도서관, 혹은 도서별 상태 관리가 단일 트랜잭션 내에서 반드시 일관되게 처리되어야 하는 경우에 적합하다. 옵션2는 도서 상태 변경 이력이 많거나, 이력 데이터의 확장성과 성능이 중요한 중대형 도서관, 또는 도서 정보와 이력 관리의 책임을 분리해 유지보수성과 확장성을 높이고자 할 때 적합하다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계, 누적 초안(Loan, Reservation, LoanHistory, ReservationHistory 존재)을 종합적으로 분석했다. Book(도서) Aggregate는 반드시 포함해야 하며, 이미 존재하는 Loan, Reservation, LoanHistory, ReservationHistory Aggregate는 ValueObject 참조로만 활용해야 한다. 옵션1은 Book 단일 Aggregate 구조로 모든 도서 관리 기능을 집중시키고, 옵션2는 Book과 BookStatusHistory 두 개의 Aggregate로 도서 정보와 상태 이력을 분리하여 관리한다."
                    },
                    {
                        "boundedContext": "LoanAndReservation",
                        "boundedContextAlias": "대출/반납 및 예약",
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            56
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            5
                                                        ],
                                                        [
                                                            108,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "Reservation",
                                            "alias": "예약",
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ],
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ],
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "ReservationStatus",
                                                "alias": "예약 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            60
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "ReservationHistoryReference",
                                                "alias": "예약 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "ReservationHistory",
                                                    "alias": "예약 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출과 예약 각각의 비즈니스 규칙과 상태 전이를 독립적으로 관리할 수 있어 각 Aggregate의 응집도가 높다.",
                                    "coupling": "Loan과 Reservation이 Book을 ValueObject로 참조하므로 상호 간 결합도가 낮아 도메인 확장 및 유지보수에 유리하다.",
                                    "consistency": "각 Aggregate 내에서 트랜잭션 경계가 명확해 대출/예약 상태 변경과 이력 기록의 일관성을 보장한다.",
                                    "encapsulation": "대출과 예약의 도메인 로직이 Aggregate 내부에 잘 캡슐화되어 외부에서 불필요한 접근을 차단한다.",
                                    "complexity": "각 Aggregate가 단일 책임을 가지므로 구현 및 이해가 용이하다.",
                                    "independence": "대출과 예약 기능을 별도로 확장하거나 배포할 수 있어 서비스 독립성이 높다.",
                                    "performance": "대출/예약 각각의 조회 및 변경이 독립적으로 이루어져 동시성 처리에 유리하다."
                                },
                                "cons": {
                                    "cohesion": "대출과 예약 간의 복합 비즈니스 규칙(예: 예약 우선순위에 따른 자동 대출 등)은 Aggregate 외부에서 처리해야 하므로 일부 응집도가 저하될 수 있다.",
                                    "coupling": "대출/예약과 Book 간의 상태 동기화가 이벤트 기반으로 이루어져 일시적 불일치가 발생할 수 있다.",
                                    "consistency": "대출과 예약이 동시에 변경되는 복합 트랜잭션은 애플리케이션 서비스 계층에서 별도 관리가 필요하다.",
                                    "encapsulation": "이력 기록(LoanHistory, ReservationHistory)이 외부 컨텍스트에 위임되어 일부 도메인 규칙이 Aggregate 외부에 위치한다.",
                                    "complexity": "이벤트 기반 동기화 및 이력 관리로 인해 전체 시스템의 흐름을 파악하는 데 추가적인 노력이 필요하다.",
                                    "independence": "대출과 예약 간의 상호작용이 필요한 경우 Aggregate 간 조정 로직이 증가할 수 있다.",
                                    "performance": "복합 조회(예: 회원별 대출/예약 현황 통합)는 여러 Aggregate를 조합해야 하므로 쿼리 복잡도가 증가할 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "170": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "LoanBook",
                                            "ReturnBook",
                                            "ExtendLoan",
                                            "ReserveBook"
                                        ],
                                        "readModelNames": [
                                            "LoanStatusList",
                                            "LoanDetail",
                                            "SearchBookForLoan"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "Loan",
                                            "alias": "대출",
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ],
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ],
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ],
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ],
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ],
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ],
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ],
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ],
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanStatus",
                                                "alias": "대출 상태",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            56
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "Reservation",
                                                "alias": "예약",
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "LoanHistoryReference",
                                                "alias": "대출 이력 참조",
                                                "referencedAggregate": {
                                                    "name": "LoanHistory",
                                                    "alias": "대출 이력"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            5
                                                        ],
                                                        [
                                                            108,
                                                            25
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출, 예약, 이력 등 대출 관련 모든 정보를 Loan Aggregate에 통합하여 대출 프로세스의 전체 흐름을 한 곳에서 관리할 수 있다.",
                                    "coupling": "예약과 대출 간의 상태 전이 및 상호작용을 Aggregate 내부에서 직접 처리할 수 있어 결합도가 높아 복합 비즈니스 규칙 구현이 용이하다.",
                                    "consistency": "대출과 예약의 상태 변경, 이력 기록이 단일 트랜잭션 내에서 일관성 있게 처리된다.",
                                    "encapsulation": "대출과 예약, 이력 관리까지 모두 Loan Aggregate 내부에 캡슐화되어 외부 의존성이 줄어든다.",
                                    "complexity": "대출/예약/이력의 통합 관리로 복잡한 상태 전이와 비즈니스 규칙을 Aggregate 내부에서 일관성 있게 구현할 수 있다.",
                                    "independence": "대출 프로세스 전체를 단일 Aggregate로 관리하므로 기능 확장 시 일관성 있게 변경이 가능하다.",
                                    "performance": "대출/예약/이력 관련 데이터 접근이 한 번의 Aggregate 조회로 가능해 조회 성능이 향상된다."
                                },
                                "cons": {
                                    "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클을 가진 도메인 개념이 하나의 Aggregate에 묶여 응집도가 저하될 수 있다.",
                                    "coupling": "Aggregate가 비대해지면서 도메인 변경 시 영향 범위가 넓어지고, 유지보수 난이도가 증가한다.",
                                    "consistency": "동시성 처리 시 여러 사용자가 동일 Loan Aggregate를 갱신하면 락 경합이 발생할 수 있다.",
                                    "encapsulation": "예약 및 이력 관리의 책임이 Loan Aggregate에 집중되어 역할 분리가 어렵다.",
                                    "complexity": "Aggregate가 커질수록 도메인 로직이 복잡해지고, 개발 및 테스트 난이도가 상승한다.",
                                    "independence": "예약 또는 이력 관리만 별도로 확장하거나 배포하기 어렵다.",
                                    "performance": "대출과 예약, 이력 등 모든 변경이 한 Aggregate에 집중되어 트래픽이 몰릴 경우 성능 저하가 발생할 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanAndReservation",
                                    "alias": "대출/반납 및 예약",
                                    "displayName": "대출/반납 및 예약",
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "aggregates": [
                                        {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                        "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                        "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            5
                                                        ],
                                                        [
                                                            46,
                                                            38
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "member_id",
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            5
                                                        ],
                                                        [
                                                            47,
                                                            34
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            68,
                                                            5
                                                        ],
                                                        [
                                                            68,
                                                            34
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "book_id",
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            5
                                                        ],
                                                        [
                                                            48,
                                                            24
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            69,
                                                            5
                                                        ],
                                                        [
                                                            69,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_date",
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            5
                                                        ],
                                                        [
                                                            49,
                                                            48
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            5
                                                        ],
                                                        [
                                                            50,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "return_date",
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            5
                                                        ],
                                                        [
                                                            51,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_period_days",
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            5
                                                        ],
                                                        [
                                                            52,
                                                            39
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "status",
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            5
                                                        ],
                                                        [
                                                            53,
                                                            50
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            71,
                                                            5
                                                        ],
                                                        [
                                                            71,
                                                            54
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "extension_count",
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            5
                                                        ],
                                                        [
                                                            54,
                                                            31
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "created_at",
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            5
                                                        ],
                                                        [
                                                            55,
                                                            49
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            74,
                                                            5
                                                        ],
                                                        [
                                                            74,
                                                            49
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "updated_at",
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            5
                                                        ],
                                                        [
                                                            56,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            75,
                                                            5
                                                        ],
                                                        [
                                                            75,
                                                            77
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_id",
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            5
                                                        ],
                                                        [
                                                            67,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "reservation_date",
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            5
                                                        ],
                                                        [
                                                            70,
                                                            55
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notification_sent",
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            5
                                                        ],
                                                        [
                                                            72,
                                                            37
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "expiry_date",
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            5
                                                        ],
                                                        [
                                                            73,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            41
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_type",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            63
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            2
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "9": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "10": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            1,
                                                            1
                                                        ],
                                                        [
                                                            1,
                                                            17
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "18": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            81
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "20": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            1
                                                        ],
                                                        [
                                                            5,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            59
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            45,
                                                            1
                                                        ],
                                                        [
                                                            45,
                                                            20
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            46,
                                                            1
                                                        ],
                                                        [
                                                            46,
                                                            43
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            47,
                                                            1
                                                        ],
                                                        [
                                                            47,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "34": {
                                                "refs": [
                                                    [
                                                        [
                                                            48,
                                                            1
                                                        ],
                                                        [
                                                            48,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "35": {
                                                "refs": [
                                                    [
                                                        [
                                                            49,
                                                            1
                                                        ],
                                                        [
                                                            49,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "36": {
                                                "refs": [
                                                    [
                                                        [
                                                            50,
                                                            1
                                                        ],
                                                        [
                                                            50,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "37": {
                                                "refs": [
                                                    [
                                                        [
                                                            51,
                                                            1
                                                        ],
                                                        [
                                                            51,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            52,
                                                            1
                                                        ],
                                                        [
                                                            52,
                                                            74
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            53,
                                                            1
                                                        ],
                                                        [
                                                            53,
                                                            57
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            54,
                                                            1
                                                        ],
                                                        [
                                                            54,
                                                            34
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            55,
                                                            1
                                                        ],
                                                        [
                                                            55,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            56,
                                                            1
                                                        ],
                                                        [
                                                            56,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            57,
                                                            1
                                                        ],
                                                        [
                                                            57,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            58,
                                                            1
                                                        ],
                                                        [
                                                            58,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            59,
                                                            1
                                                        ],
                                                        [
                                                            59,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            60,
                                                            1
                                                        ],
                                                        [
                                                            60,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            61,
                                                            1
                                                        ],
                                                        [
                                                            61,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            62,
                                                            1
                                                        ],
                                                        [
                                                            62,
                                                            33
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            63,
                                                            1
                                                        ],
                                                        [
                                                            63,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "52": {
                                                "refs": [
                                                    [
                                                        [
                                                            66,
                                                            1
                                                        ],
                                                        [
                                                            66,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "53": {
                                                "refs": [
                                                    [
                                                        [
                                                            67,
                                                            1
                                                        ],
                                                        [
                                                            67,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "54": {
                                                "refs": [
                                                    [
                                                        [
                                                            68,
                                                            1
                                                        ],
                                                        [
                                                            68,
                                                            35
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            69,
                                                            1
                                                        ],
                                                        [
                                                            69,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            70,
                                                            1
                                                        ],
                                                        [
                                                            70,
                                                            56
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            71,
                                                            1
                                                        ],
                                                        [
                                                            71,
                                                            61
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            72,
                                                            1
                                                        ],
                                                        [
                                                            72,
                                                            44
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            73,
                                                            1
                                                        ],
                                                        [
                                                            73,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            74,
                                                            1
                                                        ],
                                                        [
                                                            74,
                                                            50
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            75,
                                                            1
                                                        ],
                                                        [
                                                            75,
                                                            78
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            76,
                                                            1
                                                        ],
                                                        [
                                                            76,
                                                            58
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            77,
                                                            1
                                                        ],
                                                        [
                                                            77,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            78,
                                                            1
                                                        ],
                                                        [
                                                            78,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            79,
                                                            1
                                                        ],
                                                        [
                                                            79,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            80,
                                                            1
                                                        ],
                                                        [
                                                            80,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            81,
                                                            1
                                                        ],
                                                        [
                                                            81,
                                                            49
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            82,
                                                            1
                                                        ],
                                                        [
                                                            82,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "71": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "72": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "73": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "78": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "79": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            39
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "84": {
                                                "refs": [
                                                    [
                                                        [
                                                            112,
                                                            1
                                                        ],
                                                        [
                                                            112,
                                                            2
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "89": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "90": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "91": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "92": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "93": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "94": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "95": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "96": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "97": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "98": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "99": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "100": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "101": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "102": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "103": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "104": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "105": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "106": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "107": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "108": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "109": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            49
                                                        ],
                                                        [
                                                            5,
                                                            91
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            59
                                                        ],
                                                        [
                                                            5,
                                                            77
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            43
                                                        ],
                                                        [
                                                            5,
                                                            126
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            5,
                                                            198
                                                        ],
                                                        [
                                                            5,
                                                            235
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "113": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "114": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "115": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "116": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "117": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "118": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "119": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "120": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "121": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "122": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "123": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "124": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "125": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "126": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "127": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "128": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "129": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "130": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "131": {
                                                "refs": [
                                                    [
                                                        [
                                                            5,
                                                            183
                                                        ],
                                                        [
                                                            5,
                                                            193
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "135": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "136": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "137": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "138": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "139": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "140": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "141": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "142": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "143": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "144": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "145": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "146": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "147": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "148": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "149": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "150": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "151": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "152": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "153": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            133
                                                        ],
                                                        [
                                                            7,
                                                            167
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            7,
                                                            167
                                                        ],
                                                        [
                                                            7,
                                                            175
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "157": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "158": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "159": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "160": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "161": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "162": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "163": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "164": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "165": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "166": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "167": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "168": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "169": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "170": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "171": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "172": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "173": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "174": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "175": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            109
                                                        ],
                                                        [
                                                            7,
                                                            124
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "181": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "182": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "183": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "184": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            7,
                                                            203
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "187": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "188": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "189": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "190": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [
                                            "LoanBook",
                                            "ReturnBook",
                                            "ExtendLoan",
                                            "ReserveBook"
                                        ],
                                        "readModelNames": [
                                            "LoanStatusList",
                                            "LoanDetail",
                                            "SearchBookForLoan"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                            }
                        ],
                        "conclusions": "옵션 1은 대출과 예약을 각각 독립 Aggregate로 분리하여 도메인 책임과 확장성을 중시하는 경우에 적합하다. 예를 들어, 대출과 예약의 업무 주체가 다르거나, 각 기능을 별도로 확장·운영해야 하는 도서관에 권장된다. 옵션 2는 대출, 예약, 이력까지 모든 대출 프로세스를 하나의 Aggregate로 통합 관리해야 하는 일관성 중심의 환경에 적합하다. 복합 트랜잭션, 상태 전이, 이력 관리가 빈번하게 동시에 발생하며, 단일 트랜잭션 내에서 모든 처리가 필요한 경우 옵션 2가 더 적합하다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 이벤트, DDL, 컨텍스트 관계, 누적 초안 정보를 분석한 결과, Loan과 Reservation을 반드시 Aggregate로 생성해야 하며, Book, BookStatusHistory, LoanHistory, ReservationHistory는 이미 존재하므로 ValueObject 참조로 처리해야 한다. 이벤트의 트랜잭션 경계와 상태 변경, 이력 기록, 예약/대출의 독립성, 도메인 규칙을 고려하여 옵션별로 Aggregate 수를 다르게 설계하였다."
                    },
                    {
                        "boundedContext": "LoanHistory",
                        "boundedContextAlias": "이력 관리",
                        "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                        "options": [
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ],
                                                [
                                                    [
                                                        99,
                                                        14
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "LoanActionType",
                                                "alias": "대출 이력 액션 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            5
                                                        ],
                                                        [
                                                            108,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "aggregate": {
                                            "name": "ReservationHistory",
                                            "alias": "예약 이력",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "ReservationActionType",
                                                "alias": "예약 이력 액션 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "Reservation",
                                                "alias": "예약",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": []
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 이력과 예약 이력을 별도의 Aggregate로 분리하여 각 도메인 책임이 명확하게 구분된다.",
                                    "coupling": "Loan, Reservation, Book 등 외부 Aggregate와의 참조가 ValueObject로 일관되게 관리되어 결합도가 낮다.",
                                    "consistency": "각 이력의 트랜잭션 경계가 명확하여, 대출/예약 이벤트 발생 시 이력 기록의 원자성이 보장된다.",
                                    "encapsulation": "이력별 도메인 규칙과 상태 전이가 Aggregate 내부에 잘 은닉되어 있다.",
                                    "complexity": "각 Aggregate가 단일 책임 원칙을 따르므로 도메인 복잡도가 낮고 유지보수가 용이하다.",
                                    "independence": "대출 이력과 예약 이력이 독립적으로 진화 및 확장될 수 있다.",
                                    "performance": "이력별로 데이터 접근이 분리되어 대량 데이터 조회 시 성능 저하가 적다."
                                },
                                "cons": {
                                    "cohesion": "이력 데이터가 분산되어 있어 복합 이력 조회(예: 대출과 예약 이력 동시 조회) 시 추가 조인이 필요하다.",
                                    "coupling": "이력 간 연관 이벤트 처리 시 애플리케이션 서비스 계층에서 조정 로직이 필요하다.",
                                    "consistency": "복합 이력 동기화가 필요한 경우 트랜잭션 경계가 Aggregate 단위로 분리되어 있어 일관성 유지가 복잡해질 수 있다.",
                                    "encapsulation": "이력 간 공통 규칙(예: 동일 도서에 대한 이력 통합 관리)이 Aggregate 외부에서 처리되어야 한다.",
                                    "complexity": "이력 유형이 추가될 경우 Aggregate가 계속 늘어나 도메인 구조가 복잡해질 수 있다.",
                                    "independence": "복합 이력 분석이나 통계 기능 개발 시 Aggregate 간 데이터 통합이 필요하다.",
                                    "performance": "복합 이력 조회 시 여러 테이블을 조인해야 하므로 단일 이력에 비해 조회 성능이 저하될 수 있다."
                                },
                                "isAIRecommended": false,
                                "boundedContext": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리",
                                    "displayName": "이력 관리",
                                    "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "ReservationHistory",
                                            "alias": "예약 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력\n상태 변경",
                                        "ddl": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                        "event": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "LoanHistoryRecorded, ReservationHistoryRecorded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "14": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [],
                                        "readModelNames": [
                                            "BookLoanHistory",
                                            "BookStatusChangeHistory"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            },
                            {
                                "structure": [
                                    {
                                        "aggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 및 예약 이력 통합",
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ],
                                                [
                                                    [
                                                        99,
                                                        14
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ],
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ],
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ],
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ],
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ],
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ],
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ],
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ],
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ],
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ],
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ],
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ],
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ]
                                        },
                                        "enumerations": [
                                            {
                                                "name": "HistoryActionType",
                                                "alias": "이력 액션 유형",
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            5
                                                        ],
                                                        [
                                                            102,
                                                            52
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "valueObjects": [
                                            {
                                                "name": "LoanReference",
                                                "alias": "대출 참조",
                                                "referencedAggregate": {
                                                    "name": "Loan",
                                                    "alias": "대출"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            11
                                                        ]
                                                    ],
                                                    [
                                                        [
                                                            108,
                                                            5
                                                        ],
                                                        [
                                                            108,
                                                            51
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "Reservation",
                                                "alias": "예약",
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "name": "BookReference",
                                                "alias": "도서 참조",
                                                "referencedAggregate": {
                                                    "name": "Book",
                                                    "alias": "도서"
                                                },
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "previewAttributes": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                "pros": {
                                    "cohesion": "대출 및 예약 이력 관리가 하나의 Aggregate에 통합되어 이력 관련 도메인 규칙을 일관되게 적용할 수 있다.",
                                    "coupling": "이력 데이터가 한 곳에 집중되어 외부 시스템과의 연동 및 데이터 분석이 단순하다.",
                                    "consistency": "모든 이력 기록이 단일 트랜잭션 경계 내에서 처리되어 데이터 일관성이 높다.",
                                    "encapsulation": "이력 관리와 관련된 모든 규칙과 상태 전이가 Aggregate 내부에 집중되어 있다.",
                                    "complexity": "이력 데이터 구조가 단순해져 개발 및 유지보수가 용이하다.",
                                    "independence": "이력 관리 기능이 독립적으로 배포 및 확장 가능하다.",
                                    "performance": "복합 이력 조회 시 단일 테이블에서 빠르게 데이터를 조회할 수 있다."
                                },
                                "cons": {
                                    "cohesion": "대출 이력과 예약 이력의 도메인 규칙이 다를 경우 단일 Aggregate 내에서 책임이 혼재될 수 있다.",
                                    "coupling": "이력 유형별로 도메인 규칙이 복잡해질수록 Aggregate 내부가 비대해질 수 있다.",
                                    "consistency": "이력 유형별로 별도 트랜잭션 경계가 필요한 경우 유연성이 떨어진다.",
                                    "encapsulation": "이력 유형별로 규칙이 달라질 때 Aggregate 내부 코드가 복잡해질 수 있다.",
                                    "complexity": "이력 유형이 늘어날수록 단일 Aggregate가 지나치게 커져 관리가 어려워질 수 있다.",
                                    "independence": "대출 이력 또는 예약 이력만 별도로 확장하거나 변경하기 어렵다.",
                                    "performance": "이력 데이터가 많아질수록 단일 테이블의 크기가 커져 조회 및 인덱싱 성능이 저하될 수 있다."
                                },
                                "isAIRecommended": true,
                                "boundedContext": {
                                    "name": "LoanHistory",
                                    "alias": "이력 관리",
                                    "displayName": "이력 관리",
                                    "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "aggregates": [
                                        {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        {
                                            "name": "ReservationHistory",
                                            "alias": "예약 이력"
                                        }
                                    ],
                                    "requirements": {
                                        "userStory": "대출 이력\n상태 변경",
                                        "ddl": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                        "event": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                        "eventNames": "LoanHistoryRecorded, ReservationHistoryRecorded 이벤트가 발생할 수 있어.",
                                        "ddlFields": [
                                            {
                                                "fieldName": "history_id",
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            5
                                                        ],
                                                        [
                                                            100,
                                                            45
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "loan_id",
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            5
                                                        ],
                                                        [
                                                            101,
                                                            24
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "action_date",
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            5
                                                        ],
                                                        [
                                                            103,
                                                            50
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "previous_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            5
                                                        ],
                                                        [
                                                            104,
                                                            35
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "new_due_date",
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            5
                                                        ],
                                                        [
                                                            105,
                                                            30
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "notes",
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            5
                                                        ],
                                                        [
                                                            106,
                                                            14
                                                        ]
                                                    ]
                                                ]
                                            },
                                            {
                                                "fieldName": "processed_by",
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            5
                                                        ],
                                                        [
                                                            107,
                                                            29
                                                        ]
                                                    ]
                                                ]
                                            }
                                        ],
                                        "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                        "traceMap": {
                                            "4": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "7": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "8": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "14": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "16": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            5
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "21": {
                                                "refs": [
                                                    [
                                                        [
                                                            99,
                                                            1
                                                        ],
                                                        [
                                                            99,
                                                            27
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "22": {
                                                "refs": [
                                                    [
                                                        [
                                                            100,
                                                            1
                                                        ],
                                                        [
                                                            100,
                                                            46
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "23": {
                                                "refs": [
                                                    [
                                                        [
                                                            101,
                                                            1
                                                        ],
                                                        [
                                                            101,
                                                            25
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "24": {
                                                "refs": [
                                                    [
                                                        [
                                                            102,
                                                            1
                                                        ],
                                                        [
                                                            102,
                                                            64
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "25": {
                                                "refs": [
                                                    [
                                                        [
                                                            103,
                                                            1
                                                        ],
                                                        [
                                                            103,
                                                            51
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "26": {
                                                "refs": [
                                                    [
                                                        [
                                                            104,
                                                            1
                                                        ],
                                                        [
                                                            104,
                                                            36
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "27": {
                                                "refs": [
                                                    [
                                                        [
                                                            105,
                                                            1
                                                        ],
                                                        [
                                                            105,
                                                            31
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "28": {
                                                "refs": [
                                                    [
                                                        [
                                                            106,
                                                            1
                                                        ],
                                                        [
                                                            106,
                                                            15
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "29": {
                                                "refs": [
                                                    [
                                                        [
                                                            107,
                                                            1
                                                        ],
                                                        [
                                                            107,
                                                            30
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "30": {
                                                "refs": [
                                                    [
                                                        [
                                                            108,
                                                            1
                                                        ],
                                                        [
                                                            108,
                                                            52
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "31": {
                                                "refs": [
                                                    [
                                                        [
                                                            109,
                                                            1
                                                        ],
                                                        [
                                                            109,
                                                            32
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "32": {
                                                "refs": [
                                                    [
                                                        [
                                                            110,
                                                            1
                                                        ],
                                                        [
                                                            110,
                                                            40
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "33": {
                                                "refs": [
                                                    [
                                                        [
                                                            111,
                                                            1
                                                        ],
                                                        [
                                                            111,
                                                            9
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": true
                                            },
                                            "38": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "39": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "40": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "41": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "42": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "43": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "44": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "45": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "46": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "47": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "48": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "49": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "50": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "51": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            8
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "55": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "56": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "57": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "58": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "59": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "60": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "61": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "62": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "63": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "64": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "65": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "66": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "67": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "68": {
                                                "refs": [
                                                    [
                                                        [
                                                            9,
                                                            15
                                                        ],
                                                        [
                                                            9,
                                                            65
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "74": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "75": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "76": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "77": {
                                                "refs": [
                                                    [
                                                        [
                                                            7,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "80": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "81": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "82": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            },
                                            "83": {
                                                "refs": [
                                                    [
                                                        [
                                                            3,
                                                            1
                                                        ],
                                                        [
                                                            9,
                                                            67
                                                        ]
                                                    ]
                                                ],
                                                "isDirectMatching": false
                                            }
                                        },
                                        "commandNames": [],
                                        "readModelNames": [
                                            "BookLoanHistory",
                                            "BookStatusChangeHistory"
                                        ]
                                    }
                                },
                                "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                            }
                        ],
                        "conclusions": "옵션 1은 대출 이력과 예약 이력의 도메인 규칙이 명확히 분리되어 있고, 두 이력의 관리 및 확장이 독립적으로 필요한 경우에 적합합니다. 옵션 2는 이력 데이터가 단일 테이블에 집중되어 복합 이력 조회 및 통합 관리가 중요한 도서관, 또는 이력 유형이 많지 않은 환경에 적합합니다. 본 도메인에서는 이력 데이터의 통합 관리와 복합 조회의 빈도가 높을 것으로 예상되어 옵션 2를 기본안으로 선택합니다.",
                        "defaultOptionIndex": 1,
                        "inference": "\n\n요구사항과 누적된 설계 초안을 분석한 결과, LoanHistory 컨텍스트에서는 반드시 LoanHistory(대출 이력)와 ReservationHistory(예약 이력) Aggregate를 포함해야 하며, Book, BookStatusHistory, Loan Aggregate는 ValueObject 참조로만 사용해야 한다. 이벤트 및 컨텍스트 관계를 고려하여, 첫 번째 옵션은 LoanHistory와 ReservationHistory 두 개의 Aggregate로 구성하고, 두 번째 옵션은 LoanHistory 단일 Aggregate에 모든 이력 기록을 통합한다."
                    }
                ],
                "draftUIInfos": {
                    "leftBoundedContextCount": 0,
                    "directMessage": "Assigning DDL fields to aggregates for option 1... (898 characters generated)",
                    "progress": 67
                },
                "isGeneratorButtonEnabled": true,
                "boundedContextVersion": 1,
                "retryInputs": {
                    "initialInputs": [
                        {
                            "boundedContext": {
                                "name": "BookManagement",
                                "alias": "도서 관리",
                                "displayName": "도서 관리",
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "Book",
                                        "alias": "도서"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                    "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                    "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        5
                                                    ],
                                                    [
                                                        26,
                                                        42
                                                    ]
                                                ],
                                                [
                                                    [
                                                        87,
                                                        5
                                                    ],
                                                    [
                                                        87,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "title",
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        5
                                                    ],
                                                    [
                                                        27,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "isbn",
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        5
                                                    ],
                                                    [
                                                        28,
                                                        36
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "author",
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        5
                                                    ],
                                                    [
                                                        29,
                                                        32
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "publisher",
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        5
                                                    ],
                                                    [
                                                        30,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "category",
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        5
                                                    ],
                                                    [
                                                        31,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        5
                                                    ],
                                                    [
                                                        32,
                                                        51
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "registration_date",
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        5
                                                    ],
                                                    [
                                                        33,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_date",
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        5
                                                    ],
                                                    [
                                                        34,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "disposal_reason",
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        5
                                                    ],
                                                    [
                                                        35,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        5
                                                    ],
                                                    [
                                                        36,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        5
                                                    ],
                                                    [
                                                        37,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        5
                                                    ],
                                                    [
                                                        86,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_status",
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        5
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_status",
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        5
                                                    ],
                                                    [
                                                        89,
                                                        56
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_reason",
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        5
                                                    ],
                                                    [
                                                        90,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "changed_by",
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        5
                                                    ],
                                                    [
                                                        91,
                                                        27
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "change_date",
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        5
                                                    ],
                                                    [
                                                        92,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        2
                                                    ],
                                                    [
                                                        3,
                                                        265
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "15": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        3,
                                                        301
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "17": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        63
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        24,
                                                        1
                                                    ],
                                                    [
                                                        24,
                                                        6
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        25,
                                                        1
                                                    ],
                                                    [
                                                        25,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        26,
                                                        1
                                                    ],
                                                    [
                                                        26,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        27,
                                                        1
                                                    ],
                                                    [
                                                        27,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        28,
                                                        1
                                                    ],
                                                    [
                                                        28,
                                                        37
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        29,
                                                        1
                                                    ],
                                                    [
                                                        29,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        30,
                                                        1
                                                    ],
                                                    [
                                                        30,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        31,
                                                        1
                                                    ],
                                                    [
                                                        31,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        32,
                                                        1
                                                    ],
                                                    [
                                                        32,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        33,
                                                        1
                                                    ],
                                                    [
                                                        33,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        34,
                                                        1
                                                    ],
                                                    [
                                                        34,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        35,
                                                        1
                                                    ],
                                                    [
                                                        35,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        36,
                                                        1
                                                    ],
                                                    [
                                                        36,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        37,
                                                        1
                                                    ],
                                                    [
                                                        37,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        38,
                                                        1
                                                    ],
                                                    [
                                                        38,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        39,
                                                        1
                                                    ],
                                                    [
                                                        39,
                                                        26
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        40,
                                                        1
                                                    ],
                                                    [
                                                        40,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        41,
                                                        1
                                                    ],
                                                    [
                                                        41,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        42,
                                                        1
                                                    ],
                                                    [
                                                        42,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        84,
                                                        1
                                                    ],
                                                    [
                                                        84,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        85,
                                                        1
                                                    ],
                                                    [
                                                        85,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        86,
                                                        1
                                                    ],
                                                    [
                                                        86,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        87,
                                                        1
                                                    ],
                                                    [
                                                        87,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        88,
                                                        1
                                                    ],
                                                    [
                                                        88,
                                                        53
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        89,
                                                        1
                                                    ],
                                                    [
                                                        89,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        90,
                                                        1
                                                    ],
                                                    [
                                                        90,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        91,
                                                        1
                                                    ],
                                                    [
                                                        91,
                                                        28
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        92,
                                                        1
                                                    ],
                                                    [
                                                        92,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        93,
                                                        1
                                                    ],
                                                    [
                                                        93,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        94,
                                                        1
                                                    ],
                                                    [
                                                        94,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        95,
                                                        1
                                                    ],
                                                    [
                                                        95,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        96,
                                                        1
                                                    ],
                                                    [
                                                        96,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "69": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "70": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        57
                                                    ],
                                                    [
                                                        3,
                                                        100
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        105
                                                    ],
                                                    [
                                                        3,
                                                        128
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        136
                                                    ],
                                                    [
                                                        3,
                                                        161
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "85": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "86": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "87": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "88": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        191
                                                    ],
                                                    [
                                                        3,
                                                        238
                                                    ]
                                                ],
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        150
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "110": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "111": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "112": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        264
                                                    ],
                                                    [
                                                        3,
                                                        302
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "133": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "134": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [
                                        "RegisterBook",
                                        "DiscardBook",
                                        "UpdateBookStatus",
                                        "ValidateIsbn"
                                    ],
                                    "readModelNames": [
                                        "BookList",
                                        "BookDetail",
                                        "CategoryOptions"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanAndReservation",
                                "alias": "대출/반납 및 예약",
                                "displayName": "대출/반납 및 예약",
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "aggregates": [
                                    {
                                        "name": "Loan",
                                        "alias": "대출"
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                    "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                    "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        5
                                                    ],
                                                    [
                                                        46,
                                                        38
                                                    ]
                                                ],
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "member_id",
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        5
                                                    ],
                                                    [
                                                        47,
                                                        34
                                                    ]
                                                ],
                                                [
                                                    [
                                                        68,
                                                        5
                                                    ],
                                                    [
                                                        68,
                                                        34
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "book_id",
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        5
                                                    ],
                                                    [
                                                        48,
                                                        24
                                                    ]
                                                ],
                                                [
                                                    [
                                                        69,
                                                        5
                                                    ],
                                                    [
                                                        69,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_date",
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        5
                                                    ],
                                                    [
                                                        49,
                                                        48
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "due_date",
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        5
                                                    ],
                                                    [
                                                        50,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "return_date",
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        5
                                                    ],
                                                    [
                                                        51,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_period_days",
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        5
                                                    ],
                                                    [
                                                        52,
                                                        39
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "status",
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        5
                                                    ],
                                                    [
                                                        53,
                                                        50
                                                    ]
                                                ],
                                                [
                                                    [
                                                        71,
                                                        5
                                                    ],
                                                    [
                                                        71,
                                                        54
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "extension_count",
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        5
                                                    ],
                                                    [
                                                        54,
                                                        31
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "created_at",
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        5
                                                    ],
                                                    [
                                                        55,
                                                        49
                                                    ]
                                                ],
                                                [
                                                    [
                                                        74,
                                                        5
                                                    ],
                                                    [
                                                        74,
                                                        49
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "updated_at",
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        5
                                                    ],
                                                    [
                                                        56,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        75,
                                                        5
                                                    ],
                                                    [
                                                        75,
                                                        77
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_id",
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        5
                                                    ],
                                                    [
                                                        67,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "reservation_date",
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        5
                                                    ],
                                                    [
                                                        70,
                                                        55
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notification_sent",
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        5
                                                    ],
                                                    [
                                                        72,
                                                        37
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "expiry_date",
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        5
                                                    ],
                                                    [
                                                        73,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        41
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_type",
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        5
                                                    ],
                                                    [
                                                        102,
                                                        63
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        2
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "9": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "10": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "16": {
                                            "refs": [
                                                [
                                                    [
                                                        1,
                                                        1
                                                    ],
                                                    [
                                                        1,
                                                        17
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "18": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        81
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "20": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        1
                                                    ],
                                                    [
                                                        5,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        59
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        9
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        45,
                                                        1
                                                    ],
                                                    [
                                                        45,
                                                        20
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        46,
                                                        1
                                                    ],
                                                    [
                                                        46,
                                                        43
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        47,
                                                        1
                                                    ],
                                                    [
                                                        47,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "34": {
                                            "refs": [
                                                [
                                                    [
                                                        48,
                                                        1
                                                    ],
                                                    [
                                                        48,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "35": {
                                            "refs": [
                                                [
                                                    [
                                                        49,
                                                        1
                                                    ],
                                                    [
                                                        49,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "36": {
                                            "refs": [
                                                [
                                                    [
                                                        50,
                                                        1
                                                    ],
                                                    [
                                                        50,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "37": {
                                            "refs": [
                                                [
                                                    [
                                                        51,
                                                        1
                                                    ],
                                                    [
                                                        51,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        52,
                                                        1
                                                    ],
                                                    [
                                                        52,
                                                        74
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        53,
                                                        1
                                                    ],
                                                    [
                                                        53,
                                                        57
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        54,
                                                        1
                                                    ],
                                                    [
                                                        54,
                                                        34
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        55,
                                                        1
                                                    ],
                                                    [
                                                        55,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        56,
                                                        1
                                                    ],
                                                    [
                                                        56,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        57,
                                                        1
                                                    ],
                                                    [
                                                        57,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        58,
                                                        1
                                                    ],
                                                    [
                                                        58,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        59,
                                                        1
                                                    ],
                                                    [
                                                        59,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        60,
                                                        1
                                                    ],
                                                    [
                                                        60,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        61,
                                                        1
                                                    ],
                                                    [
                                                        61,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        62,
                                                        1
                                                    ],
                                                    [
                                                        62,
                                                        33
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        63,
                                                        1
                                                    ],
                                                    [
                                                        63,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "52": {
                                            "refs": [
                                                [
                                                    [
                                                        66,
                                                        1
                                                    ],
                                                    [
                                                        66,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "53": {
                                            "refs": [
                                                [
                                                    [
                                                        67,
                                                        1
                                                    ],
                                                    [
                                                        67,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "54": {
                                            "refs": [
                                                [
                                                    [
                                                        68,
                                                        1
                                                    ],
                                                    [
                                                        68,
                                                        35
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        69,
                                                        1
                                                    ],
                                                    [
                                                        69,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        70,
                                                        1
                                                    ],
                                                    [
                                                        70,
                                                        56
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        71,
                                                        1
                                                    ],
                                                    [
                                                        71,
                                                        61
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        72,
                                                        1
                                                    ],
                                                    [
                                                        72,
                                                        44
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        73,
                                                        1
                                                    ],
                                                    [
                                                        73,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        74,
                                                        1
                                                    ],
                                                    [
                                                        74,
                                                        50
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        75,
                                                        1
                                                    ],
                                                    [
                                                        75,
                                                        78
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        76,
                                                        1
                                                    ],
                                                    [
                                                        76,
                                                        58
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        77,
                                                        1
                                                    ],
                                                    [
                                                        77,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        78,
                                                        1
                                                    ],
                                                    [
                                                        78,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        79,
                                                        1
                                                    ],
                                                    [
                                                        79,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        80,
                                                        1
                                                    ],
                                                    [
                                                        80,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        81,
                                                        1
                                                    ],
                                                    [
                                                        81,
                                                        49
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        82,
                                                        1
                                                    ],
                                                    [
                                                        82,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "71": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "72": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "73": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "78": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "79": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        39
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "84": {
                                            "refs": [
                                                [
                                                    [
                                                        112,
                                                        1
                                                    ],
                                                    [
                                                        112,
                                                        2
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "89": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "90": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "91": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "92": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "93": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "94": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "95": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "96": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "97": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "98": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "99": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "100": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "101": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "102": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "103": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "104": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "105": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "106": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "107": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "108": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "109": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        49
                                                    ],
                                                    [
                                                        5,
                                                        91
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        59
                                                    ],
                                                    [
                                                        5,
                                                        77
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        43
                                                    ],
                                                    [
                                                        5,
                                                        126
                                                    ]
                                                ],
                                                [
                                                    [
                                                        5,
                                                        198
                                                    ],
                                                    [
                                                        5,
                                                        235
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "113": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "114": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "115": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "116": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "117": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "118": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "119": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "120": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "121": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "122": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "123": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "124": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "125": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "126": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "127": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "128": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "129": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "130": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "131": {
                                            "refs": [
                                                [
                                                    [
                                                        5,
                                                        183
                                                    ],
                                                    [
                                                        5,
                                                        193
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "135": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "136": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "137": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "138": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "139": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "140": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "141": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "142": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "143": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "144": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "145": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "146": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "147": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "148": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "149": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "150": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "151": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "152": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "153": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        133
                                                    ],
                                                    [
                                                        7,
                                                        167
                                                    ]
                                                ],
                                                [
                                                    [
                                                        7,
                                                        167
                                                    ],
                                                    [
                                                        7,
                                                        175
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "157": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "158": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "159": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "160": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "161": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "162": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "163": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "164": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "165": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "166": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "167": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "168": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "169": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "170": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "171": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "172": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "173": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "174": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "175": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        109
                                                    ],
                                                    [
                                                        7,
                                                        124
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "181": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "182": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "183": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "184": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        7,
                                                        203
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "187": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "188": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "189": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "190": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [
                                        "LoanBook",
                                        "ReturnBook",
                                        "ExtendLoan",
                                        "ReserveBook"
                                    ],
                                    "readModelNames": [
                                        "LoanStatusList",
                                        "LoanDetail",
                                        "SearchBookForLoan"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                        },
                        {
                            "boundedContext": {
                                "name": "LoanHistory",
                                "alias": "이력 관리",
                                "displayName": "이력 관리",
                                "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "aggregates": [
                                    {
                                        "name": "LoanHistory",
                                        "alias": "대출 이력"
                                    },
                                    {
                                        "name": "ReservationHistory",
                                        "alias": "예약 이력"
                                    }
                                ],
                                "requirements": {
                                    "userStory": "대출 이력\n상태 변경",
                                    "ddl": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                    "event": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                    "eventNames": "LoanHistoryRecorded, ReservationHistoryRecorded 이벤트가 발생할 수 있어.",
                                    "ddlFields": [
                                        {
                                            "fieldName": "history_id",
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        5
                                                    ],
                                                    [
                                                        100,
                                                        45
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "loan_id",
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        5
                                                    ],
                                                    [
                                                        101,
                                                        24
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "action_date",
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        5
                                                    ],
                                                    [
                                                        103,
                                                        50
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "previous_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        5
                                                    ],
                                                    [
                                                        104,
                                                        35
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "new_due_date",
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        5
                                                    ],
                                                    [
                                                        105,
                                                        30
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "notes",
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        5
                                                    ],
                                                    [
                                                        106,
                                                        14
                                                    ]
                                                ]
                                            ]
                                        },
                                        {
                                            "fieldName": "processed_by",
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        5
                                                    ],
                                                    [
                                                        107,
                                                        29
                                                    ]
                                                ]
                                            ]
                                        }
                                    ],
                                    "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                    "traceMap": {
                                        "4": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "7": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "8": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "14": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        5
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "16": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        5
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "21": {
                                            "refs": [
                                                [
                                                    [
                                                        99,
                                                        1
                                                    ],
                                                    [
                                                        99,
                                                        27
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "22": {
                                            "refs": [
                                                [
                                                    [
                                                        100,
                                                        1
                                                    ],
                                                    [
                                                        100,
                                                        46
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "23": {
                                            "refs": [
                                                [
                                                    [
                                                        101,
                                                        1
                                                    ],
                                                    [
                                                        101,
                                                        25
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "24": {
                                            "refs": [
                                                [
                                                    [
                                                        102,
                                                        1
                                                    ],
                                                    [
                                                        102,
                                                        64
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "25": {
                                            "refs": [
                                                [
                                                    [
                                                        103,
                                                        1
                                                    ],
                                                    [
                                                        103,
                                                        51
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "26": {
                                            "refs": [
                                                [
                                                    [
                                                        104,
                                                        1
                                                    ],
                                                    [
                                                        104,
                                                        36
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "27": {
                                            "refs": [
                                                [
                                                    [
                                                        105,
                                                        1
                                                    ],
                                                    [
                                                        105,
                                                        31
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "28": {
                                            "refs": [
                                                [
                                                    [
                                                        106,
                                                        1
                                                    ],
                                                    [
                                                        106,
                                                        15
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "29": {
                                            "refs": [
                                                [
                                                    [
                                                        107,
                                                        1
                                                    ],
                                                    [
                                                        107,
                                                        30
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "30": {
                                            "refs": [
                                                [
                                                    [
                                                        108,
                                                        1
                                                    ],
                                                    [
                                                        108,
                                                        52
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "31": {
                                            "refs": [
                                                [
                                                    [
                                                        109,
                                                        1
                                                    ],
                                                    [
                                                        109,
                                                        32
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "32": {
                                            "refs": [
                                                [
                                                    [
                                                        110,
                                                        1
                                                    ],
                                                    [
                                                        110,
                                                        40
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "33": {
                                            "refs": [
                                                [
                                                    [
                                                        111,
                                                        1
                                                    ],
                                                    [
                                                        111,
                                                        9
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": true
                                        },
                                        "38": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "39": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "40": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "41": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "42": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "43": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "44": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "45": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "46": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "47": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "48": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "49": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "50": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "51": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        8
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "55": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "56": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "57": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "58": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "59": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "60": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "61": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "62": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "63": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "64": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "65": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "66": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "67": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "68": {
                                            "refs": [
                                                [
                                                    [
                                                        9,
                                                        15
                                                    ],
                                                    [
                                                        9,
                                                        65
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "74": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "75": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "76": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "77": {
                                            "refs": [
                                                [
                                                    [
                                                        7,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "80": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "81": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "82": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        },
                                        "83": {
                                            "refs": [
                                                [
                                                    [
                                                        3,
                                                        1
                                                    ],
                                                    [
                                                        9,
                                                        67
                                                    ]
                                                ]
                                            ],
                                            "isDirectMatching": false
                                        }
                                    },
                                    "commandNames": [],
                                    "readModelNames": [
                                        "BookLoanHistory",
                                        "BookStatusChangeHistory"
                                    ]
                                }
                            },
                            "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                        }
                    ],
                    "initialAccumulatedDrafts": {
                        "BookManagement": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanAndReservation": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "Reservation",
                                    "alias": "예약"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ],
                        "LoanHistory": [
                            {
                                "aggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            },
                            {
                                "aggregate": {
                                    "name": "ReservationHistory",
                                    "alias": "예약 이력"
                                },
                                "enumerations": [],
                                "valueObjects": []
                            }
                        ]
                    }
                },
                "selectedOptionItem": {
                    "BookManagement": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Book",
                                    "alias": "도서",
                                    "refs": [
                                        [
                                            [
                                                3,
                                                2
                                            ],
                                            [
                                                3,
                                                265
                                            ]
                                        ],
                                        [
                                            [
                                                3,
                                                56
                                            ],
                                            [
                                                3,
                                                301
                                            ]
                                        ],
                                        [
                                            [
                                                25,
                                                1
                                            ],
                                            [
                                                25,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                26,
                                                1
                                            ],
                                            [
                                                26,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                27,
                                                1
                                            ],
                                            [
                                                27,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                28,
                                                1
                                            ],
                                            [
                                                28,
                                                37
                                            ]
                                        ],
                                        [
                                            [
                                                29,
                                                1
                                            ],
                                            [
                                                29,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                30,
                                                1
                                            ],
                                            [
                                                30,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                31,
                                                1
                                            ],
                                            [
                                                31,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                32,
                                                1
                                            ],
                                            [
                                                32,
                                                59
                                            ]
                                        ],
                                        [
                                            [
                                                33,
                                                1
                                            ],
                                            [
                                                33,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                34,
                                                1
                                            ],
                                            [
                                                34,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                35,
                                                1
                                            ],
                                            [
                                                35,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                36,
                                                1
                                            ],
                                            [
                                                36,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                37,
                                                1
                                            ],
                                            [
                                                37,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                38,
                                                1
                                            ],
                                            [
                                                38,
                                                28
                                            ]
                                        ],
                                        [
                                            [
                                                39,
                                                1
                                            ],
                                            [
                                                39,
                                                26
                                            ]
                                        ],
                                        [
                                            [
                                                40,
                                                1
                                            ],
                                            [
                                                40,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                41,
                                                1
                                            ],
                                            [
                                                41,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                42,
                                                1
                                            ],
                                            [
                                                42,
                                                2
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "BookStatus",
                                        "alias": "도서 상태",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    43
                                                ]
                                            ],
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ],
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    19
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookCategory",
                                        "alias": "도서 카테고리",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookSpecification",
                                        "alias": "도서 상세 정보",
                                        "referencedAggregateName": "",
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    66
                                                ],
                                                [
                                                    3,
                                                    93
                                                ]
                                            ],
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ],
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ],
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    17
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    184
                                                ],
                                                [
                                                    3,
                                                    217
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "ReservationReference",
                                        "alias": "예약 참조",
                                        "referencedAggregate": {
                                            "name": "Reservation",
                                            "alias": "예약"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    222
                                                ],
                                                [
                                                    3,
                                                    224
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "도서의 등록, 상태 관리, 폐기 등 모든 도서 관련 기능이 Book Aggregate 내에 집중되어 있어 일관된 트랜잭션 경계를 제공한다.",
                            "coupling": "외부 컨텍스트(대출, 예약, 이력)와의 의존성을 ValueObject 참조로만 유지하여 결합도가 낮다.",
                            "consistency": "도서 상태 변경, 폐기 등 핵심 비즈니스 규칙을 Aggregate 내부에서 원자적으로 보장할 수 있다.",
                            "encapsulation": "도서의 상태, 상세 정보, 대출/예약 참조 등 도서 관리의 모든 세부 구현이 Aggregate 내부에 은닉된다.",
                            "complexity": "단일 Aggregate로 구조가 단순하며, 도서 관리 업무에 대한 이해와 유지보수가 용이하다.",
                            "independence": "도서 관리 정책 변경이 Aggregate 단위로 독립적으로 이루어질 수 있다.",
                            "performance": "단일 Aggregate 접근으로 도서 상태 및 정보 조회·변경 시 쿼리 효율이 높다."
                        },
                        "cons": {
                            "cohesion": "상태 이력, 대출/예약 참조 등 다양한 책임이 한 Aggregate에 집중되어 도서 관리가 복잡해질 수 있다.",
                            "coupling": "도서 상태 이력 등 확장 요구가 생기면 Aggregate 크기가 커져 외부 시스템과의 연동이 어려워질 수 있다.",
                            "consistency": "상태 이력 등 대용량 데이터가 누적될 경우 트랜잭션 처리에 부담이 될 수 있다.",
                            "encapsulation": "상태 이력, 대출/예약 등 서로 다른 도메인 관심사가 한 Aggregate에 혼재되어 캡슐화가 약해질 수 있다.",
                            "complexity": "도서 관리 업무가 확장될수록 Aggregate가 비대해져 도메인 복잡도가 증가한다.",
                            "independence": "상태 이력, 대출/예약 등 세부 기능 변경 시 전체 Aggregate에 영향이 갈 수 있다.",
                            "performance": "상태 이력, 대출/예약 등 데이터가 누적될수록 단일 Aggregate 접근 시 성능 저하가 발생할 수 있다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "BookManagement",
                            "alias": "도서 관리",
                            "displayName": "도서 관리",
                            "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "Book",
                                    "alias": "도서"
                                }
                            ],
                            "requirements": {
                                "userStory": "도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할",
                                "ddl": "도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);",
                                "event": "{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        57\n      ],\n      [\n        3,\n        100\n      ]\n    ],\n    [\n      [\n        3,\n        105\n      ],\n      [\n        3,\n        128\n      ]\n    ],\n    [\n      [\n        3,\n        136\n      ],\n      [\n        3,\n        161\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ],\n  \"refs\": [\n    [\n      [\n        3,\n        191\n      ],\n      [\n        3,\n        238\n      ]\n    ],\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ],\n    [\n      [\n        7,\n        150\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        3,\n        264\n      ],\n      [\n        3,\n        302\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookRegistered, BookStatusChanged, BookDisposed 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    5
                                                ],
                                                [
                                                    26,
                                                    42
                                                ]
                                            ],
                                            [
                                                [
                                                    87,
                                                    5
                                                ],
                                                [
                                                    87,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "title",
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    5
                                                ],
                                                [
                                                    27,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "isbn",
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    5
                                                ],
                                                [
                                                    28,
                                                    36
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "author",
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    5
                                                ],
                                                [
                                                    29,
                                                    32
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "publisher",
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    5
                                                ],
                                                [
                                                    30,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "category",
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    5
                                                ],
                                                [
                                                    31,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    5
                                                ],
                                                [
                                                    32,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "registration_date",
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    5
                                                ],
                                                [
                                                    33,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_date",
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    5
                                                ],
                                                [
                                                    34,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "disposal_reason",
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    5
                                                ],
                                                [
                                                    35,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    5
                                                ],
                                                [
                                                    36,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    5
                                                ],
                                                [
                                                    37,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    5
                                                ],
                                                [
                                                    86,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_status",
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    5
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_status",
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    5
                                                ],
                                                [
                                                    89,
                                                    56
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_reason",
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    5
                                                ],
                                                [
                                                    90,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "changed_by",
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    5
                                                ],
                                                [
                                                    91,
                                                    27
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "change_date",
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    5
                                                ],
                                                [
                                                    92,
                                                    50
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    2
                                                ],
                                                [
                                                    3,
                                                    265
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "15": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    3,
                                                    301
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "17": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    63
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    24,
                                                    1
                                                ],
                                                [
                                                    24,
                                                    6
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    25,
                                                    1
                                                ],
                                                [
                                                    25,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    26,
                                                    1
                                                ],
                                                [
                                                    26,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    27,
                                                    1
                                                ],
                                                [
                                                    27,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    28,
                                                    1
                                                ],
                                                [
                                                    28,
                                                    37
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    29,
                                                    1
                                                ],
                                                [
                                                    29,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    30,
                                                    1
                                                ],
                                                [
                                                    30,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    31,
                                                    1
                                                ],
                                                [
                                                    31,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    32,
                                                    1
                                                ],
                                                [
                                                    32,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    33,
                                                    1
                                                ],
                                                [
                                                    33,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    34,
                                                    1
                                                ],
                                                [
                                                    34,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    35,
                                                    1
                                                ],
                                                [
                                                    35,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    36,
                                                    1
                                                ],
                                                [
                                                    36,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    37,
                                                    1
                                                ],
                                                [
                                                    37,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    38,
                                                    1
                                                ],
                                                [
                                                    38,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    39,
                                                    1
                                                ],
                                                [
                                                    39,
                                                    26
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    40,
                                                    1
                                                ],
                                                [
                                                    40,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    41,
                                                    1
                                                ],
                                                [
                                                    41,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    42,
                                                    1
                                                ],
                                                [
                                                    42,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    84,
                                                    1
                                                ],
                                                [
                                                    84,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    85,
                                                    1
                                                ],
                                                [
                                                    85,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    86,
                                                    1
                                                ],
                                                [
                                                    86,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    87,
                                                    1
                                                ],
                                                [
                                                    87,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    88,
                                                    1
                                                ],
                                                [
                                                    88,
                                                    53
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    89,
                                                    1
                                                ],
                                                [
                                                    89,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    90,
                                                    1
                                                ],
                                                [
                                                    90,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    91,
                                                    1
                                                ],
                                                [
                                                    91,
                                                    28
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    92,
                                                    1
                                                ],
                                                [
                                                    92,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    93,
                                                    1
                                                ],
                                                [
                                                    93,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    94,
                                                    1
                                                ],
                                                [
                                                    94,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    95,
                                                    1
                                                ],
                                                [
                                                    95,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    96,
                                                    1
                                                ],
                                                [
                                                    96,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "69": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "70": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    57
                                                ],
                                                [
                                                    3,
                                                    100
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    105
                                                ],
                                                [
                                                    3,
                                                    128
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    136
                                                ],
                                                [
                                                    3,
                                                    161
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "85": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "86": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "87": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "88": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    191
                                                ],
                                                [
                                                    3,
                                                    238
                                                ]
                                            ],
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    150
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "110": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "111": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "112": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    264
                                                ],
                                                [
                                                    3,
                                                    302
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "133": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "134": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [
                                    "RegisterBook",
                                    "DiscardBook",
                                    "UpdateBookStatus",
                                    "ValidateIsbn"
                                ],
                                "readModelNames": [
                                    "BookList",
                                    "BookDetail",
                                    "CategoryOptions"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: BookManagement (도서 관리)\n\n## Role\n도서 등록, 상태 관리, 폐기 처리를 담당하며 도서의 생애주기와 상태 변화를 관리한다.\n\n## Key Events\n- BookRegistered\n- BookStatusChanged\n- BookDisposed\n\n# Requirements\n\n## userStory\n\n도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야\n\n도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할\n\n## DDL\n\n```sql\n도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n```\n```sql\n도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookRegistered\",\n  \"displayName\": \"도서 등록됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 1,\n  \"description\": \"사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.\",\n  \"inputs\": [\n    \"도서명\",\n    \"ISBN(13자리)\",\n    \"저자\",\n    \"출판사\",\n    \"카테고리(소설/비소설/학술/잡지)\"\n  ],\n  \"outputs\": [\n    \"신규 도서 정보\",\n    \"도서 상태: 대출가능\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookStatusChanged\",\n  \"displayName\": \"도서 상태 변경됨\",\n  \"actor\": \"System\",\n  \"level\": 2,\n  \"description\": \"도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.\",\n  \"inputs\": [\n    \"도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"변경된 도서 상태\"\n  ],\n  \"nextEvents\": [\n    \"BookDisposed\",\n    \"BookLoaned\",\n    \"BookReturned\",\n    \"BookReserved\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookDisposed\",\n  \"displayName\": \"도서 폐기됨\",\n  \"actor\": \"Librarian\",\n  \"level\": 3,\n  \"description\": \"도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.\",\n  \"inputs\": [\n    \"도서 식별자\",\n    \"폐기 사유\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 폐기\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: sends to 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                    },
                    "LoanAndReservation": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "Loan",
                                    "alias": "대출",
                                    "refs": [
                                        [
                                            [
                                                45,
                                                1
                                            ],
                                            [
                                                45,
                                                20
                                            ]
                                        ],
                                        [
                                            [
                                                46,
                                                1
                                            ],
                                            [
                                                46,
                                                43
                                            ]
                                        ],
                                        [
                                            [
                                                47,
                                                1
                                            ],
                                            [
                                                47,
                                                35
                                            ]
                                        ],
                                        [
                                            [
                                                48,
                                                1
                                            ],
                                            [
                                                48,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                49,
                                                1
                                            ],
                                            [
                                                49,
                                                49
                                            ]
                                        ],
                                        [
                                            [
                                                50,
                                                1
                                            ],
                                            [
                                                50,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                51,
                                                1
                                            ],
                                            [
                                                51,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                52,
                                                1
                                            ],
                                            [
                                                52,
                                                74
                                            ]
                                        ],
                                        [
                                            [
                                                53,
                                                1
                                            ],
                                            [
                                                53,
                                                57
                                            ]
                                        ],
                                        [
                                            [
                                                54,
                                                1
                                            ],
                                            [
                                                54,
                                                34
                                            ]
                                        ],
                                        [
                                            [
                                                55,
                                                1
                                            ],
                                            [
                                                55,
                                                50
                                            ]
                                        ],
                                        [
                                            [
                                                56,
                                                1
                                            ],
                                            [
                                                56,
                                                78
                                            ]
                                        ],
                                        [
                                            [
                                                57,
                                                1
                                            ],
                                            [
                                                57,
                                                58
                                            ]
                                        ],
                                        [
                                            [
                                                58,
                                                1
                                            ],
                                            [
                                                58,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                59,
                                                1
                                            ],
                                            [
                                                59,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                60,
                                                1
                                            ],
                                            [
                                                60,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                61,
                                                1
                                            ],
                                            [
                                                61,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                62,
                                                1
                                            ],
                                            [
                                                62,
                                                33
                                            ]
                                        ],
                                        [
                                            [
                                                63,
                                                1
                                            ],
                                            [
                                                63,
                                                2
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                49
                                            ],
                                            [
                                                5,
                                                91
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                59
                                            ],
                                            [
                                                5,
                                                77
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                43
                                            ],
                                            [
                                                5,
                                                126
                                            ]
                                        ],
                                        [
                                            [
                                                5,
                                                198
                                            ],
                                            [
                                                5,
                                                235
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanStatus",
                                        "alias": "대출 상태",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    56
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "Reservation",
                                        "alias": "예약",
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ],
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ],
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ],
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ],
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ],
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ],
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ],
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ],
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ],
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "LoanHistoryReference",
                                        "alias": "대출 이력 참조",
                                        "referencedAggregate": {
                                            "name": "LoanHistory",
                                            "alias": "대출 이력"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    5
                                                ],
                                                [
                                                    108,
                                                    25
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    39
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            }
                        ],
                        "pros": {
                            "cohesion": "대출, 예약, 이력 등 대출 관련 모든 정보를 Loan Aggregate에 통합하여 대출 프로세스의 전체 흐름을 한 곳에서 관리할 수 있다.",
                            "coupling": "예약과 대출 간의 상태 전이 및 상호작용을 Aggregate 내부에서 직접 처리할 수 있어 결합도가 높아 복합 비즈니스 규칙 구현이 용이하다.",
                            "consistency": "대출과 예약의 상태 변경, 이력 기록이 단일 트랜잭션 내에서 일관성 있게 처리된다.",
                            "encapsulation": "대출과 예약, 이력 관리까지 모두 Loan Aggregate 내부에 캡슐화되어 외부 의존성이 줄어든다.",
                            "complexity": "대출/예약/이력의 통합 관리로 복잡한 상태 전이와 비즈니스 규칙을 Aggregate 내부에서 일관성 있게 구현할 수 있다.",
                            "independence": "대출 프로세스 전체를 단일 Aggregate로 관리하므로 기능 확장 시 일관성 있게 변경이 가능하다.",
                            "performance": "대출/예약/이력 관련 데이터 접근이 한 번의 Aggregate 조회로 가능해 조회 성능이 향상된다."
                        },
                        "cons": {
                            "cohesion": "대출, 예약, 이력 등 서로 다른 라이프사이클을 가진 도메인 개념이 하나의 Aggregate에 묶여 응집도가 저하될 수 있다.",
                            "coupling": "Aggregate가 비대해지면서 도메인 변경 시 영향 범위가 넓어지고, 유지보수 난이도가 증가한다.",
                            "consistency": "동시성 처리 시 여러 사용자가 동일 Loan Aggregate를 갱신하면 락 경합이 발생할 수 있다.",
                            "encapsulation": "예약 및 이력 관리의 책임이 Loan Aggregate에 집중되어 역할 분리가 어렵다.",
                            "complexity": "Aggregate가 커질수록 도메인 로직이 복잡해지고, 개발 및 테스트 난이도가 상승한다.",
                            "independence": "예약 또는 이력 관리만 별도로 확장하거나 배포하기 어렵다.",
                            "performance": "대출과 예약, 이력 등 모든 변경이 한 Aggregate에 집중되어 트래픽이 몰릴 경우 성능 저하가 발생할 수 있다."
                        },
                        "isAIRecommended": true,
                        "boundedContext": {
                            "name": "LoanAndReservation",
                            "alias": "대출/반납 및 예약",
                            "displayName": "대출/반납 및 예약",
                            "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                            "aggregates": [
                                {
                                    "name": "Loan",
                                    "alias": "대출"
                                },
                                {
                                    "name": "Reservation",
                                    "alias": "예약"
                                }
                            ],
                            "requirements": {
                                "userStory": "대출/반납을 통합적으로 관리하는\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n예약\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n연장\n대출 이력과 상태",
                                "ddl": "CREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);",
                                "event": "{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        49\n      ],\n      [\n        5,\n        91\n      ]\n    ],\n    [\n      [\n        5,\n        59\n      ],\n      [\n        5,\n        77\n      ]\n    ],\n    [\n      [\n        5,\n        43\n      ],\n      [\n        5,\n        126\n      ]\n    ],\n    [\n      [\n        5,\n        198\n      ],\n      [\n        5,\n        235\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        5,\n        183\n      ],\n      [\n        5,\n        193\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        133\n      ],\n      [\n        7,\n        167\n      ]\n    ],\n    [\n      [\n        7,\n        167\n      ],\n      [\n        7,\n        175\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ],\n  \"refs\": [\n    [\n      [\n        7,\n        109\n      ],\n      [\n        7,\n        124\n      ]\n    ]\n  ]\n}",
                                "eventNames": "BookLoaned, BookReserved, BookReturned, LoanExtended 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    5
                                                ],
                                                [
                                                    46,
                                                    38
                                                ]
                                            ],
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "member_id",
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    5
                                                ],
                                                [
                                                    47,
                                                    34
                                                ]
                                            ],
                                            [
                                                [
                                                    68,
                                                    5
                                                ],
                                                [
                                                    68,
                                                    34
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "book_id",
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    5
                                                ],
                                                [
                                                    48,
                                                    24
                                                ]
                                            ],
                                            [
                                                [
                                                    69,
                                                    5
                                                ],
                                                [
                                                    69,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_date",
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    5
                                                ],
                                                [
                                                    49,
                                                    48
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "due_date",
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    5
                                                ],
                                                [
                                                    50,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "return_date",
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    5
                                                ],
                                                [
                                                    51,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_period_days",
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    5
                                                ],
                                                [
                                                    52,
                                                    39
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "status",
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    5
                                                ],
                                                [
                                                    53,
                                                    50
                                                ]
                                            ],
                                            [
                                                [
                                                    71,
                                                    5
                                                ],
                                                [
                                                    71,
                                                    54
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "extension_count",
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    5
                                                ],
                                                [
                                                    54,
                                                    31
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "created_at",
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    5
                                                ],
                                                [
                                                    55,
                                                    49
                                                ]
                                            ],
                                            [
                                                [
                                                    74,
                                                    5
                                                ],
                                                [
                                                    74,
                                                    49
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "updated_at",
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    5
                                                ],
                                                [
                                                    56,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    75,
                                                    5
                                                ],
                                                [
                                                    75,
                                                    77
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_id",
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    5
                                                ],
                                                [
                                                    67,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "reservation_date",
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    5
                                                ],
                                                [
                                                    70,
                                                    55
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notification_sent",
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    5
                                                ],
                                                [
                                                    72,
                                                    37
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "expiry_date",
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    5
                                                ],
                                                [
                                                    73,
                                                    29
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    41
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_type",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    63
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    2
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "9": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "10": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "16": {
                                        "refs": [
                                            [
                                                [
                                                    1,
                                                    1
                                                ],
                                                [
                                                    1,
                                                    17
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "18": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    81
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "20": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    1
                                                ],
                                                [
                                                    5,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    59
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    45,
                                                    1
                                                ],
                                                [
                                                    45,
                                                    20
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    46,
                                                    1
                                                ],
                                                [
                                                    46,
                                                    43
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    47,
                                                    1
                                                ],
                                                [
                                                    47,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "34": {
                                        "refs": [
                                            [
                                                [
                                                    48,
                                                    1
                                                ],
                                                [
                                                    48,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "35": {
                                        "refs": [
                                            [
                                                [
                                                    49,
                                                    1
                                                ],
                                                [
                                                    49,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "36": {
                                        "refs": [
                                            [
                                                [
                                                    50,
                                                    1
                                                ],
                                                [
                                                    50,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "37": {
                                        "refs": [
                                            [
                                                [
                                                    51,
                                                    1
                                                ],
                                                [
                                                    51,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    52,
                                                    1
                                                ],
                                                [
                                                    52,
                                                    74
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    53,
                                                    1
                                                ],
                                                [
                                                    53,
                                                    57
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    54,
                                                    1
                                                ],
                                                [
                                                    54,
                                                    34
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    55,
                                                    1
                                                ],
                                                [
                                                    55,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    56,
                                                    1
                                                ],
                                                [
                                                    56,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    57,
                                                    1
                                                ],
                                                [
                                                    57,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    58,
                                                    1
                                                ],
                                                [
                                                    58,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    59,
                                                    1
                                                ],
                                                [
                                                    59,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    60,
                                                    1
                                                ],
                                                [
                                                    60,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    61,
                                                    1
                                                ],
                                                [
                                                    61,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    62,
                                                    1
                                                ],
                                                [
                                                    62,
                                                    33
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    63,
                                                    1
                                                ],
                                                [
                                                    63,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "52": {
                                        "refs": [
                                            [
                                                [
                                                    66,
                                                    1
                                                ],
                                                [
                                                    66,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "53": {
                                        "refs": [
                                            [
                                                [
                                                    67,
                                                    1
                                                ],
                                                [
                                                    67,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "54": {
                                        "refs": [
                                            [
                                                [
                                                    68,
                                                    1
                                                ],
                                                [
                                                    68,
                                                    35
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    69,
                                                    1
                                                ],
                                                [
                                                    69,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    70,
                                                    1
                                                ],
                                                [
                                                    70,
                                                    56
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    71,
                                                    1
                                                ],
                                                [
                                                    71,
                                                    61
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    72,
                                                    1
                                                ],
                                                [
                                                    72,
                                                    44
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    73,
                                                    1
                                                ],
                                                [
                                                    73,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    74,
                                                    1
                                                ],
                                                [
                                                    74,
                                                    50
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    75,
                                                    1
                                                ],
                                                [
                                                    75,
                                                    78
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    76,
                                                    1
                                                ],
                                                [
                                                    76,
                                                    58
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    77,
                                                    1
                                                ],
                                                [
                                                    77,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    78,
                                                    1
                                                ],
                                                [
                                                    78,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    79,
                                                    1
                                                ],
                                                [
                                                    79,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    80,
                                                    1
                                                ],
                                                [
                                                    80,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    81,
                                                    1
                                                ],
                                                [
                                                    81,
                                                    49
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    82,
                                                    1
                                                ],
                                                [
                                                    82,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "71": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "72": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "73": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "78": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "79": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    39
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "84": {
                                        "refs": [
                                            [
                                                [
                                                    112,
                                                    1
                                                ],
                                                [
                                                    112,
                                                    2
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "89": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "90": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "91": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "92": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "93": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "94": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "95": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "96": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "97": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "98": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "99": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "100": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "101": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "102": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "103": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "104": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "105": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "106": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "107": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "108": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "109": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    49
                                                ],
                                                [
                                                    5,
                                                    91
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    59
                                                ],
                                                [
                                                    5,
                                                    77
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    43
                                                ],
                                                [
                                                    5,
                                                    126
                                                ]
                                            ],
                                            [
                                                [
                                                    5,
                                                    198
                                                ],
                                                [
                                                    5,
                                                    235
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "113": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "114": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "115": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "116": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "117": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "118": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "119": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "120": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "121": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "122": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "123": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "124": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "125": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "126": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "127": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "128": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "129": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "130": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "131": {
                                        "refs": [
                                            [
                                                [
                                                    5,
                                                    183
                                                ],
                                                [
                                                    5,
                                                    193
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "135": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "136": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "137": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "138": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "139": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "140": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "141": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "142": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "143": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "144": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "145": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "146": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "147": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "148": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "149": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "150": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "151": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "152": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "153": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    133
                                                ],
                                                [
                                                    7,
                                                    167
                                                ]
                                            ],
                                            [
                                                [
                                                    7,
                                                    167
                                                ],
                                                [
                                                    7,
                                                    175
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "157": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "158": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "159": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "160": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "161": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "162": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "163": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "164": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "165": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "166": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "167": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "168": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "169": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "170": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "171": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "172": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "173": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "174": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "175": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    109
                                                ],
                                                [
                                                    7,
                                                    124
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "181": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "182": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "183": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "184": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    7,
                                                    203
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "187": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "188": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "189": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "190": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [
                                    "LoanBook",
                                    "ReturnBook",
                                    "ExtendLoan",
                                    "ReserveBook"
                                ],
                                "readModelNames": [
                                    "LoanStatusList",
                                    "LoanDetail",
                                    "SearchBookForLoan"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanAndReservation (대출/반납 및 예약)\n\n## Role\n회원의 도서 대출, 반납, 연장, 예약을 관리하고 도서 상태 변경을 트리거한다.\n\n## Key Events\n- BookLoaned\n- BookReserved\n- BookReturned\n- LoanExtended\n\n# Requirements\n\n## userStory\n\n대출/반납을 통합적으로 관리하는\n\n대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할\n\n예약\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납\n\n연장\n\n대출 이력과 상태\n\n## DDL\n\n```sql\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n```\n```sql\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n```\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n```\n## Event\n\n```json\n{\n  \"name\": \"BookLoaned\",\n  \"displayName\": \"도서 대출됨\",\n  \"actor\": \"Member\",\n  \"level\": 4,\n  \"description\": \"회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"이름\",\n    \"도서 식별자\",\n    \"대출 기간(7/14/30일)\"\n  ],\n  \"outputs\": [\n    \"대출 정보\",\n    \"도서 상태: 대출중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReserved\",\n  \"displayName\": \"도서 예약됨\",\n  \"actor\": \"Member\",\n  \"level\": 5,\n  \"description\": \"회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"예약 정보\",\n    \"도서 상태: 예약중\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"ReservationHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"BookReturned\",\n  \"displayName\": \"도서 반납됨\",\n  \"actor\": \"Member\",\n  \"level\": 6,\n  \"description\": \"회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\"\n  ],\n  \"outputs\": [\n    \"도서 상태: 대출가능 또는 예약중\",\n    \"반납 처리 정보\"\n  ],\n  \"nextEvents\": [\n    \"BookStatusChanged\",\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n```json\n{\n  \"name\": \"LoanExtended\",\n  \"displayName\": \"대출 연장됨\",\n  \"actor\": \"Member\",\n  \"level\": 7,\n  \"description\": \"회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.\",\n  \"inputs\": [\n    \"회원번호\",\n    \"도서 식별자\",\n    \"연장 기간\"\n  ],\n  \"outputs\": [\n    \"갱신된 대출 정보\",\n    \"새 반납 예정일\"\n  ],\n  \"nextEvents\": [\n    \"LoanHistoryRecorded\"\n  ]\n}\n```\n\n## Context Relations\n\n### BookManagement-LoanAndReservation\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 상태 변경(대출가능, 대출중, 예약중, 폐기 등)이 발생하면 대출/반납 및 예약 컨텍스트에서 이를 구독하여 대출/예약 프로세스에 반영한다.\n- **Interaction Pattern**: 도서 관리에서 도서 상태 변경 이벤트를 발행하면 대출/반납 및 예약 컨텍스트가 이를 구독하여 처리한다.\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: sends to 이력 관리 (LoanHistory)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다."
                    },
                    "LoanHistory": {
                        "structure": [
                            {
                                "aggregate": {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ],
                                        [
                                            [
                                                99,
                                                14
                                            ],
                                            [
                                                99,
                                                27
                                            ]
                                        ],
                                        [
                                            [
                                                100,
                                                1
                                            ],
                                            [
                                                100,
                                                46
                                            ]
                                        ],
                                        [
                                            [
                                                101,
                                                1
                                            ],
                                            [
                                                101,
                                                25
                                            ]
                                        ],
                                        [
                                            [
                                                102,
                                                1
                                            ],
                                            [
                                                102,
                                                64
                                            ]
                                        ],
                                        [
                                            [
                                                103,
                                                1
                                            ],
                                            [
                                                103,
                                                51
                                            ]
                                        ],
                                        [
                                            [
                                                104,
                                                1
                                            ],
                                            [
                                                104,
                                                36
                                            ]
                                        ],
                                        [
                                            [
                                                105,
                                                1
                                            ],
                                            [
                                                105,
                                                31
                                            ]
                                        ],
                                        [
                                            [
                                                106,
                                                1
                                            ],
                                            [
                                                106,
                                                15
                                            ]
                                        ],
                                        [
                                            [
                                                107,
                                                1
                                            ],
                                            [
                                                107,
                                                30
                                            ]
                                        ],
                                        [
                                            [
                                                108,
                                                1
                                            ],
                                            [
                                                108,
                                                52
                                            ]
                                        ],
                                        [
                                            [
                                                109,
                                                1
                                            ],
                                            [
                                                109,
                                                32
                                            ]
                                        ],
                                        [
                                            [
                                                110,
                                                1
                                            ],
                                            [
                                                110,
                                                40
                                            ]
                                        ],
                                        [
                                            [
                                                111,
                                                1
                                            ],
                                            [
                                                111,
                                                9
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "LoanActionType",
                                        "alias": "대출 이력 액션 유형",
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    5
                                                ],
                                                [
                                                    102,
                                                    52
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "LoanReference",
                                        "alias": "대출 참조",
                                        "referencedAggregate": {
                                            "name": "Loan",
                                            "alias": "대출"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    11
                                                ]
                                            ],
                                            [
                                                [
                                                    108,
                                                    5
                                                ],
                                                [
                                                    108,
                                                    51
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ]
                            },
                            {
                                "aggregate": {
                                    "name": "ReservationHistory",
                                    "alias": "예약 이력",
                                    "refs": [
                                        [
                                            [
                                                9,
                                                8
                                            ],
                                            [
                                                9,
                                                67
                                            ]
                                        ],
                                        [
                                            [
                                                9,
                                                15
                                            ],
                                            [
                                                9,
                                                65
                                            ]
                                        ]
                                    ]
                                },
                                "enumerations": [
                                    {
                                        "name": "ReservationActionType",
                                        "alias": "예약 이력 액션 유형",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "valueObjects": [
                                    {
                                        "name": "Reservation",
                                        "alias": "예약",
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "name": "BookReference",
                                        "alias": "도서 참조",
                                        "referencedAggregate": {
                                            "name": "Book",
                                            "alias": "도서"
                                        },
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "previewAttributes": []
                            }
                        ],
                        "pros": {
                            "cohesion": "대출 이력과 예약 이력을 별도의 Aggregate로 분리하여 각 도메인 책임이 명확하게 구분된다.",
                            "coupling": "Loan, Reservation, Book 등 외부 Aggregate와의 참조가 ValueObject로 일관되게 관리되어 결합도가 낮다.",
                            "consistency": "각 이력의 트랜잭션 경계가 명확하여, 대출/예약 이벤트 발생 시 이력 기록의 원자성이 보장된다.",
                            "encapsulation": "이력별 도메인 규칙과 상태 전이가 Aggregate 내부에 잘 은닉되어 있다.",
                            "complexity": "각 Aggregate가 단일 책임 원칙을 따르므로 도메인 복잡도가 낮고 유지보수가 용이하다.",
                            "independence": "대출 이력과 예약 이력이 독립적으로 진화 및 확장될 수 있다.",
                            "performance": "이력별로 데이터 접근이 분리되어 대량 데이터 조회 시 성능 저하가 적다."
                        },
                        "cons": {
                            "cohesion": "이력 데이터가 분산되어 있어 복합 이력 조회(예: 대출과 예약 이력 동시 조회) 시 추가 조인이 필요하다.",
                            "coupling": "이력 간 연관 이벤트 처리 시 애플리케이션 서비스 계층에서 조정 로직이 필요하다.",
                            "consistency": "복합 이력 동기화가 필요한 경우 트랜잭션 경계가 Aggregate 단위로 분리되어 있어 일관성 유지가 복잡해질 수 있다.",
                            "encapsulation": "이력 간 공통 규칙(예: 동일 도서에 대한 이력 통합 관리)이 Aggregate 외부에서 처리되어야 한다.",
                            "complexity": "이력 유형이 추가될 경우 Aggregate가 계속 늘어나 도메인 구조가 복잡해질 수 있다.",
                            "independence": "복합 이력 분석이나 통계 기능 개발 시 Aggregate 간 데이터 통합이 필요하다.",
                            "performance": "복합 이력 조회 시 여러 테이블을 조인해야 하므로 단일 이력에 비해 조회 성능이 저하될 수 있다."
                        },
                        "isAIRecommended": false,
                        "boundedContext": {
                            "name": "LoanHistory",
                            "alias": "이력 관리",
                            "displayName": "이력 관리",
                            "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                            "aggregates": [
                                {
                                    "name": "LoanHistory",
                                    "alias": "대출 이력"
                                },
                                {
                                    "name": "ReservationHistory",
                                    "alias": "예약 이력"
                                }
                            ],
                            "requirements": {
                                "userStory": "대출 이력\n상태 변경",
                                "ddl": "CREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX",
                                "event": "{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        8\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": [],\n  \"refs\": [\n    [\n      [\n        9,\n        15\n      ],\n      [\n        9,\n        65\n      ]\n    ]\n  ]\n}",
                                "eventNames": "LoanHistoryRecorded, ReservationHistoryRecorded 이벤트가 발생할 수 있어.",
                                "ddlFields": [
                                    {
                                        "fieldName": "history_id",
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    5
                                                ],
                                                [
                                                    100,
                                                    45
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "loan_id",
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    5
                                                ],
                                                [
                                                    101,
                                                    24
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "action_date",
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    5
                                                ],
                                                [
                                                    103,
                                                    50
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "previous_due_date",
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    5
                                                ],
                                                [
                                                    104,
                                                    35
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "new_due_date",
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    5
                                                ],
                                                [
                                                    105,
                                                    30
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "notes",
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    5
                                                ],
                                                [
                                                    106,
                                                    14
                                                ]
                                            ]
                                        ]
                                    },
                                    {
                                        "fieldName": "processed_by",
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    5
                                                ],
                                                [
                                                    107,
                                                    29
                                                ]
                                            ]
                                        ]
                                    }
                                ],
                                "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다.",
                                "traceMap": {
                                    "4": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "7": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "8": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "14": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    5
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "16": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    5
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "21": {
                                        "refs": [
                                            [
                                                [
                                                    99,
                                                    1
                                                ],
                                                [
                                                    99,
                                                    27
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "22": {
                                        "refs": [
                                            [
                                                [
                                                    100,
                                                    1
                                                ],
                                                [
                                                    100,
                                                    46
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "23": {
                                        "refs": [
                                            [
                                                [
                                                    101,
                                                    1
                                                ],
                                                [
                                                    101,
                                                    25
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "24": {
                                        "refs": [
                                            [
                                                [
                                                    102,
                                                    1
                                                ],
                                                [
                                                    102,
                                                    64
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "25": {
                                        "refs": [
                                            [
                                                [
                                                    103,
                                                    1
                                                ],
                                                [
                                                    103,
                                                    51
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "26": {
                                        "refs": [
                                            [
                                                [
                                                    104,
                                                    1
                                                ],
                                                [
                                                    104,
                                                    36
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "27": {
                                        "refs": [
                                            [
                                                [
                                                    105,
                                                    1
                                                ],
                                                [
                                                    105,
                                                    31
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "28": {
                                        "refs": [
                                            [
                                                [
                                                    106,
                                                    1
                                                ],
                                                [
                                                    106,
                                                    15
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "29": {
                                        "refs": [
                                            [
                                                [
                                                    107,
                                                    1
                                                ],
                                                [
                                                    107,
                                                    30
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "30": {
                                        "refs": [
                                            [
                                                [
                                                    108,
                                                    1
                                                ],
                                                [
                                                    108,
                                                    52
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "31": {
                                        "refs": [
                                            [
                                                [
                                                    109,
                                                    1
                                                ],
                                                [
                                                    109,
                                                    32
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "32": {
                                        "refs": [
                                            [
                                                [
                                                    110,
                                                    1
                                                ],
                                                [
                                                    110,
                                                    40
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "33": {
                                        "refs": [
                                            [
                                                [
                                                    111,
                                                    1
                                                ],
                                                [
                                                    111,
                                                    9
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": true
                                    },
                                    "38": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "39": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "40": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "41": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "42": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "43": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "44": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "45": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "46": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "47": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "48": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "49": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "50": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "51": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    8
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "55": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "56": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "57": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "58": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "59": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "60": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "61": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "62": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "63": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "64": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "65": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "66": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "67": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "68": {
                                        "refs": [
                                            [
                                                [
                                                    9,
                                                    15
                                                ],
                                                [
                                                    9,
                                                    65
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "74": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "75": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "76": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "77": {
                                        "refs": [
                                            [
                                                [
                                                    7,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "80": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "81": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "82": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    },
                                    "83": {
                                        "refs": [
                                            [
                                                [
                                                    3,
                                                    1
                                                ],
                                                [
                                                    9,
                                                    67
                                                ]
                                            ]
                                        ],
                                        "isDirectMatching": false
                                    }
                                },
                                "commandNames": [],
                                "readModelNames": [
                                    "BookLoanHistory",
                                    "BookStatusChangeHistory"
                                ]
                            }
                        },
                        "description": "# Bounded Context Overview: LoanHistory (이력 관리)\n\n## Role\n도서별 대출 및 예약 이력, 상태 변경 이력을 기록하고 조회할 수 있도록 한다.\n\n## Key Events\n- LoanHistoryRecorded\n- ReservationHistoryRecorded\n\n# Requirements\n\n## userStory\n\n대출 이력\n\n상태 변경\n\n## DDL\n\n```sql\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX\n```\n## Event\n\n```json\n{\n  \"name\": \"LoanHistoryRecorded\",\n  \"displayName\": \"대출 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 8,\n  \"description\": \"도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"대출/반납/연장 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"대출 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n```json\n{\n  \"name\": \"ReservationHistoryRecorded\",\n  \"displayName\": \"예약 이력 기록됨\",\n  \"actor\": \"System\",\n  \"level\": 9,\n  \"description\": \"도서 예약 관련 이력이 시스템에 기록됨.\",\n  \"inputs\": [\n    \"예약 이벤트 정보\"\n  ],\n  \"outputs\": [\n    \"예약 이력 데이터\"\n  ],\n  \"nextEvents\": []\n}\n```\n\n## Context Relations\n\n### LoanAndReservation-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 대출/반납 및 예약 (LoanAndReservation)\n- **Reason**: 대출, 반납, 연장, 예약 등 이벤트 발생 시 이력 관리 컨텍스트에서 해당 이벤트를 구독하여 이력을 기록한다.\n- **Interaction Pattern**: 대출/반납 및 예약에서 대출/반납/연장/예약 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 이력 데이터를 생성한다.\n\n### BookManagement-LoanHistory\n- **Type**: Pub/Sub\n- **Direction**: receives from 도서 관리 (BookManagement)\n- **Reason**: 도서 등록, 폐기 등 도서 상태 변화 이력도 이력 관리 컨텍스트에서 기록할 수 있도록 이벤트를 발행한다.\n- **Interaction Pattern**: 도서 관리에서 도서 등록, 폐기 등 상태 변화 이벤트를 발행하면 이력 관리 컨텍스트가 이를 구독하여 상태 변경 이력을 기록한다."
                    }
                }
            }
        ],
        "frontEndResults": [],
        "pbcResults": [],
        "pbcLists": [
            {
                "name": "chat-vue3-en",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "Chat service (Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat System Overview <br>\nThe PBC Chat system is designed to handle all chat-related tasks efficiently and securely. It provides a robust framework for chat room creation, conversation history storage, and retrieval. The system ensures seamless integration with Supabase and offers a user-friendly interface for both developers and users. Specifically optimized for Vue3-based environments, it delivers a smooth and responsive user experience utilizing modern web technologies. Through this integration, it offers various chat options and leverages Supabase's unique features to provide an optimal chat experience. The PBC Chat system ensures both reliability and scalability while offering users more diverse options to make the chat process smoother and more convenient.\n\n## Available Features\n### 1) Chat Room Creation <br>\n  Enables users to create chat rooms through various supported methods, ensuring a safe and fast chat environment.\n\n### 2) Conversation History Storage <br>\n  Provides functionality to securely store and manage all conversation history using Supabase.\n\n### 3) Conversation History Retrieval <br>\n  Allows users to view detailed records of past conversations, providing information including chat status and timestamps.\n\n## Usage Guide\n\n### 1) Analysis/Design\n1. Double-click the applied PBC's bounded context area to activate the PBC panel.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<Example of PBC Panel Creation>\n\n2. From the PBC panel options, select the event storming stickers corresponding to the features you want to use from reading elements, command elements, and event elements.\n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Example of Panel Sticker Option Selection>\n\n### 2) Implementation\n1. After closing the panel, click CODE to preview the event storming-based generated code.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. In the generated code, click on the selected PBC folder > README.md to check the source code usage instructions.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<Example of PBC README.md File>\n\n3. After loading the source code in your IDE environment, follow the README instructions to download and extract the files, then verify that the downloaded PBC has been created in your source code.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<Example of PBC Source Code Download>\n\n4. To avoid port conflicts, modify the port appropriately in application.yml (payment/src/main/resources/application.yml).\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<Example of PBC Port Modification>\n",
                "id": 19,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3-en/blob/main/model.json"
            },
            {
                "name": "review",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/fec3779d-2eb8-40bb-8a07-1a03ee120f6f",
                "description": "review",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Review 시스템 개요\nPBC Review 시스템은 모든 리뷰 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 리뷰 등록, 평점 등록 및 조회를 위한 견고한 프레임워크를 제공합니다. 사용자 친화적인 인터페이스를 통해 특정 정보에 대한 평점과 리뷰를 쉽게 남길 수 있도록 지원합니다. 이러한 기능을 통해 다양한 리뷰 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 리뷰 과정을 제공합니다. PBC Review 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 리뷰 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 리뷰 등록 <br>\n  사용자가 특정 정보에 대한 리뷰를 쉽게 등록할 수 있도록 하며, 안전하고 빠른 리뷰 환경을 보장합니다.\n\n### 2) 평점 등록 <br>\n  사용자 친화적인 인터페이스를 통해 사용자가 평점을 등록할 수 있는 기능을 제공합니다.\n\n### 3) 리뷰 및 평점 조회 <br>\n  등록된 모든 리뷰와 평점을 서비스를 이용하는 모든 사용자가 확인할 수 있도록 하는 기능을 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1422\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f1e557a5-7ac9-44d0-9ba2-30fd6fa11ba8\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"767\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b255acd-934d-4565-8981-b16a2fe7e087\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"509\" alt=\"image\" src=\"https://github.com/user-attachments/assets/717d6253-1f07-43f7-b949-6bd7350e459b\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인하여 사용할 수 있습니다.\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/699bda6a-7167-4c50-98b4-1afe1ccb1607\" /> <br>\n<PBC README.md 파일 예시>\n",
                "id": 21,
                "pbcPath": "https://github.com/msa-ez/pbc-review/blob/main/model.json"
            },
            {
                "name": "reservation-notification",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 22,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification/blob/main/model.json"
            },
            {
                "name": "reservation-notification-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/88a59203-26e6-4f9e-8349-169b8737ef8a",
                "description": "예약 & 알림 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Alarm 시스템 개요\nPBC Alarm 시스템은 모든 알림 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 즉각 알람 발송 및 예약 알림 발송을 위한 견고한 프레임워크를 제공합니다. SSE(Server-Sent Events) 기반의 기술을 활용하여 실시간으로 알림을 전송하며, 사용자 친화적인 인터페이스를 통해 알림 설정을 쉽게 관리할 수 있도록 지원합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 기능을 통해 다양한 알림 옵션을 제공하고, 사용자 경험을 최적화하여 보다 매끄럽고 편리한 알림 과정을 제공합니다. PBC Alarm 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 알림 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 즉각 알람 발송 <br>\n  SSE 기반의 기술을 통해 사용자가 즉각적인 알람을 받을 수 있도록 하며, 안전하고 빠른 알림 환경을 보장합니다.\n\n### 2) 예약 알림 발송 <br>\n  사용자가 정해진 날짜와 시간에 알림을 설정할 수 있는 기능을 제공하여, 예약된 알림을 정확하게 발송할 수 있도록 지원합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 23,
                "pbcPath": "https://github.com/msa-ez/pbc-reservation-notification-vue3/blob/main/model.json"
            },
            {
                "name": "chat-vue3",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스(Vue3)",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 특히, Vue3 기반 환경에서 원활하게 동작하도록 최적화되어 있어, 최신 웹 기술을 활용한 매끄럽고 반응성 높은 사용자 경험을 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 24,
                "pbcPath": "https://github.com/msa-ez/pbc-chat-vue3/blob/main/model.json"
            },
            {
                "name": "chat",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/caa875dd-dc2c-402f-8d6b-66431c45cd6c",
                "description": "채팅 서비스",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC Chat 시스템 개요 <br>\nPBC Chat 시스템은 모든 채팅 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 채팅방 생성, 대화 내역 저장 및 조회를 위한 견고한 프레임워크를 제공합니다. Supabase와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 채팅 옵션을 제공하고, Supabase의 고유한 기능을 활용하여 최적의 채팅 경험을 제공합니다. PBC Chat 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 채팅 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n### 1) 채팅방 생성 <br>\n  다양한 지원 방법을 통해 사용자가 채팅방을 생성할 수 있도록 하며, 안전하고 빠른 채팅 환경을 보장합니다.\n\n### 2) 대화 내역 저장 <br>\n  Supabase를 사용하여 모든 대화 내역을 안전하게 저장하고 관리할 수 있는 기능을 제공합니다.\n\n### 3) 대화 내역 조회 <br>\n  과거 대화의 상세 기록을 사용자가 볼 수 있도록 하여, 채팅 상태 및 타임스탬프를 포함한 정보를 제공합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n",
                "id": 25,
                "pbcPath": "https://github.com/msa-ez/pbc-chat/blob/main/model.json"
            },
            {
                "name": "payment-system",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/7577d207-dec2-4421-9f4d-754efea9f41d",
                "description": "결제를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## PBC 결제 시스템 개요 <br>\nPBC 결제 시스템은 모든 결제 관련 작업을 효율적이고 안전하게 처리하도록 설계되었습니다. 이 시스템은 결제 처리, 취소 관리, 거래 내역 조회를 위한 견고한 프레임워크를 제공합니다. 다양한 결제 게이트웨이(PG사)와의 원활한 통합을 보장하며, 개발자와 사용자 모두에게 사용자 친화적인 인터페이스를 제공합니다. 이러한 통합을 통해 다양한 결제 옵션을 제공하고, 각 게이트웨이의 고유한 기능을 활용하여 최적의 결제 경험을 제공합니다. PBC 결제 시스템은 신뢰성과 확장성을 동시에 확보하며, 사용자에게 보다 다양한 선택지를 제공하여 결제 과정을 더욱 매끄럽고 편리하게 만듭니다.\n\n## 사용 가능한 기능\n\n### 1) 결제 처리 <br>\n  다양한 지원 방법을 통해 사용자가 결제를 할 수 있도록 하며, 안전하고 빠른 거래를 보장합니다.\n\n### 2) 결제 취소 <br>\n   전체 또는 부분 환불 옵션을 통해 결제를 취소할 수 있는 기능을 제공합니다.\n\n### 3) 거래 내역 조회 <br>\n   결제 상태 및 타임스탬프를 포함한 과거 거래의 상세 기록을 사용자가 볼 수 있도록 합니다.\n\n## 사용 방법\n\n### 1) 분석/설계\n1. 적용한 PBC의 바운디드 컨텍스트 영역을 더블 클릭하여 PBC 패널을 활성화 합니다.\n\n<img width=\"1275\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69cebda6-8334-4945-b0b7-7b061ad6c064\" /> <br>\n<PBC Panel 생성 예시>\n\n2. PBC 패널 옵션중 읽기 요소, 커맨드 요소, 이벤트 요소에서 각각 사용할 기능에 해당하는 이벤트스토밍 스티커를 선택합니다. \n\n<img width=\"435\" alt=\"image\" src=\"https://github.com/user-attachments/assets/22365ca1-139f-4582-a95f-bb425bb61383\" /> <br>\n<Panel 스티커 옵션 선택 예시>\n\n* 결제를 통한 결제정보 업데이트와 같은 다른 마이크로서비스와의 통신이 발생할 경우\n  Event - Policy Relation을 연결해야합니다.\n\n  예시) 결제성공을 통한 주문 애그리거트의 결제정보 변경\n  \n  <img width=\"823\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cfaa6b70-a489-42eb-8c18-823b8c9ed7dc\" /> <br>\n  \n\n### 2) 구현\n1. 패널을 닫은 후, CODE를 클릭하여 코드 프리뷰를 통해 이벤트스토밍기반 생성된 코드를 확인합니다.\n<img width=\"714\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d3f35e7-30cb-483d-a3b5-2fd099101ed4\" /> <br>\n\n2. 생성된 코드에서 선택한 PBC 폴더 > README.md를 클릭하여 소스코드 사용방법을 확인합니다.\n<img width=\"716\" alt=\"image\" src=\"https://github.com/user-attachments/assets/324887ab-53b3-4bd9-b8ba-823a62bcf764\" /> <br>\n<PBC README.md 파일 예시>\n\n3. IDE환경에서 소스코드를 Load한 후, README를 참고하여 다운로드 > 압축 해제를 진행하여 소스코드에 다운로드 받은 PBC가 생성되었는지 확인합니다.\n<img width=\"741\" alt=\"image\" src=\"https://github.com/user-attachments/assets/037b4ac3-dc03-4b96-9d83-dd049629d24f\" /> <br>\n<PBC 소스코드 다운 예시>\n\n4. port 충돌을 고려해 application.yml(payment/src/main/resources/application.yml)의 port를 적절하게 변경합니다.\n<img width=\"290\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8809f047-3cc4-4e66-932e-9f89f6f8df5b\" /> <br>\n<PBC Port 변경 예시>\n\n6. 이후, EDA기반 통신이 이루어지도록 다른 마이크로서비스와 topic명을 일치 시키기 위해 destination을 수정합니다.\n<img width=\"314\" alt=\"image\" src=\"https://github.com/user-attachments/assets/634d95ea-3d50-43e2-8d95-2a42a51de390\" /> <br>\n\n7. Frontend도 동일하게 package.json(frontend/package.json)의 'start'에 명시된 port number를 변경합니다.\n<img width=\"366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c750e392-c186-4d25-a8a1-2c088a412468\" /> <br>\n\n8. 아래 커맨드를 통해 Payment system의 backend, frontend를 기동합니다.\n```\n// 1. payment Backend\n\n// Root 기준\ncd payment-system-0-0-6\ncd payment\nmvn spring-boot:run\n\n// 2. payment Frontend\n\n// Root 기준\ncd frontend\nnpm install\nnpm run build\nnpm run start\n```\n\n8. Payment system의 Gateway 라우팅 설정을 진행하기 위해 application.yml(gateway/src/resources/application.yml)에 라우팅을 설정합니다.\n<img width=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/884ee895-b385-43be-aa37-7626b1d70056\" /> <br>\n\n9. Root에 위치한 Frontend에 web component 등록을 위해 index.html(frontend/public/index.html)에 Payment system의 17line에 아래와 같이 등록합니다.\n```\n<script src=\"<Payment system의 Frontend Url>/payment-system-app.js\"></script>\n```\n<img width=\"1013\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8a5e7b96-facd-4c0b-9e65-387c198a2d80\" /> <br>\n\n10. Payment system을 SingleSPA로 동작하기 위해 Component의 \\<template>과 <script>에 다음과 같이 코드를 생성합니다.\n```\n// template\n<template>\n  <payment-system-app>\n      <payment-system\n          service-type=\"<payment-system frontend의 Payment.vue에 생성된 타입 ex) pay, refund, receipt...>\"\n          :request-info=\"JSON.stringify(paymentData)\" \n          buyer-info-mode=\"<결제 detail 정보 옵션 ex) true, false>\"\n      ></payment-system>\n  </payment-system-app>\n</template>\n\n// script\ndata: () => ({\n  snackbar: {\n    paymentData: null,\n}),\nasync created() {\n  if(!this.paymentData){\n    this.paymentData = {\n      itemId : this.decode(this.value._links.self.href.split(\"/\")[this.value._links.self.href.split(\"/\").length - 1]),\n      price: , // 직접 설정\n      name: \"\", // 직접 설정\n      buyerId: \"\", // 직접 설정\n      buyerEmail: \"\", // 직접 설정\n      buyerTel: \"\", // 직접 설정\n      buyerName: \"\" // 직접 설정\n    }\n  }\n}\n```\n\nPayment system에 대한 설정이 완료되면 Root Frontend UI에 아래와 같이 Payment system에 대한 UI가 생성됩니다. <br>\n![image](https://github.com/user-attachments/assets/5792ce28-b318-4ed8-b65d-d908fb1524ec) <br>\n\n",
                "id": 26,
                "pbcPath": "https://github.com/msa-ez/pbc-payment-system/blob/main/model.json"
            },
            {
                "name": "document-management",
                "rating": 5,
                "imageUrl": "https://github.com/user-attachments/assets/533ae0ee-e901-49f6-b1fe-ed24cc9e2626",
                "description": "파일관리를 위한 공통 기능",
                "tags": [
                    "COMMON"
                ],
                "instruction": "### Instruction\n",
                "id": 30,
                "pbcPath": "https://github.com/msa-ez/pbc-document-management/blob/main/model.json"
            },
            {
                "name": "gitlab",
                "rating": 5,
                "imageUrl": null,
                "description": "openapi.yaml",
                "tags": [
                    "COMMON"
                ],
                "instruction": "## instruction\n",
                "id": 34,
                "pbcPath": "https://github.com/msa-ez/pbc-gitlab/blob/main/openapi.yaml"
            },
            {
                "name": "PBC-Test",
                "rating": 5,
                "imageUrl": "https://github.com/msa-ez/template-spring-boot-3/assets/123912988/a901ad8f-7548-42db-b4a4-67a34bfd9279",
                "description": "Framework for rapidly and easily developing Java-based web applications.",
                "tags": [
                    "PBC"
                ],
                "instruction": "### Spring Boot is a popular framework in the Java ecosystem for building microservices and web applications. Here are some of the key advantages of Spring Boot:\n\n#### Rapid Development: Spring Boot offers a range of out-of-the-box functionalities and default configurations, which helps in quick application development without much boilerplate code.\n\n#### Standalone: Spring Boot applications are standalone and web servers can be embedded in the application. This means applications can be run from the command line without needing an external server.\n\n#### Production Ready: It comes with built-in features like health checks and metrics, which makes it easy to monitor and manage production applications.\n\n#### Opinionated Defaults: Spring Boot gives you a set of default settings, libraries, and configurations so you can get started without needing to figure out what's the best way to set up a Spring application.\n\n#### Microservices Ready: Spring Boot works seamlessly with Spring Cloud, making it a natural choice for building microservices applications.\n\n#### No Code Generation: Spring Boot does not generate code and there is absolutely zero requirement for XML configuration.\n\n#### Customizable: While it provides a lot of default configurations, settings, and libraries, these can easily be overridden and customized as per the requirements.\n\n#### Spring Ecosystem: It integrates seamlessly with other Spring modules like Spring Data, Spring Security, and Spring Batch.\n\n#### Rich Developer Tools: Spring Boot includes an array of tools to improve the productivity of developers, such as the Spring Boot Initializr for bootstrapping a new project and the Actuator for introspecting and managing your application.\n\n#### Embedded Server Support: It supports embedded servers like Tomcat, Jetty, and Undertow, which reduces the need for external server setup.\n\n#### Wide Range of Plugins: Spring Boot offers a wide range of built-in plugins for developers, facilitating tasks such as creating executable JARs and WARs.\n\n#### Active Community: Spring Boot has a very active community which means that it's continuously updated, and developers can get support from community members, forums, and blogs.\n\n#### Extensive Documentation: Spring Boot provides comprehensive documentation, making it easier for developers to understand, adopt, and troubleshoot.\n",
                "id": 35,
                "pbcPath": "https://github.com/msa-ez/pbc-testRepo/blob/main/openapi.yaml"
            }
        ],
        "projectInfo": {
            "author": "EYCl46CwWAWvpz2E1BCUpVgPIpa2",
            "authorEmail": "shinseongjin@uengine.org",
            "comment": "",
            "createdTimeStamp": 1758765106561,
            "inputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "lastModifiedTimeStamp": 1758765106561,
            "projectId": "163972132_project_7339a13846cce7d2c16bc3db85f10593",
            "projectName": "",
            "prompt": "",
            "summarizedResult": "",
            "type": "project",
            "usedInputDDL": "-- 회원 테이블\nCREATE TABLE members (\n    member_id VARCHAR(20) PRIMARY KEY,\n    member_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    email VARCHAR(100),\n    address TEXT,\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('ACTIVE', 'INACTIVE', 'SUSPENDED') DEFAULT 'ACTIVE',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- 도서 테이블\nCREATE TABLE books (\n    book_id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(500) NOT NULL,\n    isbn VARCHAR(13) UNIQUE NOT NULL,\n    author VARCHAR(200) NOT NULL,\n    publisher VARCHAR(200) NOT NULL,\n    category ENUM('소설', '비소설', '학술', '잡지') NOT NULL,\n    status ENUM('대출가능', '대출중', '예약중', '폐기') DEFAULT '대출가능',\n    registration_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    disposal_date DATETIME NULL,\n    disposal_reason TEXT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_title (title),\n    INDEX idx_isbn (isbn),\n    INDEX idx_status (status),\n    INDEX idx_category (category)\n);\n\n-- 대출 테이블\nCREATE TABLE loans (\n    loan_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    loan_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_date DATETIME NOT NULL,\n    return_date DATETIME NULL,\n    loan_period_days INT NOT NULL CHECK (loan_period_days IN (7, 14, 30)),\n    status ENUM('대출중', '연체', '반납완료', '연장') DEFAULT '대출중',\n    extension_count INT DEFAULT 0,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_due_date (due_date)\n);\n\n-- 예약 테이블\nCREATE TABLE reservations (\n    reservation_id INT AUTO_INCREMENT PRIMARY KEY,\n    member_id VARCHAR(20) NOT NULL,\n    book_id INT NOT NULL,\n    reservation_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('예약중', '예약완료', '예약취소', '예약만료') DEFAULT '예약중',\n    notification_sent BOOLEAN DEFAULT FALSE,\n    expiry_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (member_id) REFERENCES members(member_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_member_id (member_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_status (status),\n    INDEX idx_reservation_date (reservation_date)\n);\n\n-- 도서 상태 변경 이력 테이블\nCREATE TABLE book_status_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    book_id INT NOT NULL,\n    previous_status ENUM('대출가능', '대출중', '예약중', '폐기'),\n    new_status ENUM('대출가능', '대출중', '예약중', '폐기') NOT NULL,\n    change_reason VARCHAR(200),\n    changed_by VARCHAR(100),\n    change_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    INDEX idx_book_id (book_id),\n    INDEX idx_change_date (change_date)\n);\n\n-- 대출 이력 테이블 (모든 대출 활동의 상세 로그)\nCREATE TABLE loan_history (\n    history_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    action_type ENUM('대출', '반납', '연장', '연체알림', '분실신고') NOT NULL,\n    action_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n    previous_due_date DATETIME NULL,\n    new_due_date DATETIME NULL,\n    notes TEXT,\n    processed_by VARCHAR(100),\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_action_type (action_type),\n    INDEX idx_action_date (action_date)\n);\n\n-- 연체 관리 테이블\nCREATE TABLE overdue_records (\n    overdue_id INT AUTO_INCREMENT PRIMARY KEY,\n    loan_id INT NOT NULL,\n    overdue_days INT NOT NULL,\n    fine_amount DECIMAL(10,2) DEFAULT 0.00,\n    fine_paid BOOLEAN DEFAULT FALSE,\n    notification_count INT DEFAULT 0,\n    last_notification_date DATETIME NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (loan_id) REFERENCES loans(loan_id),\n    INDEX idx_loan_id (loan_id),\n    INDEX idx_overdue_days (overdue_days)\n);",
            "usedUserStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n",
            "userStory": "도서관의 도서 관리와 대출/반납을 통합적으로 관리하는 화면을 만들려고 해.\n\n'도서 관리' 화면에서는 새로운 도서를 등록하고 현재 보유한 도서들의 상태를 관리할 수 있어야 해. 도서 등록 시에는 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받아야 해. ISBN은 13자리 숫자여야 하고 중복 확인이 필요해. 카테고리는 소설/비소설/학술/잡지 중에서 선택할 수 있어야 해. 등록된 도서는 처음에 '대출가능' 상태가 되고, 이후 대출/반납 상황에 따라 '대출중', '예약중' 상태로 자동으로 변경되어야 해. 도서가 훼손되거나 분실된 경우 '폐기' 처리가 가능해야 하며, 폐기된 도서는 더 이상 대출이 불가능해야 해.\n\n'대출/반납' 화면에서는 회원이 도서를 대출하고 반납하는 것을 관리할 수 있어야 해. 대출 신청 시에는 회원번호와 이름으로 회원을 확인하고, 대출할 도서를 선택해야 해. 도서는 도서명이나 ISBN으로 검색할 수 있어야 해. 대출 기간은 7일/14일/30일 중에서 선택할 수 있어. 만약 대출하려는 도서가 이미 대출 중이라면, 예약 신청이 가능해야 해. 대출이 완료되면 해당 도서의 상태는 자동으로 '대출중'으로 변경되어야 해.\n\n대출 현황 화면에서는 현재 대출 중인 도서들의 목록을 볼 수 있어야 해. 각 대출 건에 대해 대출일, 반납예정일, 현재 상태(대출중/연체/반납완료)를 확인할 수 있어야 하고, 대출 중인 도서는 연장이나 반납 처리가 가능해야 해. 도서가 반납되면 자동으로 해당 도서의 상태가 '대출가능'으로 변경되어야 해. 만약 예약자가 있는 도서가 반납되면, 해당 도서는 '예약중' 상태로 변경되어야 해.\n\n각 도서별로 대출 이력과 상태 변경 이력을 조회할 수 있어야 하고, 이를 통해 도서의 대출 현황과 상태 변화를 추적할 수 있어야 해.\n"
        },
        "requirementsValidationResult": {
            "type": "ANALYSIS_RESULT",
            "projectName": "Requirements Analysis",
            "content": {
                "elements": {
                    "d609b7ba-a17c-2b11-7229-857be7c15442": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "d609b7ba-a17c-2b11-7229-857be7c15442",
                        "name": "Librarian",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "d609b7ba-a17c-2b11-7229-857be7c15442",
                            "x": 150,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "aaaea731-76a8-cb6f-a3ea-22aebc7c2924": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "aaaea731-76a8-cb6f-a3ea-22aebc7c2924",
                        "name": "Member",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "aaaea731-76a8-cb6f-a3ea-22aebc7c2924",
                            "x": 150,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "171dca44-b5c0-17a3-2a2f-3746b2029347": {
                        "_type": "org.uengine.modeling.model.Actor",
                        "id": "171dca44-b5c0-17a3-2a2f-3746b2029347",
                        "name": "System",
                        "oldName": "",
                        "displayName": "",
                        "description": "",
                        "author": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Actor",
                            "id": "171dca44-b5c0-17a3-2a2f-3746b2029347",
                            "x": 150,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}"
                        },
                        "boundedContext": {}
                    },
                    "39e955bb-2889-13ee-43d6-f9c04704e8aa": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                        "visibility": "public",
                        "name": "BookRegistered",
                        "oldName": "",
                        "displayName": "도서 등록됨",
                        "namePascalCase": "BookRegistered",
                        "nameCamelCase": "bookRegistered",
                        "namePlural": "",
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                            "x": 300,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                            "x": 300,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "4006544a-46e2-20b3-091f-ace9dbf97109": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                        "visibility": "public",
                        "name": "BookDisposed",
                        "oldName": "",
                        "displayName": "도서 폐기됨",
                        "namePascalCase": "BookDisposed",
                        "nameCamelCase": "bookDisposed",
                        "namePlural": "",
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                            "x": 500,
                            "y": 150,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                            "x": 500,
                            "y": 150,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "33d20dfd-41e2-329f-f21e-d951acc196dc": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "visibility": "public",
                        "name": "BookStatusChanged",
                        "oldName": "",
                        "displayName": "도서 상태 변경됨",
                        "namePascalCase": "BookStatusChanged",
                        "nameCamelCase": "bookStatusChanged",
                        "namePlural": "",
                        "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "x": 300,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "x": 300,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "502ba06b-125d-e2ba-b615-073e706b6993": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                        "visibility": "public",
                        "name": "LoanHistoryRecorded",
                        "oldName": "",
                        "displayName": "대출 이력 기록됨",
                        "namePascalCase": "LoanHistoryRecorded",
                        "nameCamelCase": "loanHistoryRecorded",
                        "namePlural": "",
                        "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "x": 500,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "x": 500,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "f86575ae-5efb-bb6e-9570-f8b02222054f": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                        "visibility": "public",
                        "name": "ReservationHistoryRecorded",
                        "oldName": "",
                        "displayName": "예약 이력 기록됨",
                        "namePascalCase": "ReservationHistoryRecorded",
                        "nameCamelCase": "reservationHistoryRecorded",
                        "namePlural": "",
                        "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                            "x": 700,
                            "y": 650,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                            "x": 700,
                            "y": 650,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "2c5c3155-2cbe-acad-a41c-18c2ac2583ec": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                        "visibility": "public",
                        "name": "BookLoaned",
                        "oldName": "",
                        "displayName": "도서 대출됨",
                        "namePascalCase": "BookLoaned",
                        "nameCamelCase": "bookLoaned",
                        "namePlural": "",
                        "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "x": 300,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "x": 300,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "dae2e159-2892-5ae3-3f28-f7ca33ca3b86": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                        "visibility": "public",
                        "name": "BookReserved",
                        "oldName": "",
                        "displayName": "도서 예약됨",
                        "namePascalCase": "BookReserved",
                        "nameCamelCase": "bookReserved",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "x": 500,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "x": 500,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "259c838a-8e2b-4d53-e282-92e7b9f4c351": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                        "visibility": "public",
                        "name": "BookReturned",
                        "oldName": "",
                        "displayName": "도서 반납됨",
                        "namePascalCase": "BookReturned",
                        "nameCamelCase": "bookReturned",
                        "namePlural": "",
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "x": 700,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "x": 700,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    },
                    "7e5e2488-3c94-6b60-2dde-a60fb11834fa": {
                        "_type": "org.uengine.modeling.model.Event",
                        "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                        "visibility": "public",
                        "name": "LoanExtended",
                        "oldName": "",
                        "displayName": "대출 연장됨",
                        "namePascalCase": "LoanExtended",
                        "nameCamelCase": "loanExtended",
                        "namePlural": "",
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                        "author": null,
                        "aggregate": {},
                        "boundedContext": {},
                        "fieldDescriptors": [
                            {
                                "_type": "org.uengine.model.FieldDescriptor",
                                "name": "id",
                                "className": "Long",
                                "nameCamelCase": "id",
                                "namePascalCase": "Id",
                                "isKey": true
                            }
                        ],
                        "mirrorElement": null,
                        "elementView": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                            "x": 900,
                            "y": 400,
                            "width": 100,
                            "height": 100,
                            "style": "{}",
                            "angle": 0
                        },
                        "hexagonalView": {
                            "_type": "org.uengine.modeling.model.EventHexagonal",
                            "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                            "x": 900,
                            "y": 400,
                            "subWidth": 100,
                            "width": 20,
                            "height": 20,
                            "style": "{}"
                        },
                        "relationPolicyInfo": [],
                        "relationCommandInfo": [],
                        "trigger": "@PostPersist"
                    }
                },
                "relations": {
                    "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                        "to": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                        "description": "",
                        "relationView": {
                            "id": "094e1cd1-4d3e-739c-83f2-a4fbd6655d7f",
                            "value": "[[0,275],[2000,275]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,275],[2000,275]]"
                    },
                    "9700580c-1970-b461-ad81-676a95123e95": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "9700580c-1970-b461-ad81-676a95123e95",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "9700580c-1970-b461-ad81-676a95123e95",
                        "to": "9700580c-1970-b461-ad81-676a95123e95",
                        "description": "",
                        "relationView": {
                            "id": "9700580c-1970-b461-ad81-676a95123e95",
                            "value": "[[0,525],[2000,525]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,525],[2000,525]]"
                    },
                    "887ca9dd-3cb0-8764-9176-787875c4f6ed": {
                        "_type": "org.uengine.modeling.model.Line",
                        "id": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                        "name": "",
                        "author": null,
                        "oldName": "",
                        "displayName": "",
                        "from": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                        "to": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                        "description": "",
                        "relationView": {
                            "id": "887ca9dd-3cb0-8764-9176-787875c4f6ed",
                            "value": "[[0,775],[2000,775]]"
                        },
                        "size": 10,
                        "color": "#cccccc",
                        "dashStyle": "3,3",
                        "imgSrc": "https://www.msaez.io:8081/static/image/symbol/edge.png",
                        "vertices": "[[0,775],[2000,775]]"
                    },
                    "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d",
                        "name": "1",
                        "displayName": "1",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                            "visibility": "public",
                            "name": "BookRegistered",
                            "oldName": "",
                            "displayName": "도서 등록됨",
                            "namePascalCase": "BookRegistered",
                            "nameCamelCase": "bookRegistered",
                            "namePlural": "",
                            "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                "x": 300,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                                "x": 300,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                        "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "relationView": {
                            "id": "2bc8c8c5-c18d-754d-f9de-f1a1b02b251d",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "39e955bb-2889-13ee-43d6-f9c04704e8aa",
                            "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "needReconnect": true
                        }
                    },
                    "e7b7a299-3bb1-4f1b-eb11-203907e78050": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "e7b7a299-3bb1-4f1b-eb11-203907e78050",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                            "visibility": "public",
                            "name": "BookDisposed",
                            "oldName": "",
                            "displayName": "도서 폐기됨",
                            "namePascalCase": "BookDisposed",
                            "nameCamelCase": "bookDisposed",
                            "namePlural": "",
                            "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                "x": 500,
                                "y": 150,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "4006544a-46e2-20b3-091f-ace9dbf97109",
                                "x": 500,
                                "y": 150,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "to": "4006544a-46e2-20b3-091f-ace9dbf97109",
                        "relationView": {
                            "id": "e7b7a299-3bb1-4f1b-eb11-203907e78050",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "to": "4006544a-46e2-20b3-091f-ace9dbf97109",
                            "needReconnect": true
                        }
                    },
                    "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "to": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                        "relationView": {
                            "id": "88615bd2-d1b2-b3b1-25e0-6689ab67d1cc",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "to": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "needReconnect": true
                        }
                    },
                    "4f2622e1-9dfb-5148-36ba-afcac0ed7d24": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "4f2622e1-9dfb-5148-36ba-afcac0ed7d24",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "to": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                        "relationView": {
                            "id": "4f2622e1-9dfb-5148-36ba-afcac0ed7d24",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "to": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "needReconnect": true
                        }
                    },
                    "4eee1503-8fa4-4772-1e34-da7c19530d77": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "4eee1503-8fa4-4772-1e34-da7c19530d77",
                        "name": "2",
                        "displayName": "2",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "to": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                        "relationView": {
                            "id": "4eee1503-8fa4-4772-1e34-da7c19530d77",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "to": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "needReconnect": true
                        }
                    },
                    "3f64b1d9-2d58-a122-c89d-5e21269c65d0": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "3f64b1d9-2d58-a122-c89d-5e21269c65d0",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                        "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "relationView": {
                            "id": "3f64b1d9-2d58-a122-c89d-5e21269c65d0",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "needReconnect": true
                        }
                    },
                    "b0053bd9-ddb5-d979-2c68-73594113884d": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "b0053bd9-ddb5-d979-2c68-73594113884d",
                        "name": "4",
                        "displayName": "4",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "visibility": "public",
                            "name": "BookLoaned",
                            "oldName": "",
                            "displayName": "도서 대출됨",
                            "namePascalCase": "BookLoaned",
                            "nameCamelCase": "bookLoaned",
                            "namePlural": "",
                            "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                                "x": 300,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                        "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                        "relationView": {
                            "id": "b0053bd9-ddb5-d979-2c68-73594113884d",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "2c5c3155-2cbe-acad-a41c-18c2ac2583ec",
                            "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "needReconnect": true
                        }
                    },
                    "dad1d9f6-5f71-119b-8c0b-434de6999a38": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "dad1d9f6-5f71-119b-8c0b-434de6999a38",
                        "name": "5",
                        "displayName": "5",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                        "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "relationView": {
                            "id": "dad1d9f6-5f71-119b-8c0b-434de6999a38",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "needReconnect": true
                        }
                    },
                    "dc3314ec-1557-1670-7d19-baf4c789345c": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "dc3314ec-1557-1670-7d19-baf4c789345c",
                        "name": "5",
                        "displayName": "5",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "visibility": "public",
                            "name": "BookReserved",
                            "oldName": "",
                            "displayName": "도서 예약됨",
                            "namePascalCase": "BookReserved",
                            "nameCamelCase": "bookReserved",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                                "x": 500,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                            "visibility": "public",
                            "name": "ReservationHistoryRecorded",
                            "oldName": "",
                            "displayName": "예약 이력 기록됨",
                            "namePascalCase": "ReservationHistoryRecorded",
                            "nameCamelCase": "reservationHistoryRecorded",
                            "namePlural": "",
                            "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                "x": 700,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                                "x": 700,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                        "to": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                        "relationView": {
                            "id": "dc3314ec-1557-1670-7d19-baf4c789345c",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "dae2e159-2892-5ae3-3f28-f7ca33ca3b86",
                            "to": "f86575ae-5efb-bb6e-9570-f8b02222054f",
                            "needReconnect": true
                        }
                    },
                    "b944f399-015b-20b1-c3eb-d5946655fa55": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "b944f399-015b-20b1-c3eb-d5946655fa55",
                        "name": "6",
                        "displayName": "6",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "visibility": "public",
                            "name": "BookStatusChanged",
                            "oldName": "",
                            "displayName": "도서 상태 변경됨",
                            "namePascalCase": "BookStatusChanged",
                            "nameCamelCase": "bookStatusChanged",
                            "namePlural": "",
                            "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                                "x": 300,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                        "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                        "relationView": {
                            "id": "b944f399-015b-20b1-c3eb-d5946655fa55",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "to": "33d20dfd-41e2-329f-f21e-d951acc196dc",
                            "needReconnect": true
                        }
                    },
                    "fed722e6-a0ed-dd78-9879-cc88f4462b04": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "fed722e6-a0ed-dd78-9879-cc88f4462b04",
                        "name": "6",
                        "displayName": "6",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "visibility": "public",
                            "name": "BookReturned",
                            "oldName": "",
                            "displayName": "도서 반납됨",
                            "namePascalCase": "BookReturned",
                            "nameCamelCase": "bookReturned",
                            "namePlural": "",
                            "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                                "x": 700,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                        "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                        "relationView": {
                            "id": "fed722e6-a0ed-dd78-9879-cc88f4462b04",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "259c838a-8e2b-4d53-e282-92e7b9f4c351",
                            "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "needReconnect": true
                        }
                    },
                    "48ef4437-9749-5751-7bd6-c2c24becf15b": {
                        "_type": "org.uengine.modeling.model.Relation",
                        "id": "48ef4437-9749-5751-7bd6-c2c24becf15b",
                        "name": "7",
                        "displayName": "7",
                        "sourceElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                            "visibility": "public",
                            "name": "LoanExtended",
                            "oldName": "",
                            "displayName": "대출 연장됨",
                            "namePascalCase": "LoanExtended",
                            "nameCamelCase": "loanExtended",
                            "namePlural": "",
                            "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                "x": 900,
                                "y": 400,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                                "x": 900,
                                "y": 400,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "targetElement": {
                            "_type": "org.uengine.modeling.model.Event",
                            "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "visibility": "public",
                            "name": "LoanHistoryRecorded",
                            "oldName": "",
                            "displayName": "대출 이력 기록됨",
                            "namePascalCase": "LoanHistoryRecorded",
                            "nameCamelCase": "loanHistoryRecorded",
                            "namePlural": "",
                            "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                            "author": null,
                            "aggregate": {},
                            "boundedContext": {},
                            "fieldDescriptors": [
                                {
                                    "_type": "org.uengine.model.FieldDescriptor",
                                    "name": "id",
                                    "className": "Long",
                                    "nameCamelCase": "id",
                                    "namePascalCase": "Id",
                                    "isKey": true
                                }
                            ],
                            "mirrorElement": null,
                            "elementView": {
                                "_type": "org.uengine.modeling.model.Event",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "width": 100,
                                "height": 100,
                                "style": "{}",
                                "angle": 0
                            },
                            "hexagonalView": {
                                "_type": "org.uengine.modeling.model.EventHexagonal",
                                "id": "502ba06b-125d-e2ba-b615-073e706b6993",
                                "x": 500,
                                "y": 650,
                                "subWidth": 100,
                                "width": 20,
                                "height": 20,
                                "style": "{}"
                            },
                            "relationPolicyInfo": [],
                            "relationCommandInfo": [],
                            "trigger": "@PostPersist"
                        },
                        "from": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                        "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                        "relationView": {
                            "id": "48ef4437-9749-5751-7bd6-c2c24becf15b",
                            "style": "{\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke\":\"grey\",\"stroke-width\":\"1.4\",\"font-size\":\"12px\",\"font-weight\":\"bold\"}",
                            "value": null,
                            "from": "7e5e2488-3c94-6b60-2dde-a60fb11834fa",
                            "to": "502ba06b-125d-e2ba-b615-073e706b6993",
                            "needReconnect": true
                        }
                    }
                }
            },
            "analysisResult": {
                "recommendedBoundedContextsNumber": 4,
                "reasonOfRecommendedBoundedContextsNumber": "1) 추천하는 바운디드 컨텍스트는 다음과 같습니다: (1) 도서 관리(Book Management), (2) 대출/반납 관리(Loan/Return Management), (3) 예약 관리(Reservation Management), (4) 이력/조회 관리(History/Inquiry Management). 2) 각 컨텍스트의 비즈니스 도메인과 책임은 다음과 같습니다: 도서 관리는 도서의 등록, 상태 변경, 폐기 등 도서 자체의 라이프사이클을 담당합니다. 대출/반납 관리는 회원 인증, 대출/반납/연장 등 도서의 이동과 관련된 프로세스를 담당합니다. 예약 관리는 대출 불가 시 예약 신청 및 예약 상태 전환을 담당합니다. 이력/조회 관리는 대출 및 상태 변경 이력의 기록과 조회를 담당합니다. 3) 바운디드 컨텍스트 수는 각 도메인의 명확한 책임 분리, 이벤트 복잡성, 그리고 액터 간 상호작용(예: 도서 담당자, 회원, 시스템)의 분리를 근거로 산정했습니다. 4) 각 컨텍스트는 실제 조직 내 역할 분리(예: 사서, 회원, 시스템 관리자) 및 업무 흐름(등록/대출/예약/이력 관리)과 일치하며, 유지보수성과 확장성을 높입니다.",
                "events": [
                    {
                        "name": "BookRegistered",
                        "displayName": "도서 등록됨",
                        "actor": "Librarian",
                        "level": 1,
                        "description": "사서가 새로운 도서를 등록하여 도서관 시스템에 추가하였음. 등록 시 도서명, ISBN, 저자, 출판사, 카테고리 정보를 입력받고, ISBN 중복 및 유효성 검증이 완료됨.",
                        "inputs": [
                            "도서명",
                            "ISBN(13자리)",
                            "저자",
                            "출판사",
                            "카테고리(소설/비소설/학술/잡지)"
                        ],
                        "outputs": [
                            "신규 도서 정보",
                            "도서 상태: 대출가능"
                        ],
                        "nextEvents": [
                            "BookStatusChanged"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    57
                                ],
                                [
                                    3,
                                    100
                                ]
                            ],
                            [
                                [
                                    3,
                                    105
                                ],
                                [
                                    3,
                                    128
                                ]
                            ],
                            [
                                [
                                    3,
                                    136
                                ],
                                [
                                    3,
                                    161
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookStatusChanged",
                        "displayName": "도서 상태 변경됨",
                        "actor": "System",
                        "level": 2,
                        "description": "도서의 대출/반납/예약/폐기 등 상태 변화가 발생하여 도서 상태가 자동 또는 수동으로 변경됨.",
                        "inputs": [
                            "도서 상태 변경 트리거(대출, 반납, 예약, 폐기 등)",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "변경된 도서 상태"
                        ],
                        "nextEvents": [
                            "BookDisposed",
                            "BookLoaned",
                            "BookReturned",
                            "BookReserved"
                        ],
                        "refs": [
                            [
                                [
                                    3,
                                    191
                                ],
                                [
                                    3,
                                    238
                                ]
                            ],
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ],
                            [
                                [
                                    7,
                                    150
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookDisposed",
                        "displayName": "도서 폐기됨",
                        "actor": "Librarian",
                        "level": 3,
                        "description": "도서가 훼손 또는 분실되어 사서에 의해 폐기 처리됨. 폐기된 도서는 더 이상 대출이 불가능함.",
                        "inputs": [
                            "도서 식별자",
                            "폐기 사유"
                        ],
                        "outputs": [
                            "도서 상태: 폐기"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    3,
                                    264
                                ],
                                [
                                    3,
                                    302
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookLoaned",
                        "displayName": "도서 대출됨",
                        "actor": "Member",
                        "level": 4,
                        "description": "회원이 도서 대출을 신청하고, 회원 인증 및 도서 상태 확인 후 대출이 승인됨. 대출 기간이 설정되고 도서 상태가 '대출중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "이름",
                            "도서 식별자",
                            "대출 기간(7/14/30일)"
                        ],
                        "outputs": [
                            "대출 정보",
                            "도서 상태: 대출중"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    49
                                ],
                                [
                                    5,
                                    91
                                ]
                            ],
                            [
                                [
                                    5,
                                    59
                                ],
                                [
                                    5,
                                    77
                                ]
                            ],
                            [
                                [
                                    5,
                                    43
                                ],
                                [
                                    5,
                                    126
                                ]
                            ],
                            [
                                [
                                    5,
                                    198
                                ],
                                [
                                    5,
                                    235
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReserved",
                        "displayName": "도서 예약됨",
                        "actor": "Member",
                        "level": 5,
                        "description": "회원이 대출 중인 도서에 대해 예약을 신청함. 예약이 완료되면 도서 상태가 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "예약 정보",
                            "도서 상태: 예약중"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "ReservationHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    5,
                                    183
                                ],
                                [
                                    5,
                                    193
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "BookReturned",
                        "displayName": "도서 반납됨",
                        "actor": "Member",
                        "level": 6,
                        "description": "회원이 대출한 도서를 반납함. 반납 시 도서 상태가 '대출가능'으로 변경되고, 예약자가 있을 경우 '예약중'으로 변경됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자"
                        ],
                        "outputs": [
                            "도서 상태: 대출가능 또는 예약중",
                            "반납 처리 정보"
                        ],
                        "nextEvents": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    133
                                ],
                                [
                                    7,
                                    167
                                ]
                            ],
                            [
                                [
                                    7,
                                    167
                                ],
                                [
                                    7,
                                    175
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanExtended",
                        "displayName": "대출 연장됨",
                        "actor": "Member",
                        "level": 7,
                        "description": "회원이 대출 중인 도서의 대출 기간을 연장함. 연장 후 대출 정보와 반납 예정일이 갱신됨.",
                        "inputs": [
                            "회원번호",
                            "도서 식별자",
                            "연장 기간"
                        ],
                        "outputs": [
                            "갱신된 대출 정보",
                            "새 반납 예정일"
                        ],
                        "nextEvents": [
                            "LoanHistoryRecorded"
                        ],
                        "refs": [
                            [
                                [
                                    7,
                                    109
                                ],
                                [
                                    7,
                                    124
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "LoanHistoryRecorded",
                        "displayName": "대출 이력 기록됨",
                        "actor": "System",
                        "level": 8,
                        "description": "도서의 대출, 반납, 연장 등 대출 관련 이력이 시스템에 기록됨.",
                        "inputs": [
                            "대출/반납/연장 이벤트 정보"
                        ],
                        "outputs": [
                            "대출 이력 데이터"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    8
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    },
                    {
                        "name": "ReservationHistoryRecorded",
                        "displayName": "예약 이력 기록됨",
                        "actor": "System",
                        "level": 9,
                        "description": "도서 예약 관련 이력이 시스템에 기록됨.",
                        "inputs": [
                            "예약 이벤트 정보"
                        ],
                        "outputs": [
                            "예약 이력 데이터"
                        ],
                        "nextEvents": [],
                        "refs": [
                            [
                                [
                                    9,
                                    15
                                ],
                                [
                                    9,
                                    65
                                ]
                            ]
                        ]
                    }
                ],
                "actors": [
                    {
                        "name": "Librarian",
                        "events": [
                            "BookRegistered",
                            "BookDisposed"
                        ],
                        "lane": 0
                    },
                    {
                        "name": "Member",
                        "events": [
                            "BookLoaned",
                            "BookReserved",
                            "BookReturned",
                            "LoanExtended"
                        ],
                        "lane": 1
                    },
                    {
                        "name": "System",
                        "events": [
                            "BookStatusChanged",
                            "LoanHistoryRecorded",
                            "ReservationHistoryRecorded"
                        ],
                        "lane": 2
                    }
                ]
            },
            "currentGeneratedLength": 5107
        }
    }
}